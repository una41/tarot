@use 'variable' as *;
@use 'mixin' as *;

// 위키 컬러
$wiki_primary: #6a4e9c;
$wiki_primary_light: #a78bfa;

.wiki {
	@include setCont(100%, 100dvh, block, relative, #fafafa);
	min-height: 100vh;

	// 접근 거부
	.denied {
		@include setCont(100%, 100dvh, flex);
		flex-direction: column;
		justify-content: center;
		align-items: center;
		padding: 20px;
		text-align: center;
		background: #fff;
		.icon {
			font-size: 64px;
			margin-bottom: 20px;
		}
		.tit {
			@include font(24, 32, #333, $bold);
			margin-bottom: 10px;
		}
		.txt {
			@include font(16, 24, #666);
			margin-bottom: 30px;
		}
		.btn_back {
			padding: 12px 32px;
			background: $wiki_primary;
			color: #fff;
			border: none;
			border-radius: 8px;
			@include font(16, 16, #fff, $bold);
			cursor: pointer;
			transition: all 300ms;
			&:hover {
				background: $wiki_primary_light;
			}
		}
	}

	// 헤더
	.header {
		@include setCont(100%, 60px, flex, relative, #fff);
		padding: 0 24px;
		justify-content: space-between;
		align-items: center;
		border-bottom: 3px solid $wiki_primary;
		@include mobile {
			height: 50px;
			padding: 0 16px;
		}
		.logo {
			@include font(24, 24, $wiki_primary, $bold);
			letter-spacing: -0.5px;
			margin-top: -2px;
			display: block;
			@include mobile {
				@include font(20, 20);
			}
		}
		.btn_back {
			padding: 8px 20px;
			background: #fff;
			color: $wiki_primary;
			border: 1px solid $wiki_primary;
			border-radius: 20px;
			@include font(14, 14, $wiki_primary, $medi);
			cursor: pointer;
			transition: all 300ms;
			&:hover {
				background: $wiki_primary;
				color: #fff;
			}
			@include mobile {
				padding: 6px 14px;
				@include font(12, 12);
			}
		}
	}

	// 바디
	.body {
		@include setCont(100%, calc(100dvh - 60px), flex, relative);
		@include mobile {
			height: calc(100dvh - 50px);
		}
	}

	// 오버레이
	.overlay {
		display: none;
		@include mobile {
			@include setCont(100%, 100%, block, fixed, rgba(0, 0, 0, 0.5));
			top: 0;
			left: 0;
			z-index: 99;
			opacity: 0;
			visibility: hidden;
			transition: all 300ms;
			&.on {
				opacity: 1;
				visibility: visible;
			}
		}
	}

	// 사이드바
	.sidebar {
		@include setCont(280px, 100%, flex, relative, #fff);
		min-width: 280px;
		flex-direction: column;
		border-right: 1px solid #e5e5e5;
		.btn_toggle {
			display: none;
		}
		@include mobile {
			@include setCont(280px, 100%, flex, fixed, #fff);
			top: 50px;
			left: 0;
			height: calc(100dvh - 50px);
			z-index: 100;
			transform: translateX(-100%);
			transition: transform 300ms ease;
			border-right: none;
			box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
			&.on {
				transform: translateX(0);
				.btn_toggle {
					&::after {
						transform: translateY(-50%) rotate(180deg);
					}
				}
			}
			.btn_toggle {
				@include setCont(24px, 60px, flex, absolute, $wiki_primary);
				top: 50%;
				right: -24px;
				transform: translateY(-50%);
				border: none;
				border-radius: 0 8px 8px 0;
				cursor: pointer;
				z-index: 101;
				justify-content: center;
				align-items: center;
				box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
				&::after {
					@include setCont(0, 0, block);
					border-top: 6px solid transparent;
					border-bottom: 6px solid transparent;
					border-left: 8px solid #fff;
					transition: transform 300ms;
				}
			}
		}
	}

	// 검색
	.search {
		padding: 16px;
		border-bottom: 1px solid #999;
		.ipt_search {
			@include setCont(100%, 42px);
			padding: 0 14px;
			background: #fff;
			border: 1px solid $wiki_primary;
			border-radius: 8px;
			@include font(14, 42, #333);
			transition: all 300ms;
			&::placeholder {
				color: #444;
			}
			&:focus {
				border-color: $wiki_primary;
				box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
				outline: none;
			}
		}
	}

	// 네비게이션
	.nav {
		flex: 1;
		overflow-y: auto;
		padding: 8px 0;
		@include scroll;
	}

	.nav_group {
		margin-bottom: 4px;
	}

	// 아코디언 카테고리 헤더
	.nav_category_header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 0 16px;
		height: 42px;
		@include font(12, 12, #fff, $bold);
		background: $wiki_primary;
		border-left: 3px solid #bb95ff;
		letter-spacing: 0.5px;
		cursor: pointer;
		user-select: none;
		transition: background 200ms;
		&:hover {
			opacity: 0.9;
		}
	}

	.nav_category {
		flex: 1;
	}

	.nav_category_arrow {
		font-size: 10px;
		color: #fff;
		transition: transform 200ms;
	}

	.nav_list {
		list-style: none;
		padding: 0;
		margin: 0;
		li {
			padding: 10px 16px 10px 22px;
			@include font(14, 20, #555);
			cursor: pointer;
			transition: all 200ms;
			border-bottom: 1px solid #f5f5f5;
			&:hover {
				background: #f8f5ff;
				color: $wiki_primary;
				padding-left: 26px;
			}
			&.active {
				background: #e1daf1;
				color: #2f165b;
				font-weight: $medi;
				border-left:none;
			}
		}
	}

	// 아코디언 애니메이션
	.slide-enter-active,
	.slide-leave-active {
		transition: all 300ms ease;
		max-height: 500px;
		overflow: hidden;
	}

	.slide-enter-from,
	.slide-leave-to {
		max-height: 0;
		opacity: 0;
		transform: translateY(-10px);
	}

	.nav_empty {
		padding: 20px 16px;
		text-align: center;
		@include font(14, 20, #999);
	}

	// 컨텐츠
	.wrap_wiki {
		flex: 1;
		padding: 24px;
		overflow-y: auto;
		background: #fafafa;
		@include scroll;
		@include mobile {
			padding: 16px;
		}
	}

	.container {
		@include setCont(100%, auto, block, relative, #fff);
		padding: 32px 40px;
		border-radius: 12px;
		min-height: 100%;
		border: 1px solid #e5e5e5;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
		@include mobile {
			padding: 20px;
		}
	}

	.txt_cate {
		display: inline-block;
		padding: 4px 12px;
		background: #f8f5ff;
		@include font(12, 12, $wiki_primary, $medi);
		border-radius: 20px;
		border: 1px solid rgba(124, 58, 237, 0.2);
		margin-bottom: 12px;
	}

	h2{
		@include font(26, 34, #333, $bold);
		margin-bottom: 24px;
		padding-bottom: 16px;
		border-bottom: 2px solid $wiki_primary;
		@include mobile {
			@include font(22, 30);
		}
	}

	.contents {
		@include font(15, 28, #444);
		word-break: keep-all;
		column-count: 2;
		column-gap: 35px;
		column-rule: 1px solid #ccc;
		@media (max-width: 1000px) {
			column-count: unset;
		}
		:deep(br) {
			display: block;
			content: '';
			margin-bottom: 12px;
		}
		&.empty {
			@include setCont(100%, 100%, flex);
			flex-direction: column;
			justify-content: center;
			align-items: center;
			min-height: 400px;
			.icon {
				font-size: 64px;
				margin-bottom: 16px;
				opacity: 0.4;
			}
			.txt {
				@include font(16, 24, #999);
			}
		}
		.unit {
			&+.unit {
				margin-top: 30px;
			}
			.item+.item {
				margin-top: 30px;
			}
			li{
			}
			dl{
				display: flex;
				align-items: flex-start;
				dt{
					display: inline-block;
					margin-right: 6px;
					font-weight: $bold;
					flex-shrink: 1;
				}
				dd{
					display: inline-block;
				}
			}
		}
		h3{
			@include font(16, 28, #444);
		}
		.u_cont{
			@include font(15, 26s, #444);
		}
	}

	.txt_bg, .tag{
		@include font(12, normal, #fff, $medi);
		padding: 4px 6px 5px;
		border-radius: 5px;
		display: inline-block;
		background: #aaa;
		&.bad{
			background: #f35757;
		}
		&.good{
			background: #469c84;
		}
		&.normal{
			background: #aaa;
		}
	}

	// 트랜지션
	.fade-enter-active,	.fade-leave-active {
		transition: opacity 200ms ease;
	}
	.fade-enter-from,	.fade-leave-to {
		opacity: 0;
	}
	.bx_img{
		@include setCont(200px, 353px);
		background-size: 105% !important;
		border: 3px solid #b1a8a1;
		background-position: 50% 50% !important;
		// background-size: 103% !important;
		overflow: hidden;
		border-radius: 7px;
		margin: 0 auto 30px;
		box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
		@include mobile{
			margin: 0 auto;
		}
		.img{
			width: 100%;
		}
	}
	.wands, .cups{
		.u7, .u8, .u9, .u10, .u11, .u12{
			dl{
				display: block;
				dt{
					display: block;
				}
				dd{
					display: block;

				}
			}
		}
		
		.u1,.u4,.u11, .u12{
			dt{
				display: none !important;
			}
		}
	}
}
