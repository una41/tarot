const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cnm9l_u8.js","./CNO0amz2.js","./error-404.2GhCpCfF.css","./Du2ZO-lt.js","./error-500.DqdIhFrl.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Me={},qs=[],Tn=()=>{},Am=()=>!1,Uo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ph=t=>t.startsWith("onUpdate:"),ht=Object.assign,gh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},VT=Object.prototype.hasOwnProperty,Ne=(t,e)=>VT.call(t,e),oe=Array.isArray,Ws=t=>wi(t)==="[object Map]",Ti=t=>wi(t)==="[object Set]",Td=t=>wi(t)==="[object Date]",xT=t=>wi(t)==="[object RegExp]",fe=t=>typeof t=="function",qe=t=>typeof t=="string",Cn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",mh=t=>(Ve(t)||fe(t))&&fe(t.then)&&fe(t.catch),Rm=Object.prototype.toString,wi=t=>Rm.call(t),LT=t=>wi(t).slice(8,-1),Sm=t=>wi(t)==="[object Object]",Vc=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ks=dh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},MT=/-\w/g,Zt=xc(t=>t.replace(MT,e=>e.slice(1).toUpperCase())),FT=/\B([A-Z])/g,qr=xc(t=>t.replace(FT,"-$1").toLowerCase()),Lc=xc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pl=xc(t=>t?`on${Lc(t)}`:""),Sr=(t,e)=>!Object.is(t,e),Gs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cm=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Mc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Pm=t=>{const e=qe(t)?Number(t):NaN;return isNaN(e)?t:e};let wd;const Fc=()=>wd||(wd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uc(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=qe(r)?HT(r):Uc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(qe(t)||Ve(t))return t}const UT=/;(?![^(]*\))/g,BT=/:([^]+)/,jT=/\/\*[^]*?\*\//g;function HT(t){const e={};return t.replace(jT,"").split(UT).forEach(n=>{if(n){const r=n.split(BT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ds(t){let e="";if(qe(t))e=t;else if(oe(t))for(let n=0;n<t.length;n++){const r=ds(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function $T(t){if(!t)return null;let{class:e,style:n}=t;return e&&!qe(e)&&(t.class=ds(e)),n&&(t.style=Uc(n)),t}const qT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WT=dh(qT);function km(t){return!!t||t===""}function KT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ps(t[r],e[r]);return n}function ps(t,e){if(t===e)return!0;let n=Td(t),r=Td(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Cn(t),r=Cn(e),n||r)return t===e;if(n=oe(t),r=oe(e),n||r)return n&&r?KT(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(c&&!l||!c&&l||!ps(t[o],e[o]))return!1}}return String(t)===String(e)}function _h(t,e){return t.findIndex(n=>ps(n,e))}const Nm=t=>!!(t&&t.__v_isRef===!0),sn=t=>qe(t)?t:t==null?"":oe(t)||Ve(t)&&(t.toString===Rm||!fe(t.toString))?Nm(t)?sn(t.value):JSON.stringify(t,Om,2):String(t),Om=(t,e)=>Nm(e)?Om(t,e.value):Ws(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[kl(r,i)+" =>"]=s,n),{})}:Ti(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>kl(n))}:Cn(e)?kl(e):Ve(e)&&!oe(e)&&!Sm(e)?String(e):e,kl=(t,e="")=>{var n;return Cn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let wt;class Dm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!e&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=wt;try{return wt=this,e()}finally{wt=n}}}on(){++this._on===1&&(this.prevScope=wt,wt=this)}off(){this._on>0&&--this._on===0&&(wt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function yh(t){return new Dm(t)}function Eh(){return wt}function GT(t,e=!1){wt&&wt.cleanups.push(t)}let Fe;const Nl=new WeakSet;class Vm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nl.has(this)&&(Nl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Lm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Id(this),Mm(this);const e=Fe,n=cn;Fe=this,cn=!0;try{return this.fn()}finally{Fm(this),Fe=e,cn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wh(e);this.deps=this.depsTail=void 0,Id(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uu(this)&&this.run()}get dirty(){return uu(this)}}let xm=0,ao,co;function Lm(t,e=!1){if(t.flags|=8,e){t.next=co,co=t;return}t.next=ao,ao=t}function vh(){xm++}function Th(){if(--xm>0)return;if(co){let e=co;for(co=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ao;){let e=ao;for(ao=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Mm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Fm(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),wh(r),zT(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function uu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Um(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Um(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wo)||(t.globalVersion=wo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!uu(t))))return;t.flags|=2;const e=t.dep,n=Fe,r=cn;Fe=t,cn=!0;try{Mm(t);const s=t.fn(t._value);(e.version===0||Sr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Fe=n,cn=r,Fm(t),t.flags&=-3}}function wh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)wh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function zT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let cn=!0;const Bm=[];function zn(){Bm.push(cn),cn=!1}function Qn(){const t=Bm.pop();cn=t===void 0?!0:t}function Id(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let wo=0;class QT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ih{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Fe||!cn||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new QT(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,jm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=r)}return n}trigger(e){this.version++,wo++,this.notify(e)}notify(e){vh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Th()}}}function jm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)jm(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ga=new WeakMap,cs=Symbol(""),hu=Symbol(""),Io=Symbol("");function bt(t,e,n){if(cn&&Fe){let r=Ga.get(t);r||Ga.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ih),s.map=r,s.key=n),s.track()}}function Bn(t,e,n,r,s,i){const o=Ga.get(t);if(!o){wo++;return}const c=l=>{l&&l.trigger()};if(vh(),e==="clear")o.forEach(c);else{const l=oe(t),h=l&&Vc(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,g)=>{(g==="length"||g===Io||!Cn(g)&&g>=u)&&c(d)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(Io)),e){case"add":l?h&&c(o.get("length")):(c(o.get(cs)),Ws(t)&&c(o.get(hu)));break;case"delete":l||(c(o.get(cs)),Ws(t)&&c(o.get(hu)));break;case"set":Ws(t)&&c(o.get(cs));break}}Th()}function JT(t,e){const n=Ga.get(t);return n&&n.get(e)}function Ds(t){const e=Re(t);return e===t?e:(bt(e,"iterate",Io),qt(t)?e:e.map(un))}function Bc(t){return bt(t=Re(t),"iterate",Io),t}function mr(t,e){return Pn(t)?wn(t)?ri(un(e)):ri(e):un(e)}const YT={__proto__:null,[Symbol.iterator](){return Ol(this,Symbol.iterator,t=>mr(this,t))},concat(...t){return Ds(this).concat(...t.map(e=>oe(e)?Ds(e):e))},entries(){return Ol(this,"entries",t=>(t[1]=mr(this,t[1]),t))},every(t,e){return Vn(this,"every",t,e,void 0,arguments)},filter(t,e){return Vn(this,"filter",t,e,n=>n.map(r=>mr(this,r)),arguments)},find(t,e){return Vn(this,"find",t,e,n=>mr(this,n),arguments)},findIndex(t,e){return Vn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Vn(this,"findLast",t,e,n=>mr(this,n),arguments)},findLastIndex(t,e){return Vn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Vn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Dl(this,"includes",t)},indexOf(...t){return Dl(this,"indexOf",t)},join(t){return Ds(this).join(t)},lastIndexOf(...t){return Dl(this,"lastIndexOf",t)},map(t,e){return Vn(this,"map",t,e,void 0,arguments)},pop(){return Ki(this,"pop")},push(...t){return Ki(this,"push",t)},reduce(t,...e){return bd(this,"reduce",t,e)},reduceRight(t,...e){return bd(this,"reduceRight",t,e)},shift(){return Ki(this,"shift")},some(t,e){return Vn(this,"some",t,e,void 0,arguments)},splice(...t){return Ki(this,"splice",t)},toReversed(){return Ds(this).toReversed()},toSorted(t){return Ds(this).toSorted(t)},toSpliced(...t){return Ds(this).toSpliced(...t)},unshift(...t){return Ki(this,"unshift",t)},values(){return Ol(this,"values",t=>mr(this,t))}};function Ol(t,e,n){const r=Bc(t),s=r[e]();return r!==t&&!qt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const XT=Array.prototype;function Vn(t,e,n,r,s,i){const o=Bc(t),c=o!==t&&!qt(t),l=o[e];if(l!==XT[e]){const d=l.apply(t,i);return c?un(d):d}let h=n;o!==t&&(c?h=function(d,g){return n.call(this,mr(t,d),g,t)}:n.length>2&&(h=function(d,g){return n.call(this,d,g,t)}));const u=l.call(o,h,r);return c&&s?s(u):u}function bd(t,e,n,r){const s=Bc(t);let i=n;return s!==t&&(qt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,mr(t,c),l,t)}),s[e](i,...r)}function Dl(t,e,n){const r=Re(t);bt(r,"iterate",Io);const s=r[e](...n);return(s===-1||s===!1)&&jc(n[0])?(n[0]=Re(n[0]),r[e](...n)):s}function Ki(t,e,n=[]){zn(),vh();const r=Re(t)[e].apply(t,n);return Th(),Qn(),r}const ZT=dh("__proto__,__v_isRef,__isVue"),Hm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Cn));function ew(t){Cn(t)||(t=String(t));const e=Re(this);return bt(e,"has",t),e.hasOwnProperty(t)}class $m{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?uw:Gm:i?Km:Wm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=oe(e);if(!s){let l;if(o&&(l=YT[n]))return l;if(n==="hasOwnProperty")return ew}const c=Reflect.get(e,n,$e(e)?e:r);if((Cn(n)?Hm.has(n):ZT(n))||(s||bt(e,"get",n),i))return c;if($e(c)){const l=o&&Vc(n)?c:c.value;return s&&Ve(l)?du(l):l}return Ve(c)?s?du(c):tr(c):c}}class qm extends $m{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=oe(e)&&Vc(n);if(!this._isShallow){const h=Pn(i);if(!qt(r)&&!Pn(r)&&(i=Re(i),r=Re(r)),!o&&$e(i)&&!$e(r))return h||(i.value=r),!0}const c=o?Number(n)<e.length:Ne(e,n),l=Reflect.set(e,n,r,$e(e)?e:s);return e===Re(s)&&(c?Sr(r,i)&&Bn(e,"set",n,r):Bn(e,"add",n,r)),l}deleteProperty(e,n){const r=Ne(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Bn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Cn(n)||!Hm.has(n))&&bt(e,"has",n),r}ownKeys(e){return bt(e,"iterate",oe(e)?"length":cs),Reflect.ownKeys(e)}}class tw extends $m{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const nw=new qm,rw=new tw,sw=new qm(!0);const fu=t=>t,fa=t=>Reflect.getPrototypeOf(t);function iw(t,e,n){return function(...r){const s=this.__v_raw,i=Re(s),o=Ws(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=s[t](...r),u=n?fu:e?ri:un;return!e&&bt(i,"iterate",l?hu:cs),{next(){const{value:d,done:g}=h.next();return g?{value:d,done:g}:{value:c?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function da(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ow(t,e){const n={get(s){const i=this.__v_raw,o=Re(i),c=Re(s);t||(Sr(s,c)&&bt(o,"get",s),bt(o,"get",c));const{has:l}=fa(o),h=e?fu:t?ri:un;if(l.call(o,s))return h(i.get(s));if(l.call(o,c))return h(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&bt(Re(s),"iterate",cs),s.size},has(s){const i=this.__v_raw,o=Re(i),c=Re(s);return t||(Sr(s,c)&&bt(o,"has",s),bt(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=Re(c),h=e?fu:t?ri:un;return!t&&bt(l,"iterate",cs),c.forEach((u,d)=>s.call(i,h(u),h(d),o))}};return ht(n,t?{add:da("add"),set:da("set"),delete:da("delete"),clear:da("clear")}:{add(s){!e&&!qt(s)&&!Pn(s)&&(s=Re(s));const i=Re(this);return fa(i).has.call(i,s)||(i.add(s),Bn(i,"add",s,s)),this},set(s,i){!e&&!qt(i)&&!Pn(i)&&(i=Re(i));const o=Re(this),{has:c,get:l}=fa(o);let h=c.call(o,s);h||(s=Re(s),h=c.call(o,s));const u=l.call(o,s);return o.set(s,i),h?Sr(i,u)&&Bn(o,"set",s,i):Bn(o,"add",s,i),this},delete(s){const i=Re(this),{has:o,get:c}=fa(i);let l=o.call(i,s);l||(s=Re(s),l=o.call(i,s)),c&&c.call(i,s);const h=i.delete(s);return l&&Bn(i,"delete",s,void 0),h},clear(){const s=Re(this),i=s.size!==0,o=s.clear();return i&&Bn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=iw(s,t,e)}),n}function bh(t,e){const n=ow(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ne(n,s)&&s in r?n:r,s,i)}const aw={get:bh(!1,!1)},cw={get:bh(!1,!0)},lw={get:bh(!0,!1)};const Wm=new WeakMap,Km=new WeakMap,Gm=new WeakMap,uw=new WeakMap;function hw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fw(t){return t.__v_skip||!Object.isExtensible(t)?0:hw(LT(t))}function tr(t){return Pn(t)?t:Ah(t,!1,nw,aw,Wm)}function vn(t){return Ah(t,!1,sw,cw,Km)}function du(t){return Ah(t,!0,rw,lw,Gm)}function Ah(t,e,n,r,s){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=fw(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function wn(t){return Pn(t)?wn(t.__v_raw):!!(t&&t.__v_isReactive)}function Pn(t){return!!(t&&t.__v_isReadonly)}function qt(t){return!!(t&&t.__v_isShallow)}function jc(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function Rh(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Cm(t,"__v_skip",!0),t}const un=t=>Ve(t)?tr(t):t,ri=t=>Ve(t)?du(t):t;function $e(t){return t?t.__v_isRef===!0:!1}function lt(t){return zm(t,!1)}function si(t){return zm(t,!0)}function zm(t,e){return $e(t)?t:new dw(t,e)}class dw{constructor(e,n){this.dep=new Ih,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Re(e),this._value=n?e:un(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||qt(e)||Pn(e);e=r?e:Re(e),Sr(e,n)&&(this._rawValue=e,this._value=r?e:un(e),this.dep.trigger())}}function ce(t){return $e(t)?t.value:t}function pw(t){return fe(t)?t():ce(t)}const gw={get:(t,e,n)=>e==="__v_raw"?t:ce(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return $e(s)&&!$e(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Qm(t){return wn(t)?t:new Proxy(t,gw)}function mw(t){const e=oe(t)?new Array(t.length):{};for(const n in t)e[n]=Jm(t,n);return e}class _w{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Re(e);let s=!0,i=e;if(!oe(e)||!Vc(String(n)))do s=!jc(i)||qt(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=ce(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&$e(this._raw[this._key])){const n=this._object[this._key];if($e(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return JT(this._raw,this._key)}}class yw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ew(t,e,n){return $e(t)?t:fe(t)?new yw(t):Ve(t)&&arguments.length>1?Jm(t,e,n):lt(t)}function Jm(t,e,n){return new _w(t,e,n)}class vw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ih(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Lm(this,!0),!0}get value(){const e=this.dep.track();return Um(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Tw(t,e,n=!1){let r,s;return fe(t)?r=t:(r=t.get,s=t.set),new vw(r,s,n)}const pa={},za=new WeakMap;let rs;function ww(t,e=!1,n=rs){if(n){let r=za.get(n);r||za.set(n,r=[]),r.push(t)}}function Iw(t,e,n=Me){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,h=k=>s?k:qt(k)||s===!1||s===0?jn(k,1):jn(k);let u,d,g,m,A=!1,C=!1;if($e(t)?(d=()=>t.value,A=qt(t)):wn(t)?(d=()=>h(t),A=!0):oe(t)?(C=!0,A=t.some(k=>wn(k)||qt(k)),d=()=>t.map(k=>{if($e(k))return k.value;if(wn(k))return h(k);if(fe(k))return l?l(k,2):k()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(g){zn();try{g()}finally{Qn()}}const k=rs;rs=u;try{return l?l(t,3,[m]):t(m)}finally{rs=k}}:d=Tn,e&&s){const k=d,V=s===!0?1/0:s;d=()=>jn(k(),V)}const D=Eh(),O=()=>{u.stop(),D&&D.active&&gh(D.effects,u)};if(i&&e){const k=e;e=(...V)=>{k(...V),O()}}let N=C?new Array(t.length).fill(pa):pa;const w=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const V=u.run();if(s||A||(C?V.some((U,I)=>Sr(U,N[I])):Sr(V,N))){g&&g();const U=rs;rs=u;try{const I=[V,N===pa?void 0:C&&N[0]===pa?[]:N,m];N=V,l?l(e,3,I):e(...I)}finally{rs=U}}}else u.run()};return c&&c(w),u=new Vm(d),u.scheduler=o?()=>o(w,!1):w,m=k=>ww(k,!1,u),g=u.onStop=()=>{const k=za.get(u);if(k){if(l)l(k,4);else for(const V of k)V();za.delete(u)}},e?r?w(!0):N=u.run():o?o(w.bind(null,!0),!0):u.run(),O.pause=u.pause.bind(u),O.resume=u.resume.bind(u),O.stop=O,O}function jn(t,e=1/0,n){if(e<=0||!Ve(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,$e(t))jn(t.value,e,n);else if(oe(t))for(let r=0;r<t.length;r++)jn(t[r],e,n);else if(Ti(t)||Ws(t))t.forEach(r=>{jn(r,e,n)});else if(Sm(t)){for(const r in t)jn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&jn(t[r],e,n)}return t}function Bo(t,e,n,r){try{return r?t(...r):t()}catch(s){Ii(s,e,n)}}function hn(t,e,n,r){if(fe(t)){const s=Bo(t,e,n,r);return s&&mh(s)&&s.catch(i=>{Ii(i,e,n)}),s}if(oe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(hn(t[i],e,n,r));return s}}function Ii(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Me;if(e){let c=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const u=c.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,h)===!1)return}c=c.parent}if(i){zn(),Bo(i,null,10,[t,l,h]),Qn();return}}bw(t,n,s,r,o)}function bw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Ot=[];let _n=-1;const zs=[];let _r=null,Ls=0;const Ym=Promise.resolve();let Qa=null;function xr(t){const e=Qa||Ym;return t?e.then(this?t.bind(this):t):e}function Aw(t){let e=_n+1,n=Ot.length;for(;e<n;){const r=e+n>>>1,s=Ot[r],i=bo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Sh(t){if(!(t.flags&1)){const e=bo(t),n=Ot[Ot.length-1];!n||!(t.flags&2)&&e>=bo(n)?Ot.push(t):Ot.splice(Aw(e),0,t),t.flags|=1,Xm()}}function Xm(){Qa||(Qa=Ym.then(Zm))}function pu(t){oe(t)?zs.push(...t):_r&&t.id===-1?_r.splice(Ls+1,0,t):t.flags&1||(zs.push(t),t.flags|=1),Xm()}function Ad(t,e,n=_n+1){for(;n<Ot.length;n++){const r=Ot[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ot.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ja(t){if(zs.length){const e=[...new Set(zs)].sort((n,r)=>bo(n)-bo(r));if(zs.length=0,_r){_r.push(...e);return}for(_r=e,Ls=0;Ls<_r.length;Ls++){const n=_r[Ls];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_r=null,Ls=0}}const bo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zm(t){try{for(_n=0;_n<Ot.length;_n++){const e=Ot[_n];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Bo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;_n<Ot.length;_n++){const e=Ot[_n];e&&(e.flags&=-2)}_n=-1,Ot.length=0,Ja(),Qa=null,(Ot.length||zs.length)&&Zm()}}let $t=null,e_=null;function Ya(t){const e=$t;return $t=t,e_=t&&t.type.__scopeId||null,e}function Lr(t,e=$t,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&nc(-1);const i=Ya(e);let o;try{o=t(...s)}finally{Ya(i),r._d&&nc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Xi(t,e){if($t===null)return t;const n=zc($t),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=Me]=e[s];i&&(fe(i)&&(i={mounted:i,updated:i}),i.deep&&jn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function yn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(zn(),hn(l,n,8,[t.el,c,t,e]),Qn())}}function Cr(t,e){if(gt){let n=gt.provides;const r=gt.parent&&gt.parent.provides;r===n&&(n=gt.provides=Object.create(r)),n[t]=e}}function _t(t,e,n=!1){const r=Is();if(r||ls){let s=ls?ls._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}function Hc(){return!!(Is()||ls)}const Rw=Symbol.for("v-scx"),Sw=()=>_t(Rw);function Cw(t,e){return Ch(t,null,e)}function Wn(t,e,n){return Ch(t,e,n)}function Ch(t,e,n=Me){const{immediate:r,deep:s,flush:i,once:o}=n,c=ht({},n),l=e&&r||!e&&i!=="post";let h;if(ci){if(i==="sync"){const m=Sw();h=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Tn,m.resume=Tn,m.pause=Tn,m}}const u=gt;c.call=(m,A,C)=>hn(m,u,A,C);let d=!1;i==="post"?c.scheduler=m=>{at(m,u&&u.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(m,A)=>{A?m():Sh(m)}),c.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const g=Iw(t,e,c);return ci&&(h?h.push(g):l&&g()),g}function Pw(t,e,n){const r=this.proxy,s=qe(t)?t.includes(".")?t_(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const o=gs(this),c=Ch(s,i.bind(r),n);return o(),c}function t_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const kw=Symbol("_vte"),n_=t=>t.__isTeleport,Un=Symbol("_leaveCb"),ga=Symbol("_enterCb");function Nw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qc(()=>{t.isMounted=!0}),Ho(()=>{t.isUnmounting=!0}),t}const Kt=[Function,Array],r_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kt,onEnter:Kt,onAfterEnter:Kt,onEnterCancelled:Kt,onBeforeLeave:Kt,onLeave:Kt,onAfterLeave:Kt,onLeaveCancelled:Kt,onBeforeAppear:Kt,onAppear:Kt,onAfterAppear:Kt,onAppearCancelled:Kt},s_=t=>{const e=t.subTree;return e.component?s_(e.component):e},Ow={name:"BaseTransition",props:r_,setup(t,{slots:e}){const n=Is(),r=Nw();return()=>{const s=e.default&&a_(e.default(),!0);if(!s||!s.length)return;const i=i_(s),o=Re(t),{mode:c}=o;if(r.isLeaving)return Vl(i);const l=Rd(i);if(!l)return Vl(i);let h=gu(l,o,r,n,d=>h=d);l.type!==rt&&ii(l,h);let u=n.subTree&&Rd(n.subTree);if(u&&u.type!==rt&&!rn(u,l)&&s_(n).type!==rt){let d=gu(u,o,r,n);if(ii(u,d),c==="out-in"&&l.type!==rt)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Vl(i);c==="in-out"&&l.type!==rt?d.delayLeave=(g,m,A)=>{const C=o_(r,u);C[String(u.key)]=u,g[Un]=()=>{m(),g[Un]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{A(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function i_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rt){e=n;break}}return e}const Dw=Ow;function o_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function gu(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:m,onAfterLeave:A,onLeaveCancelled:C,onBeforeAppear:D,onAppear:O,onAfterAppear:N,onAppearCancelled:w}=e,k=String(t.key),V=o_(n,t),U=(_,T)=>{_&&hn(_,r,9,T)},I=(_,T)=>{const S=T[1];U(_,T),oe(_)?_.every(R=>R.length<=1)&&S():_.length<=1&&S()},y={mode:o,persisted:c,beforeEnter(_){let T=l;if(!n.isMounted)if(i)T=D||l;else return;_[Un]&&_[Un](!0);const S=V[k];S&&rn(t,S)&&S.el[Un]&&S.el[Un](),U(T,[_])},enter(_){let T=h,S=u,R=d;if(!n.isMounted)if(i)T=O||h,S=N||u,R=w||d;else return;let v=!1;const ue=_[ga]=ve=>{v||(v=!0,ve?U(R,[_]):U(S,[_]),y.delayedLeave&&y.delayedLeave(),_[ga]=void 0)};T?I(T,[_,ue]):ue()},leave(_,T){const S=String(t.key);if(_[ga]&&_[ga](!0),n.isUnmounting)return T();U(g,[_]);let R=!1;const v=_[Un]=ue=>{R||(R=!0,T(),ue?U(C,[_]):U(A,[_]),_[Un]=void 0,V[S]===t&&delete V[S])};V[S]=t,m?I(m,[_,v]):v()},clone(_){const T=gu(_,e,n,r,s);return s&&s(T),T}};return y}function Vl(t){if(jo(t))return t=Jn(t),t.children=null,t}function Rd(t){if(!jo(t))return n_(t.type)&&t.children?i_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&fe(n.default))return n.default()}}function ii(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ii(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function a_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Lt?(o.patchFlag&128&&s++,r=r.concat(a_(o.children,e,c))):(e||o.type!==rt)&&r.push(c!=null?Jn(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Wr(t,e){return fe(t)?ht({name:t.name},e,{setup:t}):t}function Ph(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Xa=new WeakMap;function Qs(t,e,n,r,s=!1){if(oe(t)){t.forEach((A,C)=>Qs(A,e&&(oe(e)?e[C]:e),n,r,s));return}if(Pr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Qs(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?zc(r.component):r.el,o=s?null:i,{i:c,r:l}=t,h=e&&e.r,u=c.refs===Me?c.refs={}:c.refs,d=c.setupState,g=Re(d),m=d===Me?Am:A=>Ne(g,A);if(h!=null&&h!==l){if(Sd(e),qe(h))u[h]=null,m(h)&&(d[h]=null);else if($e(h)){h.value=null;const A=e;A.k&&(u[A.k]=null)}}if(fe(l))Bo(l,c,12,[o,u]);else{const A=qe(l),C=$e(l);if(A||C){const D=()=>{if(t.f){const O=A?m(l)?d[l]:u[l]:l.value;if(s)oe(O)&&gh(O,i);else if(oe(O))O.includes(i)||O.push(i);else if(A)u[l]=[i],m(l)&&(d[l]=u[l]);else{const N=[i];l.value=N,t.k&&(u[t.k]=N)}}else A?(u[l]=o,m(l)&&(d[l]=o)):C&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const O=()=>{D(),Xa.delete(t)};O.id=-1,Xa.set(t,O),at(O,n)}else Sd(t),D()}}}function Sd(t){const e=Xa.get(t);e&&(e.flags|=8,Xa.delete(t))}let Cd=!1;const Vs=()=>{Cd||(console.error("Hydration completed but contains mismatches."),Cd=!0)},Vw=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",xw=t=>t.namespaceURI.includes("MathML"),ma=t=>{if(t.nodeType===1){if(Vw(t))return"svg";if(xw(t))return"mathml"}},Hs=t=>t.nodeType===8;function Lw(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:c,insert:l,createComment:h}}=t,u=(w,k)=>{if(!k.hasChildNodes()){n(null,w,k),Ja(),k._vnode=w;return}d(k.firstChild,w,null,null,null),Ja(),k._vnode=w},d=(w,k,V,U,I,y=!1)=>{y=y||!!k.dynamicChildren;const _=Hs(w)&&w.data==="[",T=()=>C(w,k,V,U,I,_),{type:S,ref:R,shapeFlag:v,patchFlag:ue}=k;let ve=w.nodeType;k.el=w,ue===-2&&(y=!1,k.dynamicChildren=null);let X=null;switch(S){case us:ve!==3?k.children===""?(l(k.el=s(""),o(w),w),X=w):X=T():(w.data!==k.children&&(Vs(),w.data=k.children),X=i(w));break;case rt:N(w)?(X=i(w),O(k.el=w.content.firstChild,w,V)):ve!==8||_?X=T():X=i(w);break;case Oa:if(_&&(w=i(w),ve=w.nodeType),ve===1||ve===3){X=w;const re=!k.children.length;for(let Z=0;Z<k.staticCount;Z++)re&&(k.children+=X.nodeType===1?X.outerHTML:X.data),Z===k.staticCount-1&&(k.anchor=X),X=i(X);return _?i(X):X}else T();break;case Lt:_?X=A(w,k,V,U,I,y):X=T();break;default:if(v&1)(ve!==1||k.type.toLowerCase()!==w.tagName.toLowerCase())&&!N(w)?X=T():X=g(w,k,V,U,I,y);else if(v&6){k.slotScopeIds=I;const re=o(w);if(_?X=D(w):Hs(w)&&w.data==="teleport start"?X=D(w,w.data,"teleport end"):X=i(w),e(k,re,null,V,U,ma(re),y),Pr(k)&&!k.type.__asyncResolved){let Z;_?(Z=He(Lt),Z.anchor=X?X.previousSibling:re.lastChild):Z=w.nodeType===3?rc(""):He("div"),Z.el=w,k.component.subTree=Z}}else v&64?ve!==8?X=T():X=k.type.hydrate(w,k,V,U,I,y,t,m):v&128&&(X=k.type.hydrate(w,k,V,U,ma(o(w)),I,y,t,d))}return R!=null&&Qs(R,null,U,k),X},g=(w,k,V,U,I,y)=>{y=y||!!k.dynamicChildren;const{type:_,props:T,patchFlag:S,shapeFlag:R,dirs:v,transition:ue}=k,ve=_==="input"||_==="option";if(ve||S!==-1){v&&yn(k,null,V,"created");let X=!1;if(N(w)){X=P_(null,ue)&&V&&V.vnode.props&&V.vnode.props.appear;const Z=w.content.firstChild;if(X){const Ce=Z.getAttribute("class");Ce&&(Z.$cls=Ce),ue.beforeEnter(Z)}O(Z,w,V),k.el=w=Z}if(R&16&&!(T&&(T.innerHTML||T.textContent))){let Z=m(w.firstChild,k,w,V,U,I,y);for(;Z;){_a(w,1)||Vs();const Ce=Z;Z=Z.nextSibling,c(Ce)}}else if(R&8){let Z=k.children;Z[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(Z=Z.slice(1));const{textContent:Ce}=w;Ce!==Z&&Ce!==Z.replace(/\r\n|\r/g,`
`)&&(_a(w,0)||Vs(),w.textContent=k.children)}if(T){if(ve||!y||S&48){const Z=w.tagName.includes("-");for(const Ce in T)(ve&&(Ce.endsWith("value")||Ce==="indeterminate")||Uo(Ce)&&!Ks(Ce)||Ce[0]==="."||Z)&&r(w,Ce,null,T[Ce],void 0,V)}else if(T.onClick)r(w,"onClick",null,T.onClick,void 0,V);else if(S&4&&wn(T.style))for(const Z in T.style)T.style[Z]}let re;(re=T&&T.onVnodeBeforeMount)&&Vt(re,V,k),v&&yn(k,null,V,"beforeMount"),((re=T&&T.onVnodeMounted)||v||X)&&V_(()=>{re&&Vt(re,V,k),X&&ue.enter(w),v&&yn(k,null,V,"mounted")},U)}return w.nextSibling},m=(w,k,V,U,I,y,_)=>{_=_||!!k.dynamicChildren;const T=k.children,S=T.length;for(let R=0;R<S;R++){const v=_?T[R]:T[R]=Ht(T[R]),ue=v.type===us;w?(ue&&!_&&R+1<S&&Ht(T[R+1]).type===us&&(l(s(w.data.slice(v.children.length)),V,i(w)),w.data=v.children),w=d(w,v,U,I,y,_)):ue&&!v.children?l(v.el=s(""),V):(_a(V,1)||Vs(),n(null,v,V,null,U,I,ma(V),y))}return w},A=(w,k,V,U,I,y)=>{const{slotScopeIds:_}=k;_&&(I=I?I.concat(_):_);const T=o(w),S=m(i(w),k,T,V,U,I,y);return S&&Hs(S)&&S.data==="]"?i(k.anchor=S):(Vs(),l(k.anchor=h("]"),T,S),S)},C=(w,k,V,U,I,y)=>{if(_a(w.parentElement,1)||Vs(),k.el=null,y){const S=D(w);for(;;){const R=i(w);if(R&&R!==S)c(R);else break}}const _=i(w),T=o(w);return c(w),n(null,k,T,_,V,U,ma(T),I),V&&(V.vnode.el=k.el,Gc(V,k.el)),_},D=(w,k="[",V="]")=>{let U=0;for(;w;)if(w=i(w),w&&Hs(w)&&(w.data===k&&U++,w.data===V)){if(U===0)return i(w);U--}return w},O=(w,k,V)=>{const U=k.parentNode;U&&U.replaceChild(w,k);let I=V;for(;I;)I.vnode.el===k&&(I.vnode.el=I.subTree.el=w),I=I.parent},N=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[u,d]}const Pd="data-allow-mismatch",Mw={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function _a(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Pd);)t=t.parentElement;const n=t&&t.getAttribute(Pd);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(Mw[e])}}Fc().requestIdleCallback;Fc().cancelIdleCallback;function Fw(t,e){if(Hs(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Hs(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Pr=t=>!!t.type.__asyncLoader;function kd(t){fe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:c=!0,onError:l}=t;let h=null,u,d=0;const g=()=>(d++,h=null,m()),m=()=>{let A;return h||(A=h=e().catch(C=>{if(C=C instanceof Error?C:new Error(String(C)),l)return new Promise((D,O)=>{l(C,()=>D(g()),()=>O(C),d+1)});throw C}).then(C=>A!==h&&h?h:(C&&(C.__esModule||C[Symbol.toStringTag]==="Module")&&(C=C.default),u=C,C)))};return Wr({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(A,C,D){let O=!1;(C.bu||(C.bu=[])).push(()=>O=!0);const N=()=>{O||D()},w=i?()=>{const k=i(N,V=>Fw(A,V));k&&(C.bum||(C.bum=[])).push(k)}:N;u?w():m().then(()=>!C.isUnmounted&&w())},get __asyncResolved(){return u},setup(){const A=gt;if(Ph(A),u)return()=>ya(u,A);const C=w=>{h=null,Ii(w,A,13,!r)};if(c&&A.suspense||ci)return m().then(w=>()=>ya(w,A)).catch(w=>(C(w),()=>r?He(r,{error:w}):null));const D=lt(!1),O=lt(),N=lt(!!s);return s&&setTimeout(()=>{N.value=!1},s),o!=null&&setTimeout(()=>{if(!D.value&&!O.value){const w=new Error(`Async component timed out after ${o}ms.`);C(w),O.value=w}},o),m().then(()=>{D.value=!0,A.parent&&jo(A.parent.vnode)&&A.parent.update()}).catch(w=>{C(w),O.value=w}),()=>{if(D.value&&u)return ya(u,A);if(O.value&&r)return He(r,{error:O.value});if(n&&!N.value)return ya(n,A)}}})}function ya(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=He(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const jo=t=>t.type.__isKeepAlive,Uw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Is(),r=n.ctx;if(!r.renderer)return()=>{const N=e.default&&e.default();return N&&N.length===1?N[0]:N};const s=new Map,i=new Set;let o=null;const c=n.suspense,{renderer:{p:l,m:h,um:u,o:{createElement:d}}}=r,g=d("div");r.activate=(N,w,k,V,U)=>{const I=N.component;h(N,w,k,0,c),l(I.vnode,N,w,k,I,c,V,N.slotScopeIds,U),at(()=>{I.isDeactivated=!1,I.a&&Gs(I.a);const y=N.props&&N.props.onVnodeMounted;y&&Vt(y,I.parent,N)},c)},r.deactivate=N=>{const w=N.component;ec(w.m),ec(w.a),h(N,g,null,1,c),at(()=>{w.da&&Gs(w.da);const k=N.props&&N.props.onVnodeUnmounted;k&&Vt(k,w.parent,N),w.isDeactivated=!0},c)};function m(N){xl(N),u(N,n,c,!0)}function A(N){s.forEach((w,k)=>{const V=bu(Pr(w)?w.type.__asyncResolved||{}:w.type);V&&!N(V)&&C(k)})}function C(N){const w=s.get(N);w&&(!o||!rn(w,o))?m(w):o&&xl(o),s.delete(N),i.delete(N)}Wn(()=>[t.include,t.exclude],([N,w])=>{N&&A(k=>Zi(N,k)),w&&A(k=>!Zi(w,k))},{flush:"post",deep:!0});let D=null;const O=()=>{D!=null&&(tc(n.subTree.type)?at(()=>{s.set(D,Ea(n.subTree))},n.subTree.suspense):s.set(D,Ea(n.subTree)))};return qc(O),h_(O),Ho(()=>{s.forEach(N=>{const{subTree:w,suspense:k}=n,V=Ea(w);if(N.type===V.type&&N.key===V.key){xl(V);const U=V.component.da;U&&at(U,k);return}m(N)})}),()=>{if(D=null,!e.default)return o=null;const N=e.default(),w=N[0];if(N.length>1)return o=null,N;if(!ai(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let k=Ea(w);if(k.type===rt)return o=null,k;const V=k.type,U=bu(Pr(k)?k.type.__asyncResolved||{}:V),{include:I,exclude:y,max:_}=t;if(I&&(!U||!Zi(I,U))||y&&U&&Zi(y,U))return k.shapeFlag&=-257,o=k,w;const T=k.key==null?V:k.key,S=s.get(T);return k.el&&(k=Jn(k),w.shapeFlag&128&&(w.ssContent=k)),D=T,S?(k.el=S.el,k.component=S.component,k.transition&&ii(k,k.transition),k.shapeFlag|=512,i.delete(T),i.add(T)):(i.add(T),_&&i.size>parseInt(_,10)&&C(i.values().next().value)),k.shapeFlag|=256,o=k,tc(w.type)?w:k}}},Bw=Uw;function Zi(t,e){return oe(t)?t.some(n=>Zi(n,e)):qe(t)?t.split(",").includes(e):xT(t)?(t.lastIndex=0,t.test(e)):!1}function c_(t,e){u_(t,"a",e)}function l_(t,e){u_(t,"da",e)}function u_(t,e,n=gt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($c(e,r,n),n){let s=n.parent;for(;s&&s.parent;)jo(s.parent.vnode)&&jw(r,e,n,s),s=s.parent}}function jw(t,e,n,r){const s=$c(e,t,r,!0);Wc(()=>{gh(r[e],s)},n)}function xl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ea(t){return t.shapeFlag&128?t.ssContent:t}function $c(t,e,n=gt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{zn();const c=gs(n),l=hn(e,n,t,o);return c(),Qn(),l});return r?s.unshift(i):s.push(i),i}}const nr=t=>(e,n=gt)=>{(!ci||t==="sp")&&$c(t,(...r)=>e(...r),n)},Hw=nr("bm"),qc=nr("m"),$w=nr("bu"),h_=nr("u"),Ho=nr("bum"),Wc=nr("um"),qw=nr("sp"),Ww=nr("rtg"),Kw=nr("rtc");function f_(t,e=gt){$c("ec",t,e)}const d_="components";function BV(t,e){return g_(d_,t,!0,e)||t}const p_=Symbol.for("v-ndc");function Gw(t){return qe(t)?g_(d_,t,!1)||t:t||p_}function g_(t,e,n=!0,r=!1){const s=$t||gt;if(s){const i=s.type;{const c=bu(i,!1);if(c&&(c===e||c===Zt(e)||c===Lc(Zt(e))))return i}const o=Nd(s[t]||i[t],e)||Nd(s.appContext[t],e);return!o&&r?i:o}}function Nd(t,e){return t&&(t[e]||t[Zt(e)]||t[Lc(Zt(e))])}function jV(t,e,n,r){let s;const i=n,o=oe(t);if(o||qe(t)){const c=o&&wn(t);let l=!1,h=!1;c&&(l=!qt(t),h=Pn(t),t=Bc(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?h?ri(un(t[u])):un(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Ve(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,h=c.length;l<h;l++){const u=c[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const mu=t=>t?B_(t)?zc(t):mu(t.parent):null,lo=ht(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mu(t.parent),$root:t=>mu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>__(t),$forceUpdate:t=>t.f||(t.f=()=>{Sh(t.update)}),$nextTick:t=>t.n||(t.n=xr.bind(t.proxy)),$watch:t=>Pw.bind(t)}),Ll=(t,e)=>t!==Me&&!t.__isScriptSetup&&Ne(t,e),zw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ll(r,e))return o[e]=1,r[e];if(s!==Me&&Ne(s,e))return o[e]=2,s[e];if(Ne(i,e))return o[e]=3,i[e];if(n!==Me&&Ne(n,e))return o[e]=4,n[e];_u&&(o[e]=0)}}const h=lo[e];let u,d;if(h)return e==="$attrs"&&bt(t.attrs,"get",""),h(t);if((u=c.__cssModules)&&(u=u[e]))return u;if(n!==Me&&Ne(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ne(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ll(s,e)?(s[e]=n,!0):r!==Me&&Ne(r,e)?(r[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},c){let l;return!!(n[c]||t!==Me&&c[0]!=="$"&&Ne(t,c)||Ll(e,c)||Ne(i,c)||Ne(r,c)||Ne(lo,c)||Ne(s.config.globalProperties,c)||(l=o.__cssModules)&&l[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Od(t){return oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function HV(t){const e=Is();let n=t();return wu(),mh(n)&&(n=n.catch(r=>{throw gs(e),r})),[n,()=>gs(e)]}let _u=!0;function Qw(t){const e=__(t),n=t.proxy,r=t.ctx;_u=!1,e.beforeCreate&&Dd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:h,created:u,beforeMount:d,mounted:g,beforeUpdate:m,updated:A,activated:C,deactivated:D,beforeDestroy:O,beforeUnmount:N,destroyed:w,unmounted:k,render:V,renderTracked:U,renderTriggered:I,errorCaptured:y,serverPrefetch:_,expose:T,inheritAttrs:S,components:R,directives:v,filters:ue}=e;if(h&&Jw(h,r,null),o)for(const re in o){const Z=o[re];fe(Z)&&(r[re]=Z.bind(n))}if(s){const re=s.call(n,n);Ve(re)&&(t.data=tr(re))}if(_u=!0,i)for(const re in i){const Z=i[re],Ce=fe(Z)?Z.bind(n,n):fe(Z.get)?Z.get.bind(n,n):Tn,pn=!fe(Z)&&fe(Z.set)?Z.set.bind(n):Tn,Ut=Rt({get:Ce,set:pn});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>Ut.value,set:ft=>Ut.value=ft})}if(c)for(const re in c)m_(c[re],r,n,re);if(l){const re=fe(l)?l.call(n):l;Reflect.ownKeys(re).forEach(Z=>{Cr(Z,re[Z])})}u&&Dd(u,t,"c");function X(re,Z){oe(Z)?Z.forEach(Ce=>re(Ce.bind(n))):Z&&re(Z.bind(n))}if(X(Hw,d),X(qc,g),X($w,m),X(h_,A),X(c_,C),X(l_,D),X(f_,y),X(Kw,U),X(Ww,I),X(Ho,N),X(Wc,k),X(qw,_),oe(T))if(T.length){const re=t.exposed||(t.exposed={});T.forEach(Z=>{Object.defineProperty(re,Z,{get:()=>n[Z],set:Ce=>n[Z]=Ce,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===Tn&&(t.render=V),S!=null&&(t.inheritAttrs=S),R&&(t.components=R),v&&(t.directives=v),_&&Ph(t)}function Jw(t,e,n=Tn){oe(t)&&(t=yu(t));for(const r in t){const s=t[r];let i;Ve(s)?"default"in s?i=_t(s.from||r,s.default,!0):i=_t(s.from||r):i=_t(s),$e(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Dd(t,e,n){hn(oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function m_(t,e,n,r){let s=r.includes(".")?t_(n,r):()=>n[r];if(qe(t)){const i=e[t];fe(i)&&Wn(s,i)}else if(fe(t))Wn(s,t.bind(n));else if(Ve(t))if(oe(t))t.forEach(i=>m_(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&Wn(s,i,t)}}function __(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(h=>Za(l,h,o,!0)),Za(l,e,o)),Ve(e)&&i.set(e,l),l}function Za(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Za(t,i,n,!0),s&&s.forEach(o=>Za(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=Yw[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const Yw={data:Vd,props:xd,emits:xd,methods:eo,computed:eo,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:eo,directives:eo,watch:Zw,provide:Vd,inject:Xw};function Vd(t,e){return e?t?function(){return ht(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function Xw(t,e){return eo(yu(t),yu(e))}function yu(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kt(t,e){return t?[...new Set([].concat(t,e))]:e}function eo(t,e){return t?ht(Object.create(null),t,e):e}function xd(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:ht(Object.create(null),Od(t),Od(e??{})):e}function Zw(t,e){if(!t)return e;if(!e)return t;const n=ht(Object.create(null),t);for(const r in e)n[r]=kt(t[r],e[r]);return n}function y_(){return{app:null,config:{isNativeTag:Am,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eI=0;function tI(t,e){return function(r,s=null){fe(r)||(r=ht({},r)),s!=null&&!Ve(s)&&(s=null);const i=y_(),o=new WeakSet,c=[];let l=!1;const h=i.app={_uid:eI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:DI,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&fe(u.install)?(o.add(u),u.install(h,...d)):fe(u)&&(o.add(u),u(h,...d))),h},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),h},component(u,d){return d?(i.components[u]=d,h):i.components[u]},directive(u,d){return d?(i.directives[u]=d,h):i.directives[u]},mount(u,d,g){if(!l){const m=h._ceVNode||He(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&e?e(m,u):t(m,u,g),l=!0,h._container=u,u.__vue_app__=h,zc(m.component)}},onUnmount(u){c.push(u)},unmount(){l&&(hn(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(u,d){return i.provides[u]=d,h},runWithContext(u){const d=ls;ls=h;try{return u()}finally{ls=d}}};return h}}let ls=null;const nI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Zt(e)}Modifiers`]||t[`${qr(e)}Modifiers`];function rI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Me;let s=n;const i=e.startsWith("update:"),o=i&&nI(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>qe(u)?u.trim():u)),o.number&&(s=n.map(Mc)));let c,l=r[c=Pl(e)]||r[c=Pl(Zt(e))];!l&&i&&(l=r[c=Pl(qr(e))]),l&&hn(l,t,6,s);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,hn(h,t,6,s)}}const sI=new WeakMap;function E_(t,e,n=!1){const r=n?sI:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!fe(t)){const l=h=>{const u=E_(h,e,!0);u&&(c=!0,ht(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ve(t)&&r.set(t,null),null):(oe(i)?i.forEach(l=>o[l]=null):ht(o,i),Ve(t)&&r.set(t,o),o)}function Kc(t,e){return!t||!Uo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,qr(e))||Ne(t,e))}function Ml(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:h,renderCache:u,props:d,data:g,setupState:m,ctx:A,inheritAttrs:C}=t,D=Ya(t);let O,N;try{if(n.shapeFlag&4){const k=s||r,V=k;O=Ht(h.call(V,k,u,d,m,g,A)),N=c}else{const k=e;O=Ht(k.length>1?k(d,{attrs:c,slots:o,emit:l}):k(d,null)),N=e.props?c:oI(c)}}catch(k){uo.length=0,Ii(k,t,1),O=He(rt)}let w=O;if(N&&C!==!1){const k=Object.keys(N),{shapeFlag:V}=w;k.length&&V&7&&(i&&k.some(ph)&&(N=aI(N,i)),w=Jn(w,N,!1,!0))}return n.dirs&&(w=Jn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&ii(w,n.transition),O=w,Ya(D),O}function iI(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(ai(s)){if(s.type!==rt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const oI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Uo(n))&&((e||(e={}))[n]=t[n]);return e},aI=(t,e)=>{const n={};for(const r in t)(!ph(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function cI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ld(r,o,h):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(o[g]!==r[g]&&!Kc(h,g))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Ld(r,o,h):!0:!!o;return!1}function Ld(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Kc(n,i))return!0}return!1}function Gc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const v_={},T_=()=>Object.create(v_),w_=t=>Object.getPrototypeOf(t)===v_;function lI(t,e,n,r=!1){const s={},i=T_();t.propsDefaults=Object.create(null),I_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:vn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function uI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Re(s),[l]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(Kc(t.emitsOptions,g))continue;const m=e[g];if(l)if(Ne(i,g))m!==i[g]&&(i[g]=m,h=!0);else{const A=Zt(g);s[A]=Eu(l,c,A,m,t,!1)}else m!==i[g]&&(i[g]=m,h=!0)}}}else{I_(t,e,s,i)&&(h=!0);let u;for(const d in c)(!e||!Ne(e,d)&&((u=qr(d))===d||!Ne(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Eu(l,c,d,void 0,t,!0)):delete s[d]);if(i!==c)for(const d in i)(!e||!Ne(e,d))&&(delete i[d],h=!0)}h&&Bn(t.attrs,"set","")}function I_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(Ks(l))continue;const h=e[l];let u;s&&Ne(s,u=Zt(l))?!i||!i.includes(u)?n[u]=h:(c||(c={}))[u]=h:Kc(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,o=!0)}if(i){const l=Re(n),h=c||Me;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Eu(s,l,d,h[d],t,!Ne(h,d))}}return o}function Eu(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Ne(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const u=gs(s);r=h[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===qr(n))&&(r=!0))}return r}const hI=new WeakMap;function b_(t,e,n=!1){const r=n?hI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!fe(t)){const u=d=>{l=!0;const[g,m]=b_(d,e,!0);ht(o,g),m&&c.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ve(t)&&r.set(t,qs),qs;if(oe(i))for(let u=0;u<i.length;u++){const d=Zt(i[u]);Md(d)&&(o[d]=Me)}else if(i)for(const u in i){const d=Zt(u);if(Md(d)){const g=i[u],m=o[d]=oe(g)||fe(g)?{type:g}:ht({},g),A=m.type;let C=!1,D=!0;if(oe(A))for(let O=0;O<A.length;++O){const N=A[O],w=fe(N)&&N.name;if(w==="Boolean"){C=!0;break}else w==="String"&&(D=!1)}else C=fe(A)&&A.name==="Boolean";m[0]=C,m[1]=D,(C||Ne(m,"default"))&&c.push(d)}}const h=[o,c];return Ve(t)&&r.set(t,h),h}function Md(t){return t[0]!=="$"&&!Ks(t)}const kh=t=>t==="_"||t==="_ctx"||t==="$stable",Nh=t=>oe(t)?t.map(Ht):[Ht(t)],fI=(t,e,n)=>{if(e._n)return e;const r=Lr((...s)=>Nh(e(...s)),n);return r._c=!1,r},A_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(kh(s))continue;const i=t[s];if(fe(i))e[s]=fI(s,i,r);else if(i!=null){const o=Nh(i);e[s]=()=>o}}},R_=(t,e)=>{const n=Nh(e);t.slots.default=()=>n},S_=(t,e,n)=>{for(const r in e)(n||!kh(r))&&(t[r]=e[r])},dI=(t,e,n)=>{const r=t.slots=T_();if(t.vnode.shapeFlag&32){const s=e._;s?(S_(r,e,n),n&&Cm(r,"_",s,!0)):A_(e,r)}else e&&R_(t,e)},pI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Me;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:S_(s,e,n):(i=!e.$stable,A_(e,s)),o=e}else e&&(R_(t,e),o={default:1});if(i)for(const c in s)!kh(c)&&o[c]==null&&delete s[c]},at=V_;function gI(t){return C_(t)}function mI(t){return C_(t,Lw)}function C_(t,e){const n=Fc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:h,setElementText:u,parentNode:d,nextSibling:g,setScopeId:m=Tn,insertStaticContent:A}=t,C=(b,P,L,H=null,F=null,$=null,G=void 0,K=null,z=!!P.dynamicChildren)=>{if(b===P)return;b&&!rn(b,P)&&(H=B(b),ft(b,F,$,!0),b=null),P.patchFlag===-2&&(z=!1,P.dynamicChildren=null);const{type:W,ref:ae,shapeFlag:Y}=P;switch(W){case us:D(b,P,L,H);break;case rt:O(b,P,L,H);break;case Oa:b==null&&N(P,L,H,G);break;case Lt:R(b,P,L,H,F,$,G,K,z);break;default:Y&1?V(b,P,L,H,F,$,G,K,z):Y&6?v(b,P,L,H,F,$,G,K,z):(Y&64||Y&128)&&W.process(b,P,L,H,F,$,G,K,z,ie)}ae!=null&&F?Qs(ae,b&&b.ref,$,P||b,!P):ae==null&&b&&b.ref!=null&&Qs(b.ref,null,$,b,!0)},D=(b,P,L,H)=>{if(b==null)r(P.el=c(P.children),L,H);else{const F=P.el=b.el;P.children!==b.children&&h(F,P.children)}},O=(b,P,L,H)=>{b==null?r(P.el=l(P.children||""),L,H):P.el=b.el},N=(b,P,L,H)=>{[b.el,b.anchor]=A(b.children,P,L,H,b.el,b.anchor)},w=({el:b,anchor:P},L,H)=>{let F;for(;b&&b!==P;)F=g(b),r(b,L,H),b=F;r(P,L,H)},k=({el:b,anchor:P})=>{let L;for(;b&&b!==P;)L=g(b),s(b),b=L;s(P)},V=(b,P,L,H,F,$,G,K,z)=>{if(P.type==="svg"?G="svg":P.type==="math"&&(G="mathml"),b==null)U(P,L,H,F,$,G,K,z);else{const W=b.el&&b.el._isVueCE?b.el:null;try{W&&W._beginPatch(),_(b,P,F,$,G,K,z)}finally{W&&W._endPatch()}}},U=(b,P,L,H,F,$,G,K)=>{let z,W;const{props:ae,shapeFlag:Y,transition:ne,dirs:pe}=b;if(z=b.el=o(b.type,$,ae&&ae.is,ae),Y&8?u(z,b.children):Y&16&&y(b.children,z,null,H,F,Fl(b,$),G,K),pe&&yn(b,null,H,"created"),I(z,b,b.scopeId,G,H),ae){for(const Pe in ae)Pe!=="value"&&!Ks(Pe)&&i(z,Pe,null,ae[Pe],$,H);"value"in ae&&i(z,"value",null,ae.value,$),(W=ae.onVnodeBeforeMount)&&Vt(W,H,b)}pe&&yn(b,null,H,"beforeMount");const Te=P_(F,ne);Te&&ne.beforeEnter(z),r(z,P,L),((W=ae&&ae.onVnodeMounted)||Te||pe)&&at(()=>{W&&Vt(W,H,b),Te&&ne.enter(z),pe&&yn(b,null,H,"mounted")},F)},I=(b,P,L,H,F)=>{if(L&&m(b,L),H)for(let $=0;$<H.length;$++)m(b,H[$]);if(F){let $=F.subTree;if(P===$||tc($.type)&&($.ssContent===P||$.ssFallback===P)){const G=F.vnode;I(b,G,G.scopeId,G.slotScopeIds,F.parent)}}},y=(b,P,L,H,F,$,G,K,z=0)=>{for(let W=z;W<b.length;W++){const ae=b[W]=K?yr(b[W]):Ht(b[W]);C(null,ae,P,L,H,F,$,G,K)}},_=(b,P,L,H,F,$,G)=>{const K=P.el=b.el;let{patchFlag:z,dynamicChildren:W,dirs:ae}=P;z|=b.patchFlag&16;const Y=b.props||Me,ne=P.props||Me;let pe;if(L&&Xr(L,!1),(pe=ne.onVnodeBeforeUpdate)&&Vt(pe,L,P,b),ae&&yn(P,b,L,"beforeUpdate"),L&&Xr(L,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(K,""),W?T(b.dynamicChildren,W,K,L,H,Fl(P,F),$):G||Z(b,P,K,null,L,H,Fl(P,F),$,!1),z>0){if(z&16)S(K,Y,ne,L,F);else if(z&2&&Y.class!==ne.class&&i(K,"class",null,ne.class,F),z&4&&i(K,"style",Y.style,ne.style,F),z&8){const Te=P.dynamicProps;for(let Pe=0;Pe<Te.length;Pe++){const Se=Te[Pe],vt=Y[Se],Ze=ne[Se];(Ze!==vt||Se==="value")&&i(K,Se,vt,Ze,F,L)}}z&1&&b.children!==P.children&&u(K,P.children)}else!G&&W==null&&S(K,Y,ne,L,F);((pe=ne.onVnodeUpdated)||ae)&&at(()=>{pe&&Vt(pe,L,P,b),ae&&yn(P,b,L,"updated")},H)},T=(b,P,L,H,F,$,G)=>{for(let K=0;K<P.length;K++){const z=b[K],W=P[K],ae=z.el&&(z.type===Lt||!rn(z,W)||z.shapeFlag&198)?d(z.el):L;C(z,W,ae,null,H,F,$,G,!0)}},S=(b,P,L,H,F)=>{if(P!==L){if(P!==Me)for(const $ in P)!Ks($)&&!($ in L)&&i(b,$,P[$],null,F,H);for(const $ in L){if(Ks($))continue;const G=L[$],K=P[$];G!==K&&$!=="value"&&i(b,$,K,G,F,H)}"value"in L&&i(b,"value",P.value,L.value,F)}},R=(b,P,L,H,F,$,G,K,z)=>{const W=P.el=b?b.el:c(""),ae=P.anchor=b?b.anchor:c("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:pe}=P;pe&&(K=K?K.concat(pe):pe),b==null?(r(W,L,H),r(ae,L,H),y(P.children||[],L,ae,F,$,G,K,z)):Y>0&&Y&64&&ne&&b.dynamicChildren&&b.dynamicChildren.length===ne.length?(T(b.dynamicChildren,ne,L,F,$,G,K),(P.key!=null||F&&P===F.subTree)&&k_(b,P,!0)):Z(b,P,L,ae,F,$,G,K,z)},v=(b,P,L,H,F,$,G,K,z)=>{P.slotScopeIds=K,b==null?P.shapeFlag&512?F.ctx.activate(P,L,H,G,z):ue(P,L,H,F,$,G,z):ve(b,P,z)},ue=(b,P,L,H,F,$,G)=>{const K=b.component=SI(b,H,F);if(jo(b)&&(K.ctx.renderer=ie),CI(K,!1,G),K.asyncDep){if(F&&F.registerDep(K,X,G),!b.el){const z=K.subTree=He(rt);O(null,z,P,L),b.placeholder=z.el}}else X(K,b,P,L,F,$,G)},ve=(b,P,L)=>{const H=P.component=b.component;if(cI(b,P,L))if(H.asyncDep&&!H.asyncResolved){re(H,P,L);return}else H.next=P,H.update();else P.el=b.el,H.vnode=P},X=(b,P,L,H,F,$,G)=>{const K=()=>{if(b.isMounted){let{next:Y,bu:ne,u:pe,parent:Te,vnode:Pe}=b;{const et=N_(b);if(et){Y&&(Y.el=Pe.el,re(b,Y,G)),et.asyncDep.then(()=>{b.isUnmounted||K()});return}}let Se=Y,vt;Xr(b,!1),Y?(Y.el=Pe.el,re(b,Y,G)):Y=Pe,ne&&Gs(ne),(vt=Y.props&&Y.props.onVnodeBeforeUpdate)&&Vt(vt,Te,Y,Pe),Xr(b,!0);const Ze=Ml(b),Dt=b.subTree;b.subTree=Ze,C(Dt,Ze,d(Dt.el),B(Dt),b,F,$),Y.el=Ze.el,Se===null&&Gc(b,Ze.el),pe&&at(pe,F),(vt=Y.props&&Y.props.onVnodeUpdated)&&at(()=>Vt(vt,Te,Y,Pe),F)}else{let Y;const{el:ne,props:pe}=P,{bm:Te,m:Pe,parent:Se,root:vt,type:Ze}=b,Dt=Pr(P);if(Xr(b,!1),Te&&Gs(Te),!Dt&&(Y=pe&&pe.onVnodeBeforeMount)&&Vt(Y,Se,P),Xr(b,!0),ne&&xe){const et=()=>{b.subTree=Ml(b),xe(ne,b.subTree,b,F,null)};Dt&&Ze.__asyncHydrate?Ze.__asyncHydrate(ne,b,et):et()}else{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(Ze);const et=b.subTree=Ml(b);C(null,et,L,H,b,F,$),P.el=et.el}if(Pe&&at(Pe,F),!Dt&&(Y=pe&&pe.onVnodeMounted)){const et=P;at(()=>Vt(Y,Se,et),F)}(P.shapeFlag&256||Se&&Pr(Se.vnode)&&Se.vnode.shapeFlag&256)&&b.a&&at(b.a,F),b.isMounted=!0,P=L=H=null}};b.scope.on();const z=b.effect=new Vm(K);b.scope.off();const W=b.update=z.run.bind(z),ae=b.job=z.runIfDirty.bind(z);ae.i=b,ae.id=b.uid,z.scheduler=()=>Sh(ae),Xr(b,!0),W()},re=(b,P,L)=>{P.component=b;const H=b.vnode.props;b.vnode=P,b.next=null,uI(b,P.props,H,L),pI(b,P.children,L),zn(),Ad(b),Qn()},Z=(b,P,L,H,F,$,G,K,z=!1)=>{const W=b&&b.children,ae=b?b.shapeFlag:0,Y=P.children,{patchFlag:ne,shapeFlag:pe}=P;if(ne>0){if(ne&128){pn(W,Y,L,H,F,$,G,K,z);return}else if(ne&256){Ce(W,Y,L,H,F,$,G,K,z);return}}pe&8?(ae&16&&Et(W,F,$),Y!==W&&u(L,Y)):ae&16?pe&16?pn(W,Y,L,H,F,$,G,K,z):Et(W,F,$,!0):(ae&8&&u(L,""),pe&16&&y(Y,L,H,F,$,G,K,z))},Ce=(b,P,L,H,F,$,G,K,z)=>{b=b||qs,P=P||qs;const W=b.length,ae=P.length,Y=Math.min(W,ae);let ne;for(ne=0;ne<Y;ne++){const pe=P[ne]=z?yr(P[ne]):Ht(P[ne]);C(b[ne],pe,L,null,F,$,G,K,z)}W>ae?Et(b,F,$,!0,!1,Y):y(P,L,H,F,$,G,K,z,Y)},pn=(b,P,L,H,F,$,G,K,z)=>{let W=0;const ae=P.length;let Y=b.length-1,ne=ae-1;for(;W<=Y&&W<=ne;){const pe=b[W],Te=P[W]=z?yr(P[W]):Ht(P[W]);if(rn(pe,Te))C(pe,Te,L,null,F,$,G,K,z);else break;W++}for(;W<=Y&&W<=ne;){const pe=b[Y],Te=P[ne]=z?yr(P[ne]):Ht(P[ne]);if(rn(pe,Te))C(pe,Te,L,null,F,$,G,K,z);else break;Y--,ne--}if(W>Y){if(W<=ne){const pe=ne+1,Te=pe<ae?P[pe].el:H;for(;W<=ne;)C(null,P[W]=z?yr(P[W]):Ht(P[W]),L,Te,F,$,G,K,z),W++}}else if(W>ne)for(;W<=Y;)ft(b[W],F,$,!0),W++;else{const pe=W,Te=W,Pe=new Map;for(W=Te;W<=ne;W++){const Qe=P[W]=z?yr(P[W]):Ht(P[W]);Qe.key!=null&&Pe.set(Qe.key,W)}let Se,vt=0;const Ze=ne-Te+1;let Dt=!1,et=0;const Dn=new Array(Ze);for(W=0;W<Ze;W++)Dn[W]=0;for(W=pe;W<=Y;W++){const Qe=b[W];if(vt>=Ze){ft(Qe,F,$,!0);continue}let Bt;if(Qe.key!=null)Bt=Pe.get(Qe.key);else for(Se=Te;Se<=ne;Se++)if(Dn[Se-Te]===0&&rn(Qe,P[Se])){Bt=Se;break}Bt===void 0?ft(Qe,F,$,!0):(Dn[Bt-Te]=W+1,Bt>=et?et=Bt:Dt=!0,C(Qe,P[Bt],L,null,F,$,G,K,z),vt++)}const Ps=Dt?_I(Dn):qs;for(Se=Ps.length-1,W=Ze-1;W>=0;W--){const Qe=Te+W,Bt=P[Qe],Gr=P[Qe+1],Ni=Qe+1<ae?Gr.el||O_(Gr):H;Dn[W]===0?C(null,Bt,L,Ni,F,$,G,K,z):Dt&&(Se<0||W!==Ps[Se]?Ut(Bt,L,Ni,2):Se--)}}},Ut=(b,P,L,H,F=null)=>{const{el:$,type:G,transition:K,children:z,shapeFlag:W}=b;if(W&6){Ut(b.component.subTree,P,L,H);return}if(W&128){b.suspense.move(P,L,H);return}if(W&64){G.move(b,P,L,ie);return}if(G===Lt){r($,P,L);for(let Y=0;Y<z.length;Y++)Ut(z[Y],P,L,H);r(b.anchor,P,L);return}if(G===Oa){w(b,P,L);return}if(H!==2&&W&1&&K)if(H===0)K.beforeEnter($),r($,P,L),at(()=>K.enter($),F);else{const{leave:Y,delayLeave:ne,afterLeave:pe}=K,Te=()=>{b.ctx.isUnmounted?s($):r($,P,L)},Pe=()=>{$._isLeaving&&$[Un](!0),Y($,()=>{Te(),pe&&pe()})};ne?ne($,Te,Pe):Pe()}else r($,P,L)},ft=(b,P,L,H=!1,F=!1)=>{const{type:$,props:G,ref:K,children:z,dynamicChildren:W,shapeFlag:ae,patchFlag:Y,dirs:ne,cacheIndex:pe}=b;if(Y===-2&&(F=!1),K!=null&&(zn(),Qs(K,null,L,b,!0),Qn()),pe!=null&&(P.renderCache[pe]=void 0),ae&256){P.ctx.deactivate(b);return}const Te=ae&1&&ne,Pe=!Pr(b);let Se;if(Pe&&(Se=G&&G.onVnodeBeforeUnmount)&&Vt(Se,P,b),ae&6)nn(b.component,L,H);else{if(ae&128){b.suspense.unmount(L,H);return}Te&&yn(b,null,P,"beforeUnmount"),ae&64?b.type.remove(b,P,L,ie,H):W&&!W.hasOnce&&($!==Lt||Y>0&&Y&64)?Et(W,P,L,!1,!0):($===Lt&&Y&384||!F&&ae&16)&&Et(z,P,L),H&&On(b)}(Pe&&(Se=G&&G.onVnodeUnmounted)||Te)&&at(()=>{Se&&Vt(Se,P,b),Te&&yn(b,null,P,"unmounted")},L)},On=b=>{const{type:P,el:L,anchor:H,transition:F}=b;if(P===Lt){tn(L,H);return}if(P===Oa){k(b);return}const $=()=>{s(L),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(b.shapeFlag&1&&F&&!F.persisted){const{leave:G,delayLeave:K}=F,z=()=>G(L,$);K?K(b.el,$,z):z()}else $()},tn=(b,P)=>{let L;for(;b!==P;)L=g(b),s(b),b=L;s(P)},nn=(b,P,L)=>{const{bum:H,scope:F,job:$,subTree:G,um:K,m:z,a:W}=b;ec(z),ec(W),H&&Gs(H),F.stop(),$&&($.flags|=8,ft(G,b,P,L)),K&&at(K,P),at(()=>{b.isUnmounted=!0},P)},Et=(b,P,L,H=!1,F=!1,$=0)=>{for(let G=$;G<b.length;G++)ft(b[G],P,L,H,F)},B=b=>{if(b.shapeFlag&6)return B(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const P=g(b.anchor||b.el),L=P&&P[kw];return L?g(L):P};let ee=!1;const J=(b,P,L)=>{let H;b==null?P._vnode&&(ft(P._vnode,null,null,!0),H=P._vnode.component):C(P._vnode||null,b,P,null,null,null,L),P._vnode=b,ee||(ee=!0,Ad(H),Ja(),ee=!1)},ie={p:C,um:ft,m:Ut,r:On,mt:ue,mc:y,pc:Z,pbc:T,n:B,o:t};let Ee,xe;return e&&([Ee,xe]=e(ie)),{render:J,hydrate:Ee,createApp:tI(J,Ee)}}function Fl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Xr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function P_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function k_(t,e,n=!1){const r=t.children,s=e.children;if(oe(r)&&oe(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=yr(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&k_(o,c)),c.type===us&&(c.patchFlag!==-1?c.el=o.el:c.__elIndex=i+(t.type===Lt?1:0)),c.type===rt&&!c.el&&(c.el=o.el)}}function _I(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<h?i=c+1:o=c;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function N_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:N_(e)}function ec(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function O_(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?O_(e.subTree):null}const tc=t=>t.__isSuspense;let vu=0;const yI={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,c,l,h){if(t==null)EI(e,n,r,s,i,o,c,l,h);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}vI(t,e,n,r,s,o,c,l,h)}},hydrate:TI,normalize:wI},Oh=yI;function Ao(t,e){const n=t.props&&t.props[e];fe(n)&&n()}function EI(t,e,n,r,s,i,o,c,l){const{p:h,o:{createElement:u}}=l,d=u("div"),g=t.suspense=D_(t,s,r,e,d,n,i,o,c,l);h(null,g.pendingBranch=t.ssContent,d,null,r,g,i,o),g.deps>0?(Ao(t,"onPending"),Ao(t,"onFallback"),h(null,t.ssFallback,e,n,r,null,i,o),Js(g,t.ssFallback)):g.resolve(!1,!0)}function vI(t,e,n,r,s,i,o,c,{p:l,um:h,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const g=e.ssContent,m=e.ssFallback,{activeBranch:A,pendingBranch:C,isInFallback:D,isHydrating:O}=d;if(C)d.pendingBranch=g,rn(C,g)?(l(C,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0?d.resolve():D&&(O||(l(A,m,n,r,s,null,i,o,c),Js(d,m)))):(d.pendingId=vu++,O?(d.isHydrating=!1,d.activeBranch=C):h(C,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),D?(l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0?d.resolve():(l(A,m,n,r,s,null,i,o,c),Js(d,m))):A&&rn(A,g)?(l(A,g,n,r,s,d,i,o,c),d.resolve(!0)):(l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0&&d.resolve()));else if(A&&rn(A,g))l(A,g,n,r,s,d,i,o,c),Js(d,g);else if(Ao(e,"onPending"),d.pendingBranch=g,g.shapeFlag&512?d.pendingId=g.component.suspenseId:d.pendingId=vu++,l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0)d.resolve();else{const{timeout:N,pendingId:w}=d;N>0?setTimeout(()=>{d.pendingId===w&&d.fallback(m)},N):N===0&&d.fallback(m)}}function D_(t,e,n,r,s,i,o,c,l,h,u=!1){const{p:d,m:g,um:m,n:A,o:{parentNode:C,remove:D}}=h;let O;const N=II(t);N&&e&&e.pendingBranch&&(O=e.pendingId,e.deps++);const w=t.props?Pm(t.props.timeout):void 0,k=i,V={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:vu++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(U=!1,I=!1){const{vnode:y,activeBranch:_,pendingBranch:T,pendingId:S,effects:R,parentComponent:v,container:ue,isInFallback:ve}=V;let X=!1;V.isHydrating?V.isHydrating=!1:U||(X=_&&T.transition&&T.transition.mode==="out-in",X&&(_.transition.afterLeave=()=>{S===V.pendingId&&(g(T,ue,i===k?A(_):i,0),pu(R),ve&&y.ssFallback&&(y.ssFallback.el=null))}),_&&(C(_.el)===ue&&(i=A(_)),m(_,v,V,!0),!X&&ve&&y.ssFallback&&at(()=>y.ssFallback.el=null,V)),X||g(T,ue,i,0)),Js(V,T),V.pendingBranch=null,V.isInFallback=!1;let re=V.parent,Z=!1;for(;re;){if(re.pendingBranch){re.effects.push(...R),Z=!0;break}re=re.parent}!Z&&!X&&pu(R),V.effects=[],N&&e&&e.pendingBranch&&O===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Ao(y,"onResolve")},fallback(U){if(!V.pendingBranch)return;const{vnode:I,activeBranch:y,parentComponent:_,container:T,namespace:S}=V;Ao(I,"onFallback");const R=A(y),v=()=>{V.isInFallback&&(d(null,U,T,R,_,null,S,c,l),Js(V,U))},ue=U.transition&&U.transition.mode==="out-in";ue&&(y.transition.afterLeave=v),V.isInFallback=!0,m(y,_,null,!0),ue||v()},move(U,I,y){V.activeBranch&&g(V.activeBranch,U,I,y),V.container=U},next(){return V.activeBranch&&A(V.activeBranch)},registerDep(U,I,y){const _=!!V.pendingBranch;_&&V.deps++;const T=U.vnode.el;U.asyncDep.catch(S=>{Ii(S,U,0)}).then(S=>{if(U.isUnmounted||V.isUnmounted||V.pendingId!==U.suspenseId)return;U.asyncResolved=!0;const{vnode:R}=U;Iu(U,S),T&&(R.el=T);const v=!T&&U.subTree.el;I(U,R,C(T||U.subTree.el),T?null:A(U.subTree),V,o,y),v&&(R.placeholder=null,D(v)),Gc(U,R.el),_&&--V.deps===0&&V.resolve()})},unmount(U,I){V.isUnmounted=!0,V.activeBranch&&m(V.activeBranch,n,U,I),V.pendingBranch&&m(V.pendingBranch,n,U,I)}};return V}function TI(t,e,n,r,s,i,o,c,l){const h=e.suspense=D_(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,c,!0),u=l(t,h.pendingBranch=e.ssContent,n,h,i,o);return h.deps===0&&h.resolve(!1,!0),u}function wI(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Fd(r?n.default:n),t.ssFallback=r?Fd(n.fallback):He(rt)}function Fd(t){let e;if(fe(t)){const n=oi&&t._c;n&&(t._d=!1,Oe()),t=t(),n&&(t._d=!0,e=Mt,x_())}return oe(t)&&(t=iI(t)),t=Ht(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function V_(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):pu(t)}function Js(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Gc(r,s))}function II(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Lt=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),Oa=Symbol.for("v-stc"),uo=[];let Mt=null;function Oe(t=!1){uo.push(Mt=t?null:[])}function x_(){uo.pop(),Mt=uo[uo.length-1]||null}let oi=1;function nc(t,e=!1){oi+=t,t<0&&Mt&&e&&(Mt.hasOnce=!0)}function L_(t){return t.dynamicChildren=oi>0?Mt||qs:null,x_(),oi>0&&Mt&&Mt.push(t),t}function dt(t,e,n,r,s,i){return L_(me(t,e,n,r,s,i,!0))}function zt(t,e,n,r,s){return L_(He(t,e,n,r,s,!0))}function ai(t){return t?t.__v_isVNode===!0:!1}function rn(t,e){return t.type===e.type&&t.key===e.key}const M_=({key:t})=>t??null,Da=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||$e(t)||fe(t)?{i:$t,r:t,k:e,f:!!n}:t:null);function me(t,e=null,n=null,r=0,s=null,i=t===Lt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&M_(e),ref:e&&Da(e),scopeId:e_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$t};return c?(Dh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),oi>0&&!o&&Mt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Mt.push(l),l}const He=bI;function bI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===p_)&&(t=rt),ai(t)){const c=Jn(t,e,!0);return n&&Dh(c,n),oi>0&&!i&&Mt&&(c.shapeFlag&6?Mt[Mt.indexOf(t)]=c:Mt.push(c)),c.patchFlag=-2,c}if(OI(t)&&(t=t.__vccOpts),e){e=F_(e);let{class:c,style:l}=e;c&&!qe(c)&&(e.class=ds(c)),Ve(l)&&(jc(l)&&!oe(l)&&(l=ht({},l)),e.style=Uc(l))}const o=qe(t)?1:tc(t)?128:n_(t)?64:Ve(t)?4:fe(t)?2:0;return me(t,e,n,r,s,o,i,!0)}function F_(t){return t?jc(t)||w_(t)?ht({},t):t:null}function Jn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,h=e?U_(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&M_(h),ref:e&&e.ref?n&&i?oe(i)?i.concat(Da(e)):[i,Da(e)]:Da(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jn(t.ssContent),ssFallback:t.ssFallback&&Jn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ii(u,l.clone(u)),u}function rc(t=" ",e=0){return He(us,null,t,e)}function br(t="",e=!1){return e?(Oe(),zt(rt,null,t)):He(rt,null,t)}function Ht(t){return t==null||typeof t=="boolean"?He(rt):oe(t)?He(Lt,null,t.slice()):ai(t)?yr(t):He(us,null,String(t))}function yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jn(t)}function Dh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(oe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Dh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!w_(e)?e._ctx=$t:s===3&&$t&&($t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:$t},n=32):(e=String(e),r&64?(n=16,e=[rc(e)]):n=8);t.children=e,t.shapeFlag|=n}function U_(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ds([e.class,r.class]));else if(s==="style")e.style=Uc([e.style,r.style]);else if(Uo(s)){const i=e[s],o=r[s];o&&i!==o&&!(oe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Vt(t,e,n,r=null){hn(t,e,7,[n,r])}const AI=y_();let RI=0;function SI(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||AI,i={uid:RI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Dm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b_(r,s),emitsOptions:E_(r,s),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:r.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=rI.bind(null,i),t.ce&&t.ce(i),i}let gt=null;const Is=()=>gt||$t;let sc,Tu;{const t=Fc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};sc=e("__VUE_INSTANCE_SETTERS__",n=>gt=n),Tu=e("__VUE_SSR_SETTERS__",n=>ci=n)}const gs=t=>{const e=gt;return sc(t),t.scope.on(),()=>{t.scope.off(),sc(e)}},wu=()=>{gt&&gt.scope.off(),sc(null)};function B_(t){return t.vnode.shapeFlag&4}let ci=!1;function CI(t,e=!1,n=!1){e&&Tu(e);const{props:r,children:s}=t.vnode,i=B_(t);lI(t,r,i,e),dI(t,s,n||e);const o=i?PI(t,e):void 0;return e&&Tu(!1),o}function PI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zw);const{setup:r}=n;if(r){zn();const s=t.setupContext=r.length>1?NI(t):null,i=gs(t),o=Bo(r,t,0,[t.props,s]),c=mh(o);if(Qn(),i(),(c||t.sp)&&!Pr(t)&&Ph(t),c){if(o.then(wu,wu),e)return o.then(l=>{Iu(t,l)}).catch(l=>{Ii(l,t,0)});t.asyncDep=o}else Iu(t,o)}else j_(t)}function Iu(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=Qm(e)),j_(t)}function j_(t,e,n){const r=t.type;t.render||(t.render=r.render||Tn);{const s=gs(t);zn();try{Qw(t)}finally{Qn(),s()}}}const kI={get(t,e){return bt(t,"get",""),t[e]}};function NI(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,kI),slots:t.slots,emit:t.emit,expose:e}}function zc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qm(Rh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in lo)return lo[n](t)},has(e,n){return n in e||n in lo}})):t.proxy}function bu(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function OI(t){return fe(t)&&"__vccOpts"in t}const Rt=(t,e)=>Tw(t,e,ci);function St(t,e,n){try{nc(-1);const r=arguments.length;return r===2?Ve(e)&&!oe(e)?ai(e)?He(t,null,[e]):He(t,e):He(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ai(n)&&(n=[n]),He(t,e,n))}finally{nc(1)}}const DI="3.5.26";let Au;const Ud=typeof window<"u"&&window.trustedTypes;if(Ud)try{Au=Ud.createPolicy("vue",{createHTML:t=>t})}catch{}const H_=Au?t=>Au.createHTML(t):t=>t,VI="http://www.w3.org/2000/svg",xI="http://www.w3.org/1998/Math/MathML",Fn=typeof document<"u"?document:null,Bd=Fn&&Fn.createElement("template"),LI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Fn.createElementNS(VI,t):e==="mathml"?Fn.createElementNS(xI,t):n?Fn.createElement(t,{is:n}):Fn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Fn.createTextNode(t),createComment:t=>Fn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Bd.innerHTML=H_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Bd.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},fr="transition",Gi="animation",Ro=Symbol("_vtc"),$_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MI=ht({},r_,$_),FI=t=>(t.displayName="Transition",t.props=MI,t),li=FI((t,{slots:e})=>St(Dw,UI(t),e)),Zr=(t,e=[])=>{oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},jd=t=>t?oe(t)?t.some(e=>e.length>1):t.length>1:!1;function UI(t){const e={};for(const R in t)R in $_||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:h=o,appearToClass:u=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,A=BI(s),C=A&&A[0],D=A&&A[1],{onBeforeEnter:O,onEnter:N,onEnterCancelled:w,onLeave:k,onLeaveCancelled:V,onBeforeAppear:U=O,onAppear:I=N,onAppearCancelled:y=w}=e,_=(R,v,ue,ve)=>{R._enterCancelled=ve,es(R,v?u:c),es(R,v?h:o),ue&&ue()},T=(R,v)=>{R._isLeaving=!1,es(R,d),es(R,m),es(R,g),v&&v()},S=R=>(v,ue)=>{const ve=R?I:N,X=()=>_(v,R,ue);Zr(ve,[v,X]),Hd(()=>{es(v,R?l:i),xn(v,R?u:c),jd(ve)||$d(v,r,C,X)})};return ht(e,{onBeforeEnter(R){Zr(O,[R]),xn(R,i),xn(R,o)},onBeforeAppear(R){Zr(U,[R]),xn(R,l),xn(R,h)},onEnter:S(!1),onAppear:S(!0),onLeave(R,v){R._isLeaving=!0;const ue=()=>T(R,v);xn(R,d),R._enterCancelled?(xn(R,g),Kd(R)):(Kd(R),xn(R,g)),Hd(()=>{R._isLeaving&&(es(R,d),xn(R,m),jd(k)||$d(R,r,D,ue))}),Zr(k,[R,ue])},onEnterCancelled(R){_(R,!1,void 0,!0),Zr(w,[R])},onAppearCancelled(R){_(R,!0,void 0,!0),Zr(y,[R])},onLeaveCancelled(R){T(R),Zr(V,[R])}})}function BI(t){if(t==null)return null;if(Ve(t))return[Ul(t.enter),Ul(t.leave)];{const e=Ul(t);return[e,e]}}function Ul(t){return Pm(t)}function xn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ro]||(t[Ro]=new Set)).add(e)}function es(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ro];n&&(n.delete(e),n.size||(t[Ro]=void 0))}function Hd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let jI=0;function $d(t,e,n,r){const s=t._endId=++jI,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=HI(t,e);if(!o)return r();const h=o+"end";let u=0;const d=()=>{t.removeEventListener(h,g),i()},g=m=>{m.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},c+1),t.addEventListener(h,g)}function HI(t,e){const n=window.getComputedStyle(t),r=A=>(n[A]||"").split(", "),s=r(`${fr}Delay`),i=r(`${fr}Duration`),o=qd(s,i),c=r(`${Gi}Delay`),l=r(`${Gi}Duration`),h=qd(c,l);let u=null,d=0,g=0;e===fr?o>0&&(u=fr,d=o,g=i.length):e===Gi?h>0&&(u=Gi,d=h,g=l.length):(d=Math.max(o,h),u=d>0?o>h?fr:Gi:null,g=u?u===fr?i.length:l.length:0);const m=u===fr&&/\b(?:transform|all)(?:,|$)/.test(r(`${fr}Property`).toString());return{type:u,timeout:d,propCount:g,hasTransform:m}}function qd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Wd(n)+Wd(t[r])))}function Wd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Kd(t){return(t?t.ownerDocument:document).body.offsetHeight}function $I(t,e,n){const r=t[Ro];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ic=Symbol("_vod"),q_=Symbol("_vsh"),qI={name:"show",beforeMount(t,{value:e},{transition:n}){t[ic]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):zi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),zi(t,!0),r.enter(t)):r.leave(t,()=>{zi(t,!1)}):zi(t,e))},beforeUnmount(t,{value:e}){zi(t,e)}};function zi(t,e){t.style.display=e?t[ic]:"none",t[q_]=!e}const WI=Symbol(""),KI=/(?:^|;)\s*display\s*:/;function GI(t,e,n){const r=t.style,s=qe(n);let i=!1;if(n&&!s){if(e)if(qe(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&Va(r,c,"")}else for(const o in e)n[o]==null&&Va(r,o,"");for(const o in n)o==="display"&&(i=!0),Va(r,o,n[o])}else if(s){if(e!==n){const o=r[WI];o&&(n+=";"+o),r.cssText=n,i=KI.test(n)}}else e&&t.removeAttribute("style");ic in t&&(t[ic]=i?r.display:"",t[q_]&&(r.display="none"))}const Gd=/\s*!important$/;function Va(t,e,n){if(oe(n))n.forEach(r=>Va(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=zI(t,e);Gd.test(n)?t.setProperty(qr(r),n.replace(Gd,""),"important"):t[r]=n}}const zd=["Webkit","Moz","ms"],Bl={};function zI(t,e){const n=Bl[e];if(n)return n;let r=Zt(e);if(r!=="filter"&&r in t)return Bl[e]=r;r=Lc(r);for(let s=0;s<zd.length;s++){const i=zd[s]+r;if(i in t)return Bl[e]=i}return e}const Qd="http://www.w3.org/1999/xlink";function Jd(t,e,n,r,s,i=WT(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Qd,e.slice(6,e.length)):t.setAttributeNS(Qd,e,n):n==null||i&&!km(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Cn(n)?String(n):n)}function Yd(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?H_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=km(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Hn(t,e,n,r){t.addEventListener(e,n,r)}function QI(t,e,n,r){t.removeEventListener(e,n,r)}const Xd=Symbol("_vei");function JI(t,e,n,r,s=null){const i=t[Xd]||(t[Xd]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=YI(e);if(r){const h=i[e]=eb(r,s);Hn(t,c,h,l)}else o&&(QI(t,c,o,l),i[e]=void 0)}}const Zd=/(?:Once|Passive|Capture)$/;function YI(t){let e;if(Zd.test(t)){e={};let r;for(;r=t.match(Zd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qr(t.slice(2)),e]}let jl=0;const XI=Promise.resolve(),ZI=()=>jl||(XI.then(()=>jl=0),jl=Date.now());function eb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hn(tb(r,n.value),e,5,[r])};return n.value=t,n.attached=ZI(),n}function tb(t,e){if(oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const ep=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nb=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?$I(t,r,o):e==="style"?GI(t,n,r):Uo(e)?ph(e)||JI(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rb(t,e,r,o))?(Yd(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Jd(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(r))?Yd(t,Zt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Jd(t,e,r,o))};function rb(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ep(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ep(e)&&qe(n)?!1:e in t}const Mr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return oe(e)?n=>Gs(e,n):e};function sb(t){t.target.composing=!0}function tp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xt=Symbol("_assign");function np(t,e,n){return e&&(t=t.trim()),n&&(t=Mc(t)),t}const oc={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Xt]=Mr(s);const i=r||s.props&&s.props.type==="number";Hn(t,e?"change":"input",o=>{o.target.composing||t[Xt](np(t.value,n,i))}),(n||i)&&Hn(t,"change",()=>{t.value=np(t.value,n,i)}),e||(Hn(t,"compositionstart",sb),Hn(t,"compositionend",tp),Hn(t,"change",tp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Xt]=Mr(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?Mc(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},ib={deep:!0,created(t,e,n){t[Xt]=Mr(n),Hn(t,"change",()=>{const r=t._modelValue,s=ui(t),i=t.checked,o=t[Xt];if(oe(r)){const c=_h(r,s),l=c!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const h=[...r];h.splice(c,1),o(h)}}else if(Ti(r)){const c=new Set(r);i?c.add(s):c.delete(s),o(c)}else o(W_(t,i))})},mounted:rp,beforeUpdate(t,e,n){t[Xt]=Mr(n),rp(t,e,n)}};function rp(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(oe(e))s=_h(e,r.props.value)>-1;else if(Ti(e))s=e.has(r.props.value);else{if(e===n)return;s=ps(e,W_(t,!0))}t.checked!==s&&(t.checked=s)}const ob={created(t,{value:e},n){t.checked=ps(e,n.props.value),t[Xt]=Mr(n),Hn(t,"change",()=>{t[Xt](ui(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Xt]=Mr(r),e!==n&&(t.checked=ps(e,r.props.value))}},ab={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ti(e);Hn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Mc(ui(o)):ui(o));t[Xt](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,xr(()=>{t._assigning=!1})}),t[Xt]=Mr(r)},mounted(t,{value:e}){sp(t,e)},beforeUpdate(t,e,n){t[Xt]=Mr(n)},updated(t,{value:e}){t._assigning||sp(t,e)}};function sp(t,e){const n=t.multiple,r=oe(e);if(!(n&&!r&&!Ti(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],c=ui(o);if(n)if(r){const l=typeof c;l==="string"||l==="number"?o.selected=e.some(h=>String(h)===String(c)):o.selected=_h(e,c)>-1}else o.selected=e.has(c);else if(ps(ui(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ui(t){return"_value"in t?t._value:t.value}function W_(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ip={created(t,e,n){va(t,e,n,null,"created")},mounted(t,e,n){va(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){va(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){va(t,e,n,r,"updated")}};function cb(t,e){switch(t){case"SELECT":return ab;case"TEXTAREA":return oc;default:switch(e){case"checkbox":return ib;case"radio":return ob;default:return oc}}}function va(t,e,n,r,s){const o=cb(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const lb=["ctrl","shift","alt","meta"],ub={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lb.some(n=>t[`${n}Key`]&&!e.includes(n))},K_=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const c=ub[e[o]];if(c&&c(s,e))return}return t(s,...i)}))},hb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ta=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=qr(s.key);if(e.some(o=>o===i||hb[o]===i))return t(s)}))},G_=ht({patchProp:nb},LI);let ho,op=!1;function fb(){return ho||(ho=gI(G_))}function db(){return ho=op?ho:mI(G_),op=!0,ho}const pb=((...t)=>{const e=fb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Q_(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,z_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),gb=((...t)=>{const e=db().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Q_(r);if(s)return n(s,!0,z_(s))},e});function z_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Q_(t){return qe(t)?document.querySelector(t):t}const mb=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_b=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,yb=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Eb(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){vb(t);return}return e}function vb(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ac(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!yb.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(mb.test(t)||_b.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Eb)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Tb=/#/g,wb=/&/g,Ib=/\//g,bb=/=/g,Vh=/\+/g,Ab=/%5e/gi,Rb=/%60/gi,Sb=/%7c/gi,Cb=/%20/gi;function Pb(t){return encodeURI(""+t).replace(Sb,"|")}function Ru(t){return Pb(typeof t=="string"?t:JSON.stringify(t)).replace(Vh,"%2B").replace(Cb,"+").replace(Tb,"%23").replace(wb,"%26").replace(Rb,"`").replace(Ab,"^").replace(Ib,"%2F")}function Hl(t){return Ru(t).replace(bb,"%3D")}function cc(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function kb(t){return cc(t.replace(Vh," "))}function Nb(t){return cc(t.replace(Vh," "))}function J_(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=kb(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=Nb(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function Ob(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Hl(t)}=${Ru(n)}`).join("&"):`${Hl(t)}=${Ru(e)}`:Hl(t)}function Db(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Ob(e,t[e])).filter(Boolean).join("&")}const Vb=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,xb=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Lb=/^([/\\]\s*){2,}[^/\\]/,Mb=/^[\s\0]*(blob|data|javascript|vbscript):$/i,Fb=/\/$|\/\?|\/#/,Ub=/^\.?\//;function bs(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Vb.test(t):xb.test(t)||(e.acceptRelative?Lb.test(t):!1)}function Bb(t){return!!t&&Mb.test(t)}function Su(t="",e){return e?Fb.test(t):t.endsWith("/")}function lc(t="",e){if(!e)return(Su(t)?t.slice(0,-1):t)||"/";if(!Su(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function jb(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Su(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function Hb(t,e){if(X_(e)||bs(t))return t;const n=lc(e);return t.startsWith(n)?t:xh(n,t)}function ap(t,e){if(X_(e))return t;const n=lc(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Y_(t,e){const n=ty(t),r={...J_(n.search),...e};return n.search=Db(r),Wb(n)}function X_(t){return!t||t==="/"}function $b(t){return t&&t!=="/"}function xh(t,...e){let n=t||"";for(const r of e.filter(s=>$b(s)))if(n){const s=r.replace(Ub,"");n=jb(n)+s}else n=r;return n}function Z_(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[c,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&bs(r[0]))continue;r.pop(),s--;continue}if(c===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function qb(t,e){return cc(lc(t))===cc(lc(e))}const ey=Symbol.for("ufo:protocolRelative");function ty(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,g=""]=n;return{protocol:d.toLowerCase(),pathname:g,href:d+g,auth:"",host:"",search:"",hash:""}}if(!bs(t,{acceptRelative:!0}))return cp(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",c=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:h,hash:u}=cp(c);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:h,hash:u,[ey]:!r}}function cp(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Wb(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[ey]?(t.protocol||"")+"//":"")+s+i+e+n+r}class Kb extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function Gb(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,c=new Kb(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(c,l,{get(){return t[l]}});for(const[l,h]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,l,{get(){return t.response&&t.response[h]}});return c}const zb=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function lp(t="GET"){return zb.has(t.toUpperCase())}function Qb(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Jb=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Yb=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Xb(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Yb.test(e)?"json":e==="text/event-stream"?"stream":Jb.has(e)||e.startsWith("text/")?"text":"blob"}function Zb(t,e,n,r){const s=eA(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function eA(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function wa(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const tA=new Set([408,409,425,429,500,502,503,504]),nA=new Set([101,204,205,304]);function ny(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(c){const l=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!l){let u;typeof c.options.retry=="number"?u=c.options.retry:u=lp(c.options.method)?0:1;const d=c.response&&c.response.status||500;if(u>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(d):tA.has(d))){const g=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return g>0&&await new Promise(m=>setTimeout(m,g)),i(c.request,{...c.options,retry:u-1})}}const h=Gb(c);throw Error.captureStackTrace&&Error.captureStackTrace(h,i),h}const i=async function(l,h={}){const u={request:l,options:Zb(l,h,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await wa(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Hb(u.request,u.options.baseURL)),u.options.query&&(u.request=Y_(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&lp(u.options.method))if(Qb(u.options.body)){const m=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=m==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),m||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const m=new r;d=setTimeout(()=>{const A=new Error("[TimeoutError]: The operation was aborted due to timeout");A.name="TimeoutError",A.code=23,m.abort(A)},u.options.timeout),u.options.signal=m.signal}try{u.response=await e(u.request,u.options)}catch(m){return u.error=m,u.options.onRequestError&&await wa(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!nA.has(u.response.status)&&u.options.method!=="HEAD"){const m=(u.options.parseResponse?"json":u.options.responseType)||Xb(u.response.headers.get("content-type")||"");switch(m){case"json":{const A=await u.response.text(),C=u.options.parseResponse||ac;u.response._data=C(A);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[m]()}}return u.options.onResponse&&await wa(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await wa(u,u.options.onResponseError),await s(u)):u.response},o=async function(l,h){return(await i(l,h))._data};return o.raw=i,o.native=(...c)=>e(...c),o.create=(c={},l={})=>ny({...t,...l,defaults:{...t.defaults,...l.defaults,...c}}),o}const uc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),rA=uc.fetch?(...t)=>uc.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),sA=uc.Headers,iA=uc.AbortController,oA=ny({fetch:rA,Headers:sA,AbortController:iA}),aA=oA,cA=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Lh=()=>cA().app,lA=()=>Lh().baseURL,uA=()=>Lh().buildAssetsDir,Mh=(...t)=>Z_(ry(),uA(),...t),ry=(...t)=>{const e=Lh(),n=e.cdnURL||e.baseURL;return t.length?Z_(n,...t):n};globalThis.__buildAssetsURL=Mh,globalThis.__publicAssetsURL=ry;globalThis.$fetch||(globalThis.$fetch=aA.create({baseURL:lA()}));"global"in globalThis||(globalThis.global=globalThis);function Cu(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Cu(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const hA={run:t=>t()},fA=()=>hA,sy=typeof console.createTask<"u"?console.createTask:fA;function dA(t,e){const n=e.shift(),r=sy(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function pA(t,e){const n=e.shift(),r=sy(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function $l(t,e){for(const n of[...t])n(e)}class gA{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Cu(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Cu(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(dA,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(pA,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&$l(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&$l(this._after,s)}):(this._after&&s&&$l(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function iy(){return new gA}function mA(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,c)=>{c||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,c)=>{r(o),e=o;try{return s?s.run(o,c):c()}finally{n||(e=void 0)}},async callAsync(o,c){e=o;const l=()=>{e=o},h=()=>e===o?l:void 0;Pu.add(h);try{const u=s?s.run(o,c):c();return n||(e=void 0),await u}finally{Pu.delete(h)}}}}function _A(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=mA({...t,...r})),e[n]}}}const hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},up="__unctx__",yA=hc[up]||(hc[up]=_A()),EA=(t,e={})=>yA.get(t,e),hp="__unctx_async_handlers__",Pu=hc[hp]||(hc[hp]=new Set);function Ys(t){const e=[];for(const s of Pu){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const vA=!1,fp=!1,TA=!1,dp={id:"__nuxt-loader"},$V={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},qV={deep:!1},WV={},wA="#__nuxt",oy="nuxt-app",pp=36e5,IA="vite:preloadError";function ay(t=oy){return EA(t,{asyncContext:!1})}const bA="__nuxt_plugin";function AA(t){let e=0;const n={_id:t.id||oy||"nuxt-app",_scope:yh(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return n.vueApp.version}},payload:vn({...t.ssrContext?.payload||{},data:vn({}),state:tr({}),once:new Set,_errors:vn({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!Eh()?n._scope.run(()=>gp(n,s)):gp(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:vn({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=iy(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;Ia(n,o,i),Ia(n.vueApp.config.globalProperties,o,i)},Ia(n.vueApp,"$nuxt",n),Ia(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(IA,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Ue;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function RA(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function SA(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function CA(t,e){const n=new Set,r=[],s=[];let i,o=0;async function c(l){const h=l.dependsOn?.filter(u=>e.some(d=>d._name===u)&&!n.has(u))??[];if(h.length>0)r.push([new Set(h),l]);else{const u=SA(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([d,g])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(o++,await c(g)))})))}).catch(d=>{if(!l.parallel&&!t.payload.error)throw d;i||=d});l.parallel?s.push(u):await u}}for(const l of e)RA(t,l);for(const l of e)await c(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function en(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[bA]:!0,_name:e})}const PA=en;function gp(t,e,n){const r=()=>e();return ay(t._id).set(t),t.vueApp.runWithContext(r)}function kA(t){let e;return Hc()&&(e=Is()?.appContext.app.$nuxt),e||=ay(t).tryUse(),e||null}function Ue(t){const e=kA(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function $o(t){return Ue().$config}function Ia(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function NA(t,e){return{ctx:{table:t},matchAll:n=>ly(n,t)}}function cy(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,cy(s)])):new Map(Object.entries(t[n]));return e}function OA(t){return NA(cy(t))}function ly(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of mp(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of mp(e.dynamic))if(t.startsWith(i+"/")){const c="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...ly(c,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function mp(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function ql(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function ku(t,e,n=".",r){if(!ql(e))return ku(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:ql(o)&&ql(s[i])?s[i]=ku(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function DA(t){return(...e)=>e.reduce((n,r)=>ku(n,r,"",t),{})}const uy=DA();function VA(t,e){try{return e in t}catch{return!1}}class _p extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Nu(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=hy(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function xA(t){if(typeof t=="string")return new _p(t);if(LA(t))return t;const e=new _p(t.message??t.statusMessage??"",{cause:t.cause||t});if(VA(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Nu(t.statusCode,e.statusCode):t.status&&(e.statusCode=Nu(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;hy(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function LA(t){return t?.constructor?.__h3_error__===!0}const MA=/[^\u0009\u0020-\u007E]/g;function hy(t=""){return t.replace(MA,"")}function Nu(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const fy=Symbol("layout-meta"),ms=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Wt=()=>Ue()?.$router,Qc=()=>Hc()?_t(ms,Ue()._route):Ue()._route;const FA=()=>{try{if(Ue()._processingMiddleware)return!0}catch{return!1}return!1},KV=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?UA(t):Wt().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:h={}}=e.open,u=[];for(const[d,g]of Object.entries(h))g!==void 0&&u.push(`${d.toLowerCase()}=${g}`);return open(n,l,u.join(", ")),Promise.resolve()}const r=bs(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&Bb(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=FA();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:h,hash:u}=ty(t);return{path:l,...h&&{query:J_(h)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=Wt(),c=Ue();return s?(c._scope.stop(),e?.replace?location.replace(n):location.href=n,i?c.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function UA(t){return Y_(t.path||"",t.query||{})+(t.hash||"")}const dy="__nuxt_error",Jc=()=>Ew(Ue().payload,"error"),ss=t=>{const e=hs(t);try{const n=Jc();Ue().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},BA=async(t={})=>{const e=Ue(),n=Jc();e.callHook("app:error:cleared",t),t.redirect&&await Wt().replace(t.redirect),n.value=void 0},py=t=>!!t&&typeof t=="object"&&dy in t,hs=t=>{const e=xA(t);return Object.defineProperty(e,dy,{value:!0,configurable:!1,writable:!1}),e};let gy;const hi=t=>gy=t,my=Symbol();function Ou(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var fo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(fo||(fo={}));function jA(){const t=yh(!0),e=t.run(()=>lt({}));let n=[],r=[];const s=Rh({install(i){hi(s),s._a=i,i.provide(my,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const _y=()=>{};function yp(t,e,n,r=_y){t.add(e);const s=()=>{t.delete(e)&&r()};return!n&&Eh()&&GT(s),s}function xs(t,...e){t.forEach(n=>{n(...e)})}const HA=t=>t(),Ep=Symbol(),Wl=Symbol();function Du(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Ou(s)&&Ou(r)&&t.hasOwnProperty(n)&&!$e(r)&&!wn(r)?t[n]=Du(s,r):t[n]=r}return t}const $A=Symbol();function qA(t){return!Ou(t)||!Object.prototype.hasOwnProperty.call(t,$A)}const{assign:gr}=Object;function WA(t){return!!($e(t)&&t.effect)}function KA(t,e,n,r){const{state:s,actions:i,getters:o}=e,c=n.state.value[t];let l;function h(){c||(n.state.value[t]=s?s():{});const u=mw(n.state.value[t]);return gr(u,i,Object.keys(o||{}).reduce((d,g)=>(d[g]=Rh(Rt(()=>{hi(n);const m=n._s.get(t);return o[g].call(m,m)})),d),{}))}return l=yy(t,h,e,n,r,!0),l}function yy(t,e,n={},r,s,i){let o;const c=gr({actions:{}},n),l={deep:!0};let h,u,d=new Set,g=new Set,m;const A=r.state.value[t];!i&&!A&&(r.state.value[t]={}),lt({});let C;function D(y){let _;h=u=!1,typeof y=="function"?(y(r.state.value[t]),_={type:fo.patchFunction,storeId:t,events:m}):(Du(r.state.value[t],y),_={type:fo.patchObject,payload:y,storeId:t,events:m});const T=C=Symbol();xr().then(()=>{C===T&&(h=!0)}),u=!0,xs(d,_,r.state.value[t])}const O=i?function(){const{state:_}=n,T=_?_():{};this.$patch(S=>{gr(S,T)})}:_y;function N(){o.stop(),d.clear(),g.clear(),r._s.delete(t)}const w=(y,_="")=>{if(Ep in y)return y[Wl]=_,y;const T=function(){hi(r);const S=Array.from(arguments),R=new Set,v=new Set;function ue(re){R.add(re)}function ve(re){v.add(re)}xs(g,{args:S,name:T[Wl],store:V,after:ue,onError:ve});let X;try{X=y.apply(this&&this.$id===t?this:V,S)}catch(re){throw xs(v,re),re}return X instanceof Promise?X.then(re=>(xs(R,re),re)).catch(re=>(xs(v,re),Promise.reject(re))):(xs(R,X),X)};return T[Ep]=!0,T[Wl]=_,T},k={_p:r,$id:t,$onAction:yp.bind(null,g),$patch:D,$reset:O,$subscribe(y,_={}){const T=yp(d,y,_.detached,()=>S()),S=o.run(()=>Wn(()=>r.state.value[t],R=>{(_.flush==="sync"?u:h)&&y({storeId:t,type:fo.direct,events:m},R)},gr({},l,_)));return T},$dispose:N},V=tr(k);r._s.set(t,V);const I=(r._a&&r._a.runWithContext||HA)(()=>r._e.run(()=>(o=yh()).run(()=>e({action:w}))));for(const y in I){const _=I[y];if($e(_)&&!WA(_)||wn(_))i||(A&&qA(_)&&($e(_)?_.value=A[y]:Du(_,A[y])),r.state.value[t][y]=_);else if(typeof _=="function"){const T=w(_,y);I[y]=T,c.actions[y]=_}}return gr(V,I),gr(Re(V),I),Object.defineProperty(V,"$state",{get:()=>r.state.value[t],set:y=>{D(_=>{gr(_,y)})}}),r._p.forEach(y=>{gr(V,o.run(()=>y({store:V,app:r._a,pinia:r,options:c})))}),A&&i&&n.hydrate&&n.hydrate(V.$state,A),h=!0,u=!0,V}function GA(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,c){const l=Hc();return o=o||(l?_t(my,null):null),o&&hi(o),o=gy,o._s.has(t)||(s?yy(t,e,r,o):KA(t,r,o)),o._s.get(t)}return i.$id=t,i}function zA(t){const e=JA(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const QA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function JA(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=QA.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const YA=-1,XA=-2,ZA=-3,eR=-4,tR=-5,nR=-6;function rR(t,e){return sR(JSON.parse(t),e)}function sR(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===YA)return;if(i===ZA)return NaN;if(i===eR)return 1/0;if(i===tR)return-1/0;if(i===nR)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const c=n[i];if(!c||typeof c!="object")r[i]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const l=c[0],h=e&&Object.hasOwn(e,l)?e[l]:void 0;if(h){let u=c[1];return typeof u!="number"&&(u=n.push(c[1])-1),r[i]=h(s(u))}switch(l){case"Date":r[i]=new Date(c[1]);break;case"Set":const u=new Set;r[i]=u;for(let m=1;m<c.length;m+=1)u.add(s(c[m]));break;case"Map":const d=new Map;r[i]=d;for(let m=1;m<c.length;m+=2)d.set(s(c[m]),s(c[m+1]));break;case"RegExp":r[i]=new RegExp(c[1],c[2]);break;case"Object":r[i]=Object(c[1]);break;case"BigInt":r[i]=BigInt(c[1]);break;case"null":const g=Object.create(null);r[i]=g;for(let m=1;m<c.length;m+=2)g[c[m]]=s(c[m+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const m=globalThis[l],A=new m(s(c[1]));r[i]=c[2]!==void 0?A.subarray(c[2],c[3]):A;break}case"ArrayBuffer":{const m=c[1],A=zA(m);r[i]=A;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const m=l.slice(9);r[i]=Temporal[m].from(c[1]);break}case"URL":{const m=new URL(c[1]);r[i]=m;break}case"URLSearchParams":{const m=new URLSearchParams(c[1]);r[i]=m;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(c.length);r[i]=l;for(let h=0;h<c.length;h+=1){const u=c[h];u!==XA&&(l[h]=s(u))}}else{const l={};r[i]=l;for(const h in c){if(h==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const u=c[h];l[h]=s(u)}}return r[i]}return s(0)}const iR=new Set(["link","style","script","noscript"]),oR=new Set(["title","titleTemplate","script","style","noscript"]),vp=new Set(["base","meta","link","style","script","noscript"]),aR=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),cR=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),lR=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),uR=new Set(["templateParams","htmlAttrs","bodyAttrs"]),hR=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),fR=["name","property","http-equiv"],dR=new Set(["viewport","description","keywords","robots"]);function Ey(t){const e=t.split(":");return e.length?hR.has(e[1]):!1}function Vu(t){const{props:e,tag:n}=t;if(cR.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of fR)if(e[r]!==void 0){const s=e[r],i=s&&typeof s=="string"&&s.includes(":"),o=s&&dR.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(oR.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Tp(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function fc(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());const s=e?e(n,t):t;if(Array.isArray(s))return s.map(i=>fc(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=fc(s[o],e,o);return i}return s}function pR(t,e){const n=t==="style"?new Map:new Set;function r(s){if(s==null||s===void 0)return;const i=String(s).trim();if(i)if(t==="style"){const[o,...c]=i.split(":").map(l=>l?l.trim():"");o&&c.length&&n.set(o,c.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(String(s).trim(),String(i)):r(s))}),n}function vy(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=pR(n,r);return}if(lR.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let c=e.type;if(e.type||(c="application/json"),!c?.endsWith("json")&&c!=="speculationrules")return;e.type=c,t.props.type=c,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-"),o=t.tag==="meta"&&n==="content";s==="true"||s===""?t.props[n]=i||o?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function gR(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=vy({tag:t,props:{}},n);return r.key&&iR.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function mR(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=fc(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(gR(s,o))}),r.flat()}const wp=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Ip={base:-10,title:10},_R={critical:-8,high:-1,low:2},bp={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},yR=/@import/,Qi=t=>t===""||t===!0;function ER(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=_R[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:bp;if(e.tag in Ip)n=Ip[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=bp.meta[i])}else if(e.tag==="link"&&e.props.rel)n=s.link[e.props.rel];else if(e.tag==="script"){const i=String(e.props.type);Qi(e.props.async)?n=s.script.async:e.props.src&&!Qi(e.props.defer)&&!Qi(e.props.async)&&i!=="module"&&!i.endsWith("json")||e.innerHTML&&!i.endsWith("json")?n=s.script.sync:(Qi(e.props.defer)&&e.props.src&&!Qi(e.props.async)||i==="module")&&(n=s.script.defer)}else e.tag==="style"&&(n=e.innerHTML&&yR.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Ap(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function vR(t={}){const e=iy();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:c=>Ap(o,c),push(c,l){const h={...l||{}};delete h.head;const u=h._index??o._entryCount++,d={_i:u,input:c,options:h},g={_poll(m=!1){o.dirty=!0,!m&&i.add(u),e.callHook("entries:updated",o)},dispose(){r.delete(u)&&o.invalidate()},patch(m){(!h.mode||h.mode==="server"&&n||h.mode==="client"&&!n)&&(d.input=m,r.set(u,d),g._poll())}};return g.patch(c),g},async resolveTags(){const c={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",c);i.size;){const g=i.values().next().value;i.delete(g);const m=r.get(g);if(m){const A={tags:mR(m.input,t.propResolvers||[]).map(C=>Object.assign(C,m.options)),entry:m};await e.callHook("entries:normalize",A),m._tags=A.tags.map((C,D)=>(C._w=ER(o,C),C._p=(m._i<<10)+D,C._d=Vu(C),C))}}let l=!1;c.entries.flatMap(g=>(g._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(wp).reduce((g,m)=>{const A=String(m._d||m._p);if(!g.has(A))return g.set(A,m);const C=g.get(A);if((m?.tagDuplicateStrategy||(uR.has(m.tag)?"merge":null)||(m.key&&m.key===C.key?"merge":null))==="merge"){const O={...C.props};Object.entries(m.props).forEach(([N,w])=>O[N]=N==="style"?new Map([...C.props.style||new Map,...w]):N==="class"?new Set([...C.props.class||new Set,...w]):w),g.set(A,{...m,props:O})}else m._p>>10===C._p>>10&&m.tag==="meta"&&Ey(A)?(g.set(A,Object.assign([...Array.isArray(C)?C:[C],m],m)),l=!0):(m._w===C._w?m._p>C._p:m?._w<C?._w)&&g.set(A,m);return g},c.tagMap);const h=c.tagMap.get("title"),u=c.tagMap.get("titleTemplate");if(o._title=h?.textContent,u){const g=u?.textContent;if(o._titleTemplate=g,g){let m=typeof g=="function"?g(h?.textContent):g;typeof m=="string"&&!o.plugins.has("template-params")&&(m=m.replace("%s",h?.textContent||"")),h?m===null?c.tagMap.delete("title"):c.tagMap.set("title",{...h,textContent:m}):(u.tag="title",u.textContent=m)}}c.tags=Array.from(c.tagMap.values()),l&&(c.tags=c.tags.flat().sort(wp)),await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c);const d=[];for(const g of c.tags){const{innerHTML:m,tag:A,props:C}=g;if(aR.has(A)&&!(Object.keys(C).length===0&&!g.innerHTML&&!g.textContent)&&!(A==="meta"&&!C.content&&!C["http-equiv"]&&!C.charset)){if(A==="script"&&m){if(String(C.type).endsWith("json")){const D=typeof m=="string"?m:JSON.stringify(m);g.innerHTML=D.replace(/</g,"\\u003C")}else typeof m=="string"&&(g.innerHTML=m.replace(new RegExp(`</${A}`,"g"),`<\\/${A}`));g._d=Vu(g)}d.push(g)}}return d},invalidate(){for(const c of r.values())i.add(c._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(c=>Ap(o,c)),o.hooks.callHook("init",o),t.init?.forEach(c=>c&&o.push(c)),o}const TR=(t,e)=>$e(e)?pw(e):e,Ty="usehead";function wR(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Ty,t)}}.install}function IR(){if(Hc()){const t=_t(Ty);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function GV(t,e={}){const n=e.head||IR();return n.ssr?n.push(t||{},e):bR(n,t,e)}function bR(t,e,n={}){const r=lt(!1);let s;return Cw(()=>{const o=r.value?{}:fc(e,TR);s?s.patch(o):s=t.push(o,n)}),Is()&&(Ho(()=>{s.dispose()}),l_(()=>{r.value=!0}),c_(()=>{r.value=!1})),s}let xa,La;function AR(){return xa=$fetch(Mh(`builds/meta/${$o().app.buildId}.json`),{responseType:"json"}),xa.then(t=>{La=OA(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),xa}function Yc(){return xa||AR()}async function Fh(t){const e=typeof t=="string"?t:t.path;if(await Yc(),!La)return console.error("[nuxt] Error creating app manifest matcher.",La),{};try{return uy({},...La.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Rp(t,e={}){if(!await Iy(t))return null;const r=await SR(t,e);return await wy(r)||null}const RR="_payload.json";async function SR(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||bs(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=$o(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await Iy(t)?i:r.app.baseURL;return xh(o,n.pathname,RR+(s?`?${s}`:""))}async function wy(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(by));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function Iy(t=Qc().path){const e=Ue();return t=t==="/"?t:t.replace(/\/$/,""),(await Yc()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Fh({path:t});return!!r.prerender&&!r.redirect})}let ts=null;async function CR(){if(ts)return ts;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await by(t.textContent||""),n=t.dataset.src?await wy(t.dataset.src):void 0;return ts={...e,...n,...window.__NUXT__},ts.config?.public&&(ts.config.public=tr(ts.config.public)),ts}async function by(t){return await rR(t,Ue()._payloadRevivers)}function Ay(t,e){Ue()._payloadRevivers[t]=e}const PR=PA(()=>{Ay("skipHydrate",t=>{})}),kR=[["NuxtError",t=>hs(t)],["EmptyShallowRef",t=>si(t==="_"?void 0:t==="0n"?BigInt(0):ac(t))],["EmptyRef",t=>lt(t==="_"?void 0:t==="0n"?BigInt(0):ac(t))],["ShallowRef",t=>si(t)],["ShallowReactive",t=>vn(t)],["Ref",t=>lt(t)],["Reactive",t=>tr(t)]],NR=en({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of kR)Ay(r,s);Object.assign(t.payload,([e,n]=Ys(()=>t.runWithContext(CR)),e=await e,n(),e)),delete window.__NUXT__}});async function Uh(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(m=>{t.resolveTags().then(A=>{m(A.map(C=>{const D=i.get(C._d)||0,O={tag:C,id:(D?`${C._d}:${D}`:C._d)||Tp(C),shouldRender:!0};return C._d&&Ey(C._d)&&i.set(C._d,D+1),O}))})});let c=t._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const A=n[m]?.children;for(const C of A){const D=C.tagName.toLowerCase();if(!vp.has(D))continue;const O=vy({tag:D,props:{}},{innerHTML:C.innerHTML,...C.getAttributeNames().reduce((N,w)=>(N[w]=C.getAttribute(w),N),{})||{}});if(O.key=C.getAttribute("data-hid")||void 0,O._d=Vu(O)||Tp(O),c.elMap.has(O._d)){let N=1,w=O._d;for(;c.elMap.has(w);)w=`${O._d}:${N++}`;c.elMap.set(w,C)}else c.elMap.set(O._d,C)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function l(m,A,C){const D=`${m}:${A}`;c.sideEffects[D]=C,delete c.pendingSideEffects[D]}function h({id:m,$el:A,tag:C}){const D=C.tag.endsWith("Attrs");c.elMap.set(m,A),D||(C.textContent&&C.textContent!==A.textContent&&(A.textContent=C.textContent),C.innerHTML&&C.innerHTML!==A.innerHTML&&(A.innerHTML=C.innerHTML),l(m,"el",()=>{A?.remove(),c.elMap.delete(m)}));for(const O in C.props){if(!Object.prototype.hasOwnProperty.call(C.props,O))continue;const N=C.props[O];if(O.startsWith("on")&&typeof N=="function"){const k=A?.dataset;if(k&&k[`${O}fired`]){const V=O.slice(0,-5);N.call(A,new Event(V.substring(2)))}A.getAttribute(`data-${O}`)!==""&&((C.tag==="bodyAttrs"?n.defaultView:A).addEventListener(O.substring(2),N.bind(A)),A.setAttribute(`data-${O}`,""));continue}const w=`attr:${O}`;if(O==="class"){if(!N)continue;for(const k of N)D&&l(m,`${w}:${k}`,()=>A.classList.remove(k)),!A.classList.contains(k)&&A.classList.add(k)}else if(O==="style"){if(!N)continue;for(const[k,V]of N)l(m,`${w}:${k}`,()=>{A.style.removeProperty(k)}),A.style.setProperty(k,V)}else N!==!1&&N!==null&&(A.getAttribute(O)!==N&&A.setAttribute(O,N===!0?"":String(N)),D&&l(m,w,()=>A.removeAttribute(O)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const m of g){const{tag:A,shouldRender:C,id:D}=m;if(C){if(A.tag==="title"){n.title=A.textContent,l("title","",()=>n.title=c.title);continue}m.$el=m.$el||c.elMap.get(D),m.$el?h(m):vp.has(A.tag)&&u.push(m)}}for(const m of u){const A=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),h(m),d[A]=d[A]||n.createDocumentFragment(),d[A].appendChild(m.$el)}for(const m of g)await t.hooks.callHook("dom:renderTag",m,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const m in c.pendingSideEffects)c.pendingSideEffects[m]();t._dom=c,await t.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function OR(t={}){const e=t.domOptions?.render||Uh;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return vR({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function DR(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function VR(t={}){const e=OR({domOptions:{render:DR(()=>Uh(e),n=>setTimeout(n,0))},...t});return e.install=wR(e),e}const xR={disableDefaults:!0},LR=en({name:"nuxt:head",enforce:"pre",setup(t){const e=VR(xR);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Uh(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});const Ms=typeof document<"u";function Ry(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function MR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ry(t.default)}const ke=Object.assign;function Kl(t,e){const n={};for(const r in e){const s=e[r];n[r]=fn(s)?s.map(t):t(s)}return n}const po=()=>{},fn=Array.isArray;function Sp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Sy=/#/g,FR=/&/g,UR=/\//g,BR=/=/g,jR=/\?/g,Cy=/\+/g,HR=/%5B/g,$R=/%5D/g,Py=/%5E/g,qR=/%60/g,ky=/%7B/g,WR=/%7C/g,Ny=/%7D/g,KR=/%20/g;function Bh(t){return t==null?"":encodeURI(""+t).replace(WR,"|").replace(HR,"[").replace($R,"]")}function GR(t){return Bh(t).replace(ky,"{").replace(Ny,"}").replace(Py,"^")}function xu(t){return Bh(t).replace(Cy,"%2B").replace(KR,"+").replace(Sy,"%23").replace(FR,"%26").replace(qR,"`").replace(ky,"{").replace(Ny,"}").replace(Py,"^")}function zR(t){return xu(t).replace(BR,"%3D")}function QR(t){return Bh(t).replace(Sy,"%23").replace(jR,"%3F")}function JR(t){return QR(t).replace(UR,"%2F")}function So(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const YR=/\/$/,XR=t=>t.replace(YR,"");function Gl(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,c>0?c:e.length),s=t(i.slice(1))),c>=0&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=nS(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:So(o)}}function ZR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eS(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&fi(e.matched[r],n.matched[s])&&Oy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function fi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Oy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!tS(t[n],e[n]))return!1;return!0}function tS(t,e){return fn(t)?Pp(t,e):fn(e)?Pp(e,t):t?.valueOf()===e?.valueOf()}function Pp(t,e){return fn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function nS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Lu=(function(t){return t.pop="pop",t.push="push",t})({}),zl=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function rS(t){if(!t)if(Ms){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XR(t)}const sS=/^[^#]+#/;function iS(t,e){return t.replace(sS,"#")+e}function oS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xc=()=>({left:window.scrollX,top:window.scrollY});function aS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=oS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function kp(t,e){return(history.state?history.state.position-e:-1)+t}const Mu=new Map;function cS(t,e){Mu.set(t,e)}function lS(t){const e=Mu.get(t);return Mu.delete(t),e}function uS(t){return typeof t=="string"||t&&typeof t=="object"}function Dy(t){return typeof t=="string"||typeof t=="symbol"}let ze=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Vy=Symbol("");ze.MATCHER_NOT_FOUND+"",ze.NAVIGATION_GUARD_REDIRECT+"",ze.NAVIGATION_ABORTED+"",ze.NAVIGATION_CANCELLED+"",ze.NAVIGATION_DUPLICATED+"";function di(t,e){return ke(new Error,{type:t,[Vy]:!0},e)}function Ln(t,e){return t instanceof Error&&Vy in t&&(e==null||!!(t.type&e))}const hS=["params","query","hash"];function fS(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of hS)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function dS(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Cy," "),i=s.indexOf("="),o=So(i<0?s:s.slice(0,i)),c=i<0?null:So(s.slice(i+1));if(o in e){let l=e[o];fn(l)||(l=e[o]=[l]),l.push(c)}else e[o]=c}return e}function Np(t){let e="";for(let n in t){const r=t[n];if(n=zR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(fn(r)?r.map(s=>s&&xu(s)):[r&&xu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function pS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=fn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const gS=Symbol(""),Op=Symbol(""),jh=Symbol(""),Hh=Symbol(""),Fu=Symbol("");function Ji(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Er(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const h=g=>{g===!1?l(di(ze.NAVIGATION_ABORTED,{from:n,to:e})):g instanceof Error?l(g):uS(g)?l(di(ze.NAVIGATION_GUARD_REDIRECT,{from:e,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),c())},u=i(()=>t.call(r&&r.instances[s],e,n,h));let d=Promise.resolve(u);t.length<3&&(d=d.then(h)),d.catch(g=>l(g))})}function Ql(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(Ry(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Er(h,n,r,o,c,s))}else{let h=l();i.push(()=>h.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=MR(u)?u.default:u;o.mods[c]=u,o.components[c]=d;const g=(d.__vccOpts||d)[e];return g&&Er(g,n,r,o,c,s)()}))}}return i}function mS(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(h=>fi(h,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(h=>fi(h,l))||s.push(l))}return[n,r,s]}let _S=()=>location.protocol+"//"+location.host;function xy(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(o);return c[0]!=="/"&&(c="/"+c),Cp(c,"")}return Cp(n,t)+r+s}function yS(t,e,n,r){let s=[],i=[],o=null;const c=({state:g})=>{const m=xy(t,location),A=n.value,C=e.value;let D=0;if(g){if(n.value=m,e.value=g,o&&o===A){o=null;return}D=C?g.position-C.position:0}else r(m);s.forEach(O=>{O(n.value,A,{delta:D,type:Lu.pop,direction:D?D>0?zl.forward:zl.back:zl.unknown})})};function l(){o=n.value}function h(g){s.push(g);const m=()=>{const A=s.indexOf(g);A>-1&&s.splice(A,1)};return i.push(m),m}function u(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(ke({},g.state,{scroll:Xc()}),"")}}function d(){for(const g of i)g();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:h,destroy:d}}function Dp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Xc():null}}function ES(t){const{history:e,location:n}=window,r={value:xy(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,h,u){const d=t.indexOf("#"),g=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:_S()+t+l;try{e[u?"replaceState":"pushState"](h,"",g),s.value=h}catch(m){console.error(m),n[u?"replace":"assign"](g)}}function o(l,h){i(l,ke({},e.state,Dp(s.value.back,l,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=l}function c(l,h){const u=ke({},s.value,e.state,{forward:l,scroll:Xc()});i(u.current,u,!0),i(l,ke({},Dp(r.value,l,null),{position:u.position+1},h),!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function vS(t){t=rS(t);const e=ES(t),n=yS(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ke({location:"",base:t,go:r,createHref:iS.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let os=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var nt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(nt||{});const TS={type:os.Static,value:""},wS=/[a-zA-Z0-9_]/;function IS(t){if(!t)return[[]];if(t==="/")return[[TS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${h}": ${m}`)}let n=nt.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,h="",u="";function d(){h&&(n===nt.Static?i.push({type:os.Static,value:h}):n===nt.Param||n===nt.ParamRegExp||n===nt.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:os.Param,value:h,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==nt.ParamRegExp){r=n,n=nt.EscapeNext;continue}switch(n){case nt.Static:l==="/"?(h&&d(),o()):l===":"?(d(),n=nt.Param):g();break;case nt.EscapeNext:g(),n=r;break;case nt.Param:l==="("?n=nt.ParamRegExp:wS.test(l)?g():(d(),n=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case nt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=nt.ParamRegExpEnd:u+=l;break;case nt.ParamRegExpEnd:d(),n=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,u="";break;default:e("Unknown state");break}}return n===nt.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),d(),o(),s}const Vp="[^/]+?",bS={sensitive:!1,strict:!1,start:!0,end:!0};var Nt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Nt||{});const AS=/[.+*?^${}()[\]/\\]/g;function RS(t,e){const n=ke({},bS,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const u=h.length?[]:[Nt.Root];n.strict&&!h.length&&(s+="/");for(let d=0;d<h.length;d++){const g=h[d];let m=Nt.Segment+(n.sensitive?Nt.BonusCaseSensitive:0);if(g.type===os.Static)d||(s+="/"),s+=g.value.replace(AS,"\\$&"),m+=Nt.Static;else if(g.type===os.Param){const{value:A,repeatable:C,optional:D,regexp:O}=g;i.push({name:A,repeatable:C,optional:D});const N=O||Vp;if(N!==Vp){m+=Nt.BonusCustomRegExp;try{`${N}`}catch(k){throw new Error(`Invalid custom RegExp for param "${A}" (${N}): `+k.message)}}let w=C?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;d||(w=D&&h.length<2?`(?:/${w})`:"/"+w),D&&(w+="?"),s+=w,m+=Nt.Dynamic,D&&(m+=Nt.BonusOptional),C&&(m+=Nt.BonusRepeatable),N===".*"&&(m+=Nt.BonusWildcard)}u.push(m)}r.push(u)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=Nt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(h){const u=h.match(o),d={};if(!u)return null;for(let g=1;g<u.length;g++){const m=u[g]||"",A=i[g-1];d[A.name]=m&&A.repeatable?m.split("/"):m}return d}function l(h){let u="",d=!1;for(const g of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const m of g)if(m.type===os.Static)u+=m.value;else if(m.type===os.Param){const{value:A,repeatable:C,optional:D}=m,O=A in h?h[A]:"";if(fn(O)&&!C)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const N=fn(O)?O.join("/"):O;if(!N)if(D)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${A}"`);u+=N}}return u||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function SS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Nt.Static+Nt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Nt.Static+Nt.Segment?1:-1:0}function Ly(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=SS(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(xp(r))return 1;if(xp(s))return-1}return s.length-r.length}function xp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const CS={strict:!1,end:!0,sensitive:!1};function PS(t,e,n){const r=RS(IS(t.path),n),s=ke(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function kS(t,e){const n=[],r=new Map;e=Sp(CS,e);function s(d){return r.get(d)}function i(d,g,m){const A=!m,C=Mp(d);C.aliasOf=m&&m.record;const D=Sp(e,d),O=[C];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of k)O.push(Mp(ke({},C,{components:m?m.record.components:C.components,path:V,aliasOf:m?m.record:C})))}let N,w;for(const k of O){const{path:V}=k;if(g&&V[0]!=="/"){const U=g.record.path,I=U[U.length-1]==="/"?"":"/";k.path=g.record.path+(V&&I+V)}if(N=PS(k,g,D),m?m.alias.push(N):(w=w||N,w!==N&&w.alias.push(N),A&&d.name&&!Fp(N)&&o(d.name)),My(N)&&l(N),C.children){const U=C.children;for(let I=0;I<U.length;I++)i(U[I],N,m&&m.children[I])}m=m||N}return w?()=>{o(w)}:po}function o(d){if(Dy(d)){const g=r.get(d);g&&(r.delete(d),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(d);g>-1&&(n.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return n}function l(d){const g=DS(d,n);n.splice(g,0,d),d.record.name&&!Fp(d)&&r.set(d.record.name,d)}function h(d,g){let m,A={},C,D;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw di(ze.MATCHER_NOT_FOUND,{location:d});D=m.record.name,A=ke(Lp(g.params,m.keys.filter(w=>!w.optional).concat(m.parent?m.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&Lp(d.params,m.keys.map(w=>w.name))),C=m.stringify(A)}else if(d.path!=null)C=d.path,m=n.find(w=>w.re.test(C)),m&&(A=m.parse(C),D=m.record.name);else{if(m=g.name?r.get(g.name):n.find(w=>w.re.test(g.path)),!m)throw di(ze.MATCHER_NOT_FOUND,{location:d,currentLocation:g});D=m.record.name,A=ke({},g.params,d.params),C=m.stringify(A)}const O=[];let N=m;for(;N;)O.unshift(N.record),N=N.parent;return{name:D,path:C,params:A,matched:O,meta:OS(O)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:u,getRoutes:c,getRecordMatcher:s}}function Lp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Mp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:NS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function NS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Fp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function OS(t){return t.reduce((e,n)=>ke(e,n.meta),{})}function DS(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Ly(t,e[i])<0?r=i:n=i+1}const s=VS(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function VS(t){let e=t;for(;e=e.parent;)if(My(e)&&Ly(t,e)===0)return e}function My({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Up(t){const e=_t(jh),n=_t(Hh),r=Rt(()=>{const l=ce(t.to);return e.resolve(l)}),s=Rt(()=>{const{matched:l}=r.value,{length:h}=l,u=l[h-1],d=n.matched;if(!u||!d.length)return-1;const g=d.findIndex(fi.bind(null,u));if(g>-1)return g;const m=Bp(l[h-2]);return h>1&&Bp(u)===m&&d[d.length-1].path!==m?d.findIndex(fi.bind(null,l[h-2])):g}),i=Rt(()=>s.value>-1&&US(n.params,r.value.params)),o=Rt(()=>s.value>-1&&s.value===n.matched.length-1&&Oy(n.params,r.value.params));function c(l={}){if(FS(l)){const h=e[ce(t.replace)?"replace":"push"](ce(t.to)).catch(po);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Rt(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function xS(t){return t.length===1?t[0]:t}const LS=Wr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Up,setup(t,{slots:e}){const n=tr(Up(t)),{options:r}=_t(jh),s=Rt(()=>({[jp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&xS(e.default(n));return t.custom?i:St("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),MS=LS;function FS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function US(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!fn(s)||s.length!==r.length||r.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function Bp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jp=(t,e,n)=>t??e??n,BS=Wr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=_t(Fu),s=Rt(()=>t.route||r.value),i=_t(Op,0),o=Rt(()=>{let h=ce(i);const{matched:u}=s.value;let d;for(;(d=u[h])&&!d.components;)h++;return h}),c=Rt(()=>s.value.matched[o.value]);Cr(Op,Rt(()=>o.value+1)),Cr(gS,c),Cr(Fu,s);const l=lt();return Wn(()=>[l.value,c.value,t.name],([h,u,d],[g,m,A])=>{u&&(u.instances[d]=h,m&&m!==u&&h&&h===g&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),h&&u&&(!m||!fi(u,m)||!g)&&(u.enterCallbacks[d]||[]).forEach(C=>C(h))},{flush:"post"}),()=>{const h=s.value,u=t.name,d=c.value,g=d&&d.components[u];if(!g)return Hp(n.default,{Component:g,route:h});const m=d.props[u],A=m?m===!0?h.params:typeof m=="function"?m(h):m:null,D=St(g,ke({},A,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Hp(n.default,{Component:D,route:h})||D}}});function Hp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Fy=BS;function jS(t){const e=kS(t.routes,t),n=t.parseQuery||dS,r=t.stringifyQuery||Np,s=t.history,i=Ji(),o=Ji(),c=Ji(),l=si(Gt);let h=Gt;Ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Kl.bind(null,B=>""+B),d=Kl.bind(null,JR),g=Kl.bind(null,So);function m(B,ee){let J,ie;return Dy(B)?(J=e.getRecordMatcher(B),ie=ee):ie=B,e.addRoute(ie,J)}function A(B){const ee=e.getRecordMatcher(B);ee&&e.removeRoute(ee)}function C(){return e.getRoutes().map(B=>B.record)}function D(B){return!!e.getRecordMatcher(B)}function O(B,ee){if(ee=ke({},ee||l.value),typeof B=="string"){const P=Gl(n,B,ee.path),L=e.resolve({path:P.path},ee),H=s.createHref(P.fullPath);return ke(P,L,{params:g(L.params),hash:So(P.hash),redirectedFrom:void 0,href:H})}let J;if(B.path!=null)J=ke({},B,{path:Gl(n,B.path,ee.path).path});else{const P=ke({},B.params);for(const L in P)P[L]==null&&delete P[L];J=ke({},B,{params:d(P)}),ee.params=d(ee.params)}const ie=e.resolve(J,ee),Ee=B.hash||"";ie.params=u(g(ie.params));const xe=ZR(r,ke({},B,{hash:GR(Ee),path:ie.path})),b=s.createHref(xe);return ke({fullPath:xe,hash:Ee,query:r===Np?pS(B.query):B.query||{}},ie,{redirectedFrom:void 0,href:b})}function N(B){return typeof B=="string"?Gl(n,B,l.value.path):ke({},B)}function w(B,ee){if(h!==B)return di(ze.NAVIGATION_CANCELLED,{from:ee,to:B})}function k(B){return I(B)}function V(B){return k(ke(N(B),{replace:!0}))}function U(B,ee){const J=B.matched[B.matched.length-1];if(J&&J.redirect){const{redirect:ie}=J;let Ee=typeof ie=="function"?ie(B,ee):ie;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=N(Ee):{path:Ee},Ee.params={}),ke({query:B.query,hash:B.hash,params:Ee.path!=null?{}:B.params},Ee)}}function I(B,ee){const J=h=O(B),ie=l.value,Ee=B.state,xe=B.force,b=B.replace===!0,P=U(J,ie);if(P)return I(ke(N(P),{state:typeof P=="object"?ke({},Ee,P.state):Ee,force:xe,replace:b}),ee||J);const L=J;L.redirectedFrom=ee;let H;return!xe&&eS(r,ie,J)&&(H=di(ze.NAVIGATION_DUPLICATED,{to:L,from:ie}),Ut(ie,ie,!0,!1)),(H?Promise.resolve(H):T(L,ie)).catch(F=>Ln(F)?Ln(F,ze.NAVIGATION_GUARD_REDIRECT)?F:pn(F):Z(F,L,ie)).then(F=>{if(F){if(Ln(F,ze.NAVIGATION_GUARD_REDIRECT))return I(ke({replace:b},N(F.to),{state:typeof F.to=="object"?ke({},Ee,F.to.state):Ee,force:xe}),ee||L)}else F=R(L,ie,!0,b,Ee);return S(L,ie,F),F})}function y(B,ee){const J=w(B,ee);return J?Promise.reject(J):Promise.resolve()}function _(B){const ee=tn.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(B):B()}function T(B,ee){let J;const[ie,Ee,xe]=mS(B,ee);J=Ql(ie.reverse(),"beforeRouteLeave",B,ee);for(const P of ie)P.leaveGuards.forEach(L=>{J.push(Er(L,B,ee))});const b=y.bind(null,B,ee);return J.push(b),Et(J).then(()=>{J=[];for(const P of i.list())J.push(Er(P,B,ee));return J.push(b),Et(J)}).then(()=>{J=Ql(Ee,"beforeRouteUpdate",B,ee);for(const P of Ee)P.updateGuards.forEach(L=>{J.push(Er(L,B,ee))});return J.push(b),Et(J)}).then(()=>{J=[];for(const P of xe)if(P.beforeEnter)if(fn(P.beforeEnter))for(const L of P.beforeEnter)J.push(Er(L,B,ee));else J.push(Er(P.beforeEnter,B,ee));return J.push(b),Et(J)}).then(()=>(B.matched.forEach(P=>P.enterCallbacks={}),J=Ql(xe,"beforeRouteEnter",B,ee,_),J.push(b),Et(J))).then(()=>{J=[];for(const P of o.list())J.push(Er(P,B,ee));return J.push(b),Et(J)}).catch(P=>Ln(P,ze.NAVIGATION_CANCELLED)?P:Promise.reject(P))}function S(B,ee,J){c.list().forEach(ie=>_(()=>ie(B,ee,J)))}function R(B,ee,J,ie,Ee){const xe=w(B,ee);if(xe)return xe;const b=ee===Gt,P=Ms?history.state:{};J&&(ie||b?s.replace(B.fullPath,ke({scroll:b&&P&&P.scroll},Ee)):s.push(B.fullPath,Ee)),l.value=B,Ut(B,ee,J,b),pn()}let v;function ue(){v||(v=s.listen((B,ee,J)=>{if(!nn.listening)return;const ie=O(B),Ee=U(ie,nn.currentRoute.value);if(Ee){I(ke(Ee,{replace:!0,force:!0}),ie).catch(po);return}h=ie;const xe=l.value;Ms&&cS(kp(xe.fullPath,J.delta),Xc()),T(ie,xe).catch(b=>Ln(b,ze.NAVIGATION_ABORTED|ze.NAVIGATION_CANCELLED)?b:Ln(b,ze.NAVIGATION_GUARD_REDIRECT)?(I(ke(N(b.to),{force:!0}),ie).then(P=>{Ln(P,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===Lu.pop&&s.go(-1,!1)}).catch(po),Promise.reject()):(J.delta&&s.go(-J.delta,!1),Z(b,ie,xe))).then(b=>{b=b||R(ie,xe,!1),b&&(J.delta&&!Ln(b,ze.NAVIGATION_CANCELLED)?s.go(-J.delta,!1):J.type===Lu.pop&&Ln(b,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),S(ie,xe,b)}).catch(po)}))}let ve=Ji(),X=Ji(),re;function Z(B,ee,J){pn(B);const ie=X.list();return ie.length?ie.forEach(Ee=>Ee(B,ee,J)):console.error(B),Promise.reject(B)}function Ce(){return re&&l.value!==Gt?Promise.resolve():new Promise((B,ee)=>{ve.add([B,ee])})}function pn(B){return re||(re=!B,ue(),ve.list().forEach(([ee,J])=>B?J(B):ee()),ve.reset()),B}function Ut(B,ee,J,ie){const{scrollBehavior:Ee}=t;if(!Ms||!Ee)return Promise.resolve();const xe=!J&&lS(kp(B.fullPath,0))||(ie||!J)&&history.state&&history.state.scroll||null;return xr().then(()=>Ee(B,ee,xe)).then(b=>b&&aS(b)).catch(b=>Z(b,B,ee))}const ft=B=>s.go(B);let On;const tn=new Set,nn={currentRoute:l,listening:!0,addRoute:m,removeRoute:A,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:C,resolve:O,options:t,push:k,replace:V,go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:X.add,isReady:Ce,install(B){B.component("RouterLink",MS),B.component("RouterView",Fy),B.config.globalProperties.$router=nn,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(l)}),Ms&&!On&&l.value===Gt&&(On=!0,k(s.location).catch(ie=>{}));const ee={};for(const ie in Gt)Object.defineProperty(ee,ie,{get:()=>l.value[ie],enumerable:!0});B.provide(jh,nn),B.provide(Hh,vn(ee)),B.provide(Fu,l);const J=B.unmount;tn.add(B),B.unmount=function(){tn.delete(B),tn.size<1&&(h=Gt,v&&v(),v=null,l.value=Gt,On=!1,re=!1),J()}}};function Et(B){return B.reduce((ee,J)=>ee.then(()=>_(J)),Promise.resolve())}return nn}function Uy(t){return _t(Hh)}const HS=/(:\w+)\([^)]+\)/g,$S=/(:\w+)[?+*]/g,qS=/:\w+/g,WS=(t,e)=>e.path.replace(HS,"$1").replace($S,"$1").replace(qS,n=>t.params[n.slice(1)]?.toString()||""),Uu=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&WS(t.route,n));return typeof r=="function"?r(t.route):r},KS=(t,e)=>({default:()=>t?St(Bw,t===!0?{}:t,e):e});function $h(t){return Array.isArray(t)?t:[t]}const GS="modulepreload",zS=function(t,e){return new URL(t,e).href},$p={},Bu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let h=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=h(n.map(u=>{if(u=zS(u,r),u in $p)return;$p[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(r)for(let A=o.length-1;A>=0;A--){const C=o[A];if(C.href===u&&(!d||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":GS,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((A,C)=>{m.addEventListener("load",A),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Jl=[{name:"index",path:"/",component:()=>Bu(()=>import("./DXwzXQ-x.js").then(t=>t.i),[],import.meta.url)}],By=(t,e)=>({default:()=>t?St(li,t===!0?{}:t,e):e.default?.()}),QS=/(:\w+)\([^)]+\)/g,JS=/(:\w+)[?+*]/g,YS=/:\w+/g;function qp(t){const e=t?.meta.key??t.path.replace(QS,"$1").replace(JS,"$1").replace(YS,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function XS(t,e){return t===e||e===Gt?!1:qp(t)!==qp(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}const ZS={scrollBehavior(t,e,n){const r=Ue(),s=Wt().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:jy(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(c=>{if(e===Gt){c(Wp(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>c(Wp(t,e,n,s)))})})}};function jy(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function Wp(t,e,n,r){if(n)return n;const s=XS(t,e);return t.hash?{el:t.hash,top:jy(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const eC={hashMode:!1,scrollBehaviorType:"auto"},dr={...eC,...ZS},tC=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=Ys(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=hs({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},nC=async t=>{let e,n;const r=([e,n]=Ys(()=>Fh({path:t.path})),e=await e,n(),e);if(r.redirect){const s=r.redirect.includes("#")?r.redirect:r.redirect+t.hash;return bs(s,{acceptRelative:!0})?(window.location.href=s,!1):s}},rC=[tC,nC],ju={};function sC(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const h=i.includes(t.slice(o))?t.slice(o).length:1;let u=i.slice(h);return u[0]!=="/"&&(u="/"+u),ap(u,"")}const c=ap(r,t),l=!n||qb(c,n)?c:n;return l+(l.includes("?")?"":s)+i}const iC=en({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=$o().app.baseURL;const s=dr.history?.(r)??vS(r),i=dr.routes?([e,n]=Ys(()=>dr.routes(Jl)),e=await e,n(),e??Jl):Jl;let o;const c=jS({...dr,scrollBehavior:(D,O,N)=>{if(O===Gt){o=N;return}if(dr.scrollBehavior){if(c.options.scrollBehavior=dr.scrollBehavior,"scrollRestoration"in window.history){const w=c.beforeEach(()=>{w(),window.history.scrollRestoration="manual"})}return dr.scrollBehavior(D,Gt,o||N)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(c);const l=si(c.currentRoute.value);c.afterEach((D,O)=>{l.value=O}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const h=sC(r,window.location,t.payload.path),u=si(c.currentRoute.value),d=()=>{u.value=c.currentRoute.value};c.afterEach((D,O)=>{D.matched.at(-1)?.components?.default===O.matched.at(-1)?.components?.default&&d()});const g={sync:d};for(const D in u.value)Object.defineProperty(g,D,{get:()=>u.value[D],enumerable:!0});t._route=vn(g),t._middleware||={global:[],named:{}};const m=Jc();c.afterEach(async(D,O,N)=>{delete t._processingMiddleware,!t.isHydrating&&m.value&&await t.runWithContext(BA),N&&await t.callHook("page:loading:end")});try{[e,n]=Ys(()=>c.isReady()),await e,n()}catch(D){[e,n]=Ys(()=>t.runWithContext(()=>ss(D))),await e,n()}const A=h!==c.currentRoute.value.fullPath?c.resolve(h):c.currentRoute.value;d();const C=t.payload.state._layout;return c.beforeEach(async(D,O)=>{await t.callHook("page:loading:start"),D.meta=tr(D.meta),t.isHydrating&&C&&!Pn(D.meta.layout)&&(D.meta.layout=C),t._processingMiddleware=!0;{const N=new Set([...rC,...t._middleware.global]);for(const w of D.matched){const k=w.meta.middleware;if(k)for(const V of $h(k))N.add(V)}{const w=await t.runWithContext(()=>Fh({path:D.path}));if(w.appMiddleware)for(const k in w.appMiddleware)w.appMiddleware[k]?N.add(k):N.delete(k)}for(const w of N){const k=typeof w=="string"?t._middleware.named[w]||await ju[w]?.().then(V=>V.default||V):w;if(!k)throw new Error(`Unknown route middleware: '${w}'.`);try{const V=await t.runWithContext(()=>k(D,O));if(!t.payload.serverRendered&&t.isHydrating&&(V===!1||V instanceof Error)){const U=V||hs({statusCode:404,statusMessage:`Page Not Found: ${h}`});return await t.runWithContext(()=>ss(U)),!1}if(V===!0)continue;if(V===!1)return V;if(V)return py(V)&&V.fatal&&await t.runWithContext(()=>ss(V)),V}catch(V){const U=hs(V);return U.fatal&&await t.runWithContext(()=>ss(U)),U}}}}),c.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),c.afterEach(D=>{if(D.matched.length===0)return t.runWithContext(()=>ss(hs({statusCode:404,fatal:!1,statusMessage:`Page not found: ${D.fullPath}`,data:{path:D.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in A&&(A.name=void 0),await c.replace({...A,force:!0}),c.options.scrollBehavior=dr.scrollBehavior}catch(D){await t.runWithContext(()=>ss(D))}}),{provide:{router:c}}}}),Kp=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),zV=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),qh=t=>{const e=Ue();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Kp(()=>t())}):Kp(()=>t())},oC=en({name:"nuxt:payload",setup(t){const e=new Set;Wt().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Rp(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),qh(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Rp(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Yc,1e3)})}}),aC=en(()=>{const t=Wt();qh(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),cC=en(t=>{let e;async function n(){let r;try{r=await Yc()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,pp);try{const s=await $fetch(Mh("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}qh(()=>{e=setTimeout(n,pp)})});function lC(t={}){const e=t.path||window.location.pathname;let n={};try{n=ac(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ue().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const uC=en({name:"nuxt:chunk-reload",setup(t){const e=Wt(),n=$o(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=xh(n.app.baseURL,i.fullPath);lC({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function hC(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function fC(t,e=Wt()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>fC(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const c=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(c)));s.push(c)}await Promise.all(s)}const dC=en({name:"pinia",setup(t){const e=jA();return t.vueApp.use(e),hi(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}},hooks:{"app:rendered"(){const t=Ue();t.payload.pinia=Re(t.$pinia).state.value,hi(void 0)}}}),pC=en({name:"nuxt:global-components"}),Ar={},gC=en({name:"nuxt:prefetch",setup(t){const e=Wt();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Ar[r]=="function"&&await Ar[r]()})}),t.hooks.hook("link:prefetch",n=>{if(bs(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=$h(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof ju[o]=="function"&&ju[o]();typeof s=="string"&&s in Ar&&hC(Ar[s])})}}),mC=()=>{};var Gp={};const Hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_C=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,h=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|c>>4;let g=(c&15)<<2|h>>6,m=h&63;l||(m=64,o||(g=64)),r.push(n[u],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_C(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||d==null)throw new yC;const g=i<<2|c>>4;if(r.push(g),h!==64){const m=c<<4&240|h>>2;if(r.push(m),d!==64){const A=h<<6&192|d;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EC=function(t){const e=Hy(t);return $y.encodeByteArray(e,!0)},dc=function(t){return EC(t).replace(/\./g,"")},qy=function(t){try{return $y.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TC=()=>vC().__FIREBASE_DEFAULTS__,wC=()=>{if(typeof process>"u"||typeof Gp>"u")return;const t=Gp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qy(t[1]);return e&&JSON.parse(e)},Zc=()=>{try{return mC()||TC()||wC()||IC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wy=t=>Zc()?.emulatorHosts?.[t],bC=t=>{const e=Wy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ky=()=>Zc()?.config,Gy=t=>Zc()?.[`_${t}`];class AC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function bi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zy(t){return(await fetch(t,{credentials:"include"})).ok}function RC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dc(JSON.stringify(n)),dc(JSON.stringify(o)),""].join(".")}const go={};function SC(){const t={prod:[],emulator:[]};for(const e of Object.keys(go))go[e]?t.emulator.push(e):t.prod.push(e);return t}function CC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zp=!1;function Qy(t,e){if(typeof window>"u"||typeof document>"u"||!bi(window.location.host)||go[t]===e||go[t]||zp)return;go[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=SC().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{zp=!0,o()},g}function u(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=CC(r),m=n("text"),A=document.getElementById(m)||document.createElement("span"),C=n("learnmore"),D=document.getElementById(C)||document.createElement("a"),O=n("preprendIcon"),N=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;c(w),u(D,C);const k=h();l(N,O),w.append(N,A,D,k),document.body.appendChild(w)}i?(A.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function kC(){const t=Zc()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VC(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xC(){return!kC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function MC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const FC="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FC,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?UC(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new rr(s,c,r)}}function UC(t,e){return t.replace(BC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BC=/\{\$([^}]+)}/g;function jC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Qp(i)&&Qp(o)){if(!_s(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qp(t){return t!==null&&typeof t=="object"}function Wo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function to(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HC(t,e){const n=new $C(t,e);return n.subscribe.bind(n)}class $C{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yl),s.error===void 0&&(s.error=Yl),s.complete===void 0&&(s.complete=Yl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yl(){}function Ft(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const is="[DEFAULT]";class WC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GC(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(t){return t===is?void 0:t}function GC(t){return t.instantiationMode==="EAGER"}class zC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const QC={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},JC=we.INFO,YC={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},XC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const ZC=(t,e)=>e.some(n=>t instanceof n);let Jp,Yp;function e0(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t0(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jy=new WeakMap,Hu=new WeakMap,Yy=new WeakMap,Xl=new WeakMap,Kh=new WeakMap;function n0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jy.set(n,t)}).catch(()=>{}),Kh.set(e,t),e}function r0(t){if(Hu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hu.set(t,e)}let $u={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s0(t){$u=t($u)}function i0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zl(this),e,...n);return Yy.set(r,e.sort?e.sort():[e]),kr(r)}:t0().includes(t)?function(...e){return t.apply(Zl(this),e),kr(Jy.get(this))}:function(...e){return kr(t.apply(Zl(this),e))}}function o0(t){return typeof t=="function"?i0(t):(t instanceof IDBTransaction&&r0(t),ZC(t,e0())?new Proxy(t,$u):t)}function kr(t){if(t instanceof IDBRequest)return n0(t);if(Xl.has(t))return Xl.get(t);const e=o0(t);return e!==t&&(Xl.set(t,e),Kh.set(e,t)),e}const Zl=t=>Kh.get(t);function a0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=kr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(kr(o.result),l.oldVersion,l.newVersion,kr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const c0=["get","getKey","getAll","getAllKeys","count"],l0=["put","add","delete","clear"],eu=new Map;function Xp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eu.get(e))return eu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=l0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c0.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&l.done]))[0]};return eu.set(e,i),i}s0(t=>({...t,get:(e,n,r)=>Xp(e,n)||t.get(e,n,r),has:(e,n)=>!!Xp(e,n)||t.has(e,n)}));class u0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h0(t){return t.getComponent()?.type==="VERSION"}const qu="@firebase/app",Zp="0.14.7";const Yn=new Wh("@firebase/app"),f0="@firebase/app-compat",d0="@firebase/analytics-compat",p0="@firebase/analytics",g0="@firebase/app-check-compat",m0="@firebase/app-check",_0="@firebase/auth",y0="@firebase/auth-compat",E0="@firebase/database",v0="@firebase/data-connect",T0="@firebase/database-compat",w0="@firebase/functions",I0="@firebase/functions-compat",b0="@firebase/installations",A0="@firebase/installations-compat",R0="@firebase/messaging",S0="@firebase/messaging-compat",C0="@firebase/performance",P0="@firebase/performance-compat",k0="@firebase/remote-config",N0="@firebase/remote-config-compat",O0="@firebase/storage",D0="@firebase/storage-compat",V0="@firebase/firestore",x0="@firebase/ai",L0="@firebase/firestore-compat",M0="firebase",F0="12.8.0";const Wu="[DEFAULT]",U0={[qu]:"fire-core",[f0]:"fire-core-compat",[p0]:"fire-analytics",[d0]:"fire-analytics-compat",[m0]:"fire-app-check",[g0]:"fire-app-check-compat",[_0]:"fire-auth",[y0]:"fire-auth-compat",[E0]:"fire-rtdb",[v0]:"fire-data-connect",[T0]:"fire-rtdb-compat",[w0]:"fire-fn",[I0]:"fire-fn-compat",[b0]:"fire-iid",[A0]:"fire-iid-compat",[R0]:"fire-fcm",[S0]:"fire-fcm-compat",[C0]:"fire-perf",[P0]:"fire-perf-compat",[k0]:"fire-rc",[N0]:"fire-rc-compat",[O0]:"fire-gcs",[D0]:"fire-gcs-compat",[V0]:"fire-fst",[L0]:"fire-fst-compat",[x0]:"fire-vertex","fire-js":"fire-js",[M0]:"fire-js-all"};const pc=new Map,B0=new Map,Ku=new Map;function eg(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){const e=t.name;if(Ku.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ku.set(e,t);for(const n of pc.values())eg(n,t);for(const n of B0.values())eg(n,t);return!0}function Gh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}const j0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new qo("app","Firebase",j0);class H0{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const Ai=F0;function Xy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wu,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Nr.create("bad-app-name",{appName:String(s)});if(n||(n=Ky()),!n)throw Nr.create("no-options");const i=pc.get(s);if(i){if(_s(n,i.options)&&_s(r,i.config))return i;throw Nr.create("duplicate-app",{appName:s})}const o=new zC(s);for(const l of Ku.values())o.addComponent(l);const c=new H0(n,r,o);return pc.set(s,c),c}function Zy(t=Wu){const e=pc.get(t);if(!e&&t===Wu&&Ky())return Xy();if(!e)throw Nr.create("no-app",{appName:t});return e}function Or(t,e,n){let r=U0[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(o.join(" "));return}pi(new ys(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $0="firebase-heartbeat-database",q0=1,Co="firebase-heartbeat-store";let tu=null;function eE(){return tu||(tu=a0($0,q0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Co)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),tu}async function W0(t){try{const n=(await eE()).transaction(Co),r=await n.objectStore(Co).get(tE(t));return await n.done,r}catch(e){if(e instanceof rr)Yn.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(n.message)}}}async function tg(t,e){try{const r=(await eE()).transaction(Co,"readwrite");await r.objectStore(Co).put(e,tE(t)),await r.done}catch(n){if(n instanceof rr)Yn.warn(n.message);else{const r=Nr.create("idb-set",{originalErrorMessage:n?.message});Yn.warn(r.message)}}}function tE(t){return`${t.name}!${t.options.appId}`}const K0=1024,G0=30;class z0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ng();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>G0){const s=Y0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ng(),{heartbeatsToSend:n,unsentEntries:r}=Q0(this._heartbeatsCache.heartbeats),s=dc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Yn.warn(e),""}}}function ng(){return new Date().toISOString().substring(0,10)}function Q0(t,e=K0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),rg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?MC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rg(t){return dc(JSON.stringify({version:2,heartbeats:t})).length}function Y0(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function X0(t){pi(new ys("platform-logger",e=>new u0(e),"PRIVATE")),pi(new ys("heartbeat",e=>new z0(e),"PRIVATE")),Or(qu,Zp,t),Or(qu,Zp,"esm2020"),Or("fire-js","")}X0("");var Z0="firebase",eP="12.8.0";Or(Z0,eP,"app");function nE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=nE,rE=new qo("auth","Firebase",nE());const gc=new Wh("@firebase/auth");function nP(t,...e){gc.logLevel<=we.WARN&&gc.warn(`Auth (${Ai}): ${t}`,...e)}function Ma(t,...e){gc.logLevel<=we.ERROR&&gc.error(`Auth (${Ai}): ${t}`,...e)}function dn(t,...e){throw zh(t,...e)}function In(t,...e){return zh(t,...e)}function sE(t,e,n){const r={...tP(),[e]:n};return new qo("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return sE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rE.create(t,...e)}function he(t,e,...n){if(!t)throw zh(e,...n)}function $n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ma(e),new Error(e)}function Xn(t,e){t||$n(e)}function Gu(){return typeof self<"u"&&self.location?.href||""}function rP(){return sg()==="http:"||sg()==="https:"}function sg(){return typeof self<"u"&&self.location?.protocol||null}function sP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rP()||OC()||"connection"in navigator)?navigator.onLine:!0}function iP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ko{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=PC()||DC()}get(){return sP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qh(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cP=new Ko(3e4,6e4);function sr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ir(t,e,n,r,s={}){return oE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Wo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:l,...i};return NC()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bi(t.emulatorConfig.host)&&(h.credentials="include"),iE.fetch()(await aE(t,t.config.apiHost,n,c),h)})}async function oE(t,e,n){t._canInitEmulator=!1;const r={...oP,...e};try{const s=new uP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ba(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ba(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ba(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ba(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw sE(t,u,h);dn(t,u)}}catch(s){if(s instanceof rr)throw s;dn(t,"network-request-failed",{message:String(s)})}}async function Go(t,e,n,r,s={}){const i=await ir(t,e,n,r,s);return"mfaPendingCredential"in i&&dn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function aE(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Qh(t.config,s):`${t.config.apiScheme}://${s}`;return aP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function lP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),cP.get())})}}function ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=In(t,e,r);return s.customData._tokenResponse=n,s}function ig(t){return t!==void 0&&t.enterprise!==void 0}class hP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fP(t,e){return ir(t,"GET","/v2/recaptchaConfig",sr(t,e))}async function dP(t,e){return ir(t,"POST","/v1/accounts:delete",e)}async function mc(t,e){return ir(t,"POST","/v1/accounts:lookup",e)}function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pP(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),s=Jh(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:mo(nu(s.auth_time)),issuedAtTime:mo(nu(s.iat)),expirationTime:mo(nu(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function nu(t){return Number(t)*1e3}function Jh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{const s=qy(n);return s?JSON.parse(s):(Ma("Failed to decode base64 JWT payload"),null)}catch(s){return Ma("Caught error parsing JWT payload as JSON",s?.toString()),null}}function og(t){const e=Jh(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&gP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class mP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _c(t){const e=t.auth,n=await t.getIdToken(),r=await Po(t,mc(e,{idToken:n}));he(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?cE(s.providerUserInfo):[],o=yP(t.providerData,i),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,h=c?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new zu(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function _P(t){const e=Ft(t);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function EP(t,e){const n=await oE(t,{},async()=>{const r=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await aE(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return t.emulatorConfig&&bi(t.emulatorConfig.host)&&(l.credentials="include"),iE.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vP(t,e){return ir(t,"POST","/v2/accounts:revokeToken",sr(t,e))}class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):og(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=og(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await EP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Xs;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return $n("not implemented")}}function pr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new mP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pP(this,e)}reload(){return _P(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new on({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Kn(this.auth));const e=await this.getIdToken();return await Po(this,dP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,l=n._redirectEventId??void 0,h=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:g,isAnonymous:m,providerData:A,stsTokenManager:C}=n;he(d&&C,e,"internal-error");const D=Xs.fromJSON(this.name,C);he(typeof d=="string",e,"internal-error"),pr(r,e.name),pr(s,e.name),he(typeof g=="boolean",e,"internal-error"),he(typeof m=="boolean",e,"internal-error"),pr(i,e.name),pr(o,e.name),pr(c,e.name),pr(l,e.name),pr(h,e.name),pr(u,e.name);const O=new on({uid:d,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:D,createdAt:h,lastLoginAt:u});return A&&Array.isArray(A)&&(O.providerData=A.map(N=>({...N}))),l&&(O._redirectEventId=l),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xs;s.updateFromServerResponse(n);const i=new on({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _c(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new Xs;c.updateFromIdToken(r);const l=new on({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,h),l}}const ag=new Map;function qn(t){Xn(t instanceof Function,"Expected a class definition");let e=ag.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ag.set(t,e),e)}class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lE.type="NONE";const cg=lE;function Fa(t,e,n){return`firebase:${t}:${e}:${n}`}class Zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mc(this.auth,{idToken:e}).catch(()=>{});return n?on._fromGetAccountInfoResponse(this.auth,n,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zs(qn(cg),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||qn(cg);const o=Fa(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const u=await h._get(o);if(u){let d;if(typeof u=="string"){const g=await mc(e,{idToken:u}).catch(()=>{});if(!g)break;d=await on._fromGetAccountInfoResponse(e,g,u)}else d=on._fromJSON(e,u);h!==i&&(c=d),i=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Zs(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Zs(i,e,r))}}function lg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gE(e))return"Blackberry";if(mE(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(pE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function uE(t=Ct()){return/firefox\//i.test(t)}function hE(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(t=Ct()){return/crios\//i.test(t)}function dE(t=Ct()){return/iemobile/i.test(t)}function pE(t=Ct()){return/android/i.test(t)}function gE(t=Ct()){return/blackberry/i.test(t)}function mE(t=Ct()){return/webos/i.test(t)}function Yh(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TP(t=Ct()){return Yh(t)&&!!window.navigator?.standalone}function wP(){return VC()&&document.documentMode===10}function _E(t=Ct()){return Yh(t)||pE(t)||mE(t)||gE(t)||/windows phone/i.test(t)||dE(t)}function yE(t,e=[]){let n;switch(t){case"Browser":n=lg(Ct());break;case"Worker":n=`${lg(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ai}/${r}`}class IP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bP(t,e={}){return ir(t,"GET","/v2/passwordPolicy",sr(t,e))}const AP=6;class RP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class SP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ug(this),this.idTokenSubscription=new ug(this),this.beforeStateQueue=new IP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mc(this,{idToken:e}),r=await on._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(Kn(this));const n=e?Ft(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bP(this),n=new RP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(t){return Ft(t)}class ug{constructor(e){this.auth=e,this.observer=null,this.addObserver=HC(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let el={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CP(t){el=t}function EE(t){return el.loadJS(t)}function PP(){return el.recaptchaEnterpriseScript}function kP(){return el.gapiScript}function NP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OP{constructor(){this.enterprise=new DP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VP="recaptcha-enterprise",vE="NO_RECAPTCHA";class xP{constructor(e){this.type=VP,this.auth=Kr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{fP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new hP(l);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(l=>{c(l)})})}function s(i,o,c){const l=window.grecaptcha;ig(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(vE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OP().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&ig(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PP();l.length!==0&&(l+=c),EE(l).then(()=>{s(c,i,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function hg(t,e,n,r=!1,s=!1){const i=new xP(t);let o;if(s)o=vE;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function yc(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hg(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hg(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function LP(t,e){const n=Gh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(_s(i,e??{}))return s;dn(s,"already-initialized")}return n.initialize({options:e})}function MP(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function FP(t,e,n){const r=Kr(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TE(e),{host:o,port:c}=UP(e),l=c===null?"":`:${c}`,h={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(_s(h,r.config.emulator)&&_s(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,bi(o)?(zy(`${i}//${o}${l}`),Qy("Auth",!0)):BP()}function TE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UP(t){const e=TE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:fg(o)}}}function fg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Xh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}}async function jP(t,e){return ir(t,"POST","/v1/accounts:signUp",e)}async function HP(t,e){return Go(t,"POST","/v1/accounts:signInWithPassword",sr(t,e))}async function wE(t,e){return ir(t,"POST","/v1/accounts:sendOobCode",sr(t,e))}async function $P(t,e){return wE(t,e)}async function qP(t,e){return wE(t,e)}async function WP(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",sr(t,e))}async function KP(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",sr(t,e))}class ko extends Xh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yc(e,n,"signInWithPassword",HP);case"emailLink":return WP(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yc(e,r,"signUpPassword",jP);case"emailLink":return KP(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ei(t,e){return Go(t,"POST","/v1/accounts:signInWithIdp",sr(t,e))}const GP="http://localhost";class Es extends Xh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Es(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ei(e,n)}buildRequest(){const e={requestUri:GP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wo(n)}return e}}function zP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QP(t){const e=to(no(t)).link,n=e?to(no(e)).deep_link_id:null,r=to(no(t)).deep_link_id;return(r?to(no(r)).link:null)||r||n||e||t}class Zh{constructor(e){const n=to(no(e)),r=n.apiKey??null,s=n.oobCode??null,i=zP(n.mode??null);he(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QP(e);try{return new Zh(n)}catch{return null}}}class Ri{constructor(){this.providerId=Ri.PROVIDER_ID}static credential(e,n){return ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zh.parseLink(n);return he(r,"argument-error"),ko._fromEmailAndCode(e,r.code,r.tenantId)}}Ri.PROVIDER_ID="password";Ri.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ri.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zo extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vr extends zo{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class Tr extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class wr extends zo{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";class Ir extends zo{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";async function JP(t,e){return Go(t,"POST","/v1/accounts:signUp",sr(t,e))}class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await on._fromIdTokenResponse(e,r,s),o=dg(r);return new vs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dg(r);return new vs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ec extends rr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ec(e,n,r,s)}}function bE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(t,i,e,r):i})}async function YP(t,e,n=!1){const r=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}async function XP(t,e,n=!1){const{auth:r}=t;if(Qt(r.app))return Promise.reject(Kn(r));const s="reauthenticate";try{const i=await Po(t,bE(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=Jh(i.idToken);he(o,r,"internal-error");const{sub:c}=o;return he(t.uid===c,r,"user-mismatch"),vs._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&dn(r,"user-mismatch"),i}}async function AE(t,e,n=!1){if(Qt(t.app))return Promise.reject(Kn(t));const r="signIn",s=await bE(t,r,e),i=await vs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ZP(t,e){return AE(Kr(t),e)}async function RE(t){const e=Kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ek(t,e,n){const r=Kr(t);await yc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qP)}async function tk(t,e,n){if(Qt(t.app))return Promise.reject(Kn(t));const r=Kr(t),o=await yc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RE(t),l}),c=await vs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function nk(t,e,n){return Qt(t.app)?Promise.reject(Kn(t)):ZP(Ft(t),Ri.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RE(t),r})}async function pg(t,e){const n=Ft(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await $P(n.auth,s);i!==t.email&&await t.reload()}function rk(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function sk(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function ik(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function ns(t){return Ft(t).signOut()}const vc="__sak";class SE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ok=1e3,ak=10;class CE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);wP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ak):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ok)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const ck=CE;class PE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PE.type="SESSION";const kE=PE;function lk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),l=await lk(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tl.receivers=[];function ef(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class uk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const h=ef("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const g=d;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function bn(){return window}function hk(t){bn().location.href=t}function NE(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function fk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dk(){return navigator?.serviceWorker?.controller||null}function pk(){return NE()?self:null}const OE="firebaseLocalStorageDb",gk=1,Tc="firebaseLocalStorage",DE="fbase_key";class Qo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nl(t,e){return t.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function mk(){const t=indexedDB.deleteDatabase(OE);return new Qo(t).toPromise()}function Qu(){const t=indexedDB.open(OE,gk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tc,{keyPath:DE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tc)?e(r):(r.close(),await mk(),e(await Qu()))})})}async function gg(t,e,n){const r=nl(t,!0).put({[DE]:e,value:n});return new Qo(r).toPromise()}async function _k(t,e){const n=nl(t,!1).get(e),r=await new Qo(n).toPromise();return r===void 0?null:r.value}function mg(t,e){const n=nl(t,!0).delete(e);return new Qo(n).toPromise()}const yk=800,Ek=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ek)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tl._getInstance(pk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fk(),!this.activeServiceWorker)return;this.sender=new uk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qu();return await gg(e,vc,"1"),await mg(e,vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_k(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nl(s,!1).getAll();return new Qo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const vk=VE;new Ko(3e4,6e4);function Tk(t,e){return e?qn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class tf extends Xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wk(t){return AE(t.auth,new tf(t),t.bypassAuthState)}function Ik(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),XP(n,new tf(t),t.bypassAuthState)}async function bk(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),YP(n,new tf(t),t.bypassAuthState)}class xE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wk;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return Ik;default:dn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ak=new Ko(2e3,1e4);class $s extends xE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=ef();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ak.get())};e()}}$s.currentPopupAction=null;const Rk="pendingRedirect",Ua=new Map;class Sk extends xE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ua.get(this.auth._key());if(!e){try{const r=await Ck(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ua.set(this.auth._key(),e)}return this.bypassAuthState||Ua.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ck(t,e){const n=Nk(e),r=kk(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Pk(t,e){Ua.set(t._key(),e)}function kk(t){return qn(t._redirectPersistence)}function Nk(t){return Fa(Rk,t.config.apiKey,t.name)}async function Ok(t,e,n=!1){if(Qt(t.app))return Promise.reject(Kn(t));const r=Kr(t),s=Tk(r,e),o=await new Sk(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const Dk=600*1e3;class Vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dk&&this.cachedEventUids.clear(),this.cachedEventUids.has(_g(e))}saveEventToCache(e){this.cachedEventUids.add(_g(e)),this.lastProcessedEventTime=Date.now()}}function _g(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(t);default:return!1}}async function Lk(t,e={}){return ir(t,"GET","/v1/projects",e)}const Mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fk=/^https?/;async function Uk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lk(t);for(const n of e)try{if(Bk(n))return}catch{}dn(t,"unauthorized-domain")}function Bk(t){const e=Gu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fk.test(n))return!1;if(Mk.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const jk=new Ko(3e4,6e4);function yg(){const t=bn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hk(t){return new Promise((e,n)=>{function r(){yg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yg(),n(In(t,"network-request-failed"))},timeout:jk.get()})}if(bn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bn().gapi?.load)r();else{const s=NP("iframefcb");return bn()[s]=()=>{gapi.load?r():n(In(t,"network-request-failed"))},EE(`${kP()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Ba=null,e})}let Ba=null;function $k(t){return Ba=Ba||Hk(t),Ba}const qk=new Ko(5e3,15e3),Wk="__/auth/iframe",Kk="emulator/auth/iframe",Gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qk(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qh(e,Kk):`https://${t.config.authDomain}/${Wk}`,r={apiKey:e.apiKey,appName:t.name,v:Ai},s=zk.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wo(r).slice(1)}`}async function Jk(t){const e=await $k(t),n=bn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Qk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gk,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),c=bn().setTimeout(()=>{i(o)},qk.get());function l(){bn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const Yk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,Zk=600,e1="_blank",t1="http://localhost";class Eg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n1(t,e,n,r=Xk,s=Zk){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...Yk,width:r.toString(),height:s.toString(),top:i,left:o},h=Ct().toLowerCase();n&&(c=fE(h)?e1:n),uE(h)&&(e=e||t1,l.scrollbars="yes");const u=Object.entries(l).reduce((g,[m,A])=>`${g}${m}=${A},`,"");if(TP(h)&&c!=="_self")return r1(e||"",c),new Eg(null);const d=window.open(e||"",c,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new Eg(d)}function r1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const s1="__/auth/handler",i1="emulator/auth/handler",o1=encodeURIComponent("fac");async function vg(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ai,eventId:s};if(e instanceof IE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof zo){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const u of Object.keys(c))c[u]===void 0&&delete c[u];const l=await t._getAppCheckToken(),h=l?`#${o1}=${encodeURIComponent(l)}`:"";return`${a1(t)}?${Wo(c).slice(1)}${h}`}function a1({config:t}){return t.emulator?Qh(t,i1):`https://${t.authDomain}/${s1}`}const ru="webStorageSupport";class c1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=Ok,this._overrideRedirectResult=Pk}async _openPopup(e,n,r,s){Xn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await vg(e,n,r,Gu(),s);return n1(e,i,ef())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vg(e,n,r,Gu(),s);return hk(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Xn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Jk(e),r=new Vk(e);return n.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ru,{type:ru},s=>{const i=s?.[0]?.[ru];i!==void 0&&n(!!i),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _E()||hE()||Yh()}}const l1=c1;var Tg="@firebase/auth",wg="1.12.0";class u1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function h1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f1(t){pi(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(t)},h=new SP(r,s,i,l);return MP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new ys("auth-internal",e=>{const n=Kr(e.getProvider("auth").getImmediate());return(r=>new u1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Tg,wg,h1(t)),Or(Tg,wg,"esm2020")}const d1=300,p1=Gy("authIdTokenMaxAge")||d1;let Ig=null;const g1=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p1)return;const s=n?.token;Ig!==s&&(Ig=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function m1(t=Zy()){const e=Gh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LP(t,{popupRedirectResolver:l1,persistence:[vk,ck,kE]}),r=Gy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=g1(i.toString());sk(n,o,()=>o(n.currentUser)),rk(n,c=>o(c))}}const s=Wy("auth");return s&&FP(n,`http://${s}`),n}function _1(){return document.getElementsByTagName("head")?.[0]??document}CP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=In("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f1("Browser");var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dr,ME;(function(){var t;function e(I,y){function _(){}_.prototype=y.prototype,I.F=y.prototype,I.prototype=new _,I.prototype.constructor=I,I.D=function(T,S,R){for(var v=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)v[ue-2]=arguments[ue];return y.prototype[S].apply(T,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,y,_){_||(_=0);const T=Array(16);if(typeof y=="string")for(var S=0;S<16;++S)T[S]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(S=0;S<16;++S)T[S]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=I.g[0],_=I.g[1],S=I.g[2];let R=I.g[3],v;v=y+(R^_&(S^R))+T[0]+3614090360&4294967295,y=_+(v<<7&4294967295|v>>>25),v=R+(S^y&(_^S))+T[1]+3905402710&4294967295,R=y+(v<<12&4294967295|v>>>20),v=S+(_^R&(y^_))+T[2]+606105819&4294967295,S=R+(v<<17&4294967295|v>>>15),v=_+(y^S&(R^y))+T[3]+3250441966&4294967295,_=S+(v<<22&4294967295|v>>>10),v=y+(R^_&(S^R))+T[4]+4118548399&4294967295,y=_+(v<<7&4294967295|v>>>25),v=R+(S^y&(_^S))+T[5]+1200080426&4294967295,R=y+(v<<12&4294967295|v>>>20),v=S+(_^R&(y^_))+T[6]+2821735955&4294967295,S=R+(v<<17&4294967295|v>>>15),v=_+(y^S&(R^y))+T[7]+4249261313&4294967295,_=S+(v<<22&4294967295|v>>>10),v=y+(R^_&(S^R))+T[8]+1770035416&4294967295,y=_+(v<<7&4294967295|v>>>25),v=R+(S^y&(_^S))+T[9]+2336552879&4294967295,R=y+(v<<12&4294967295|v>>>20),v=S+(_^R&(y^_))+T[10]+4294925233&4294967295,S=R+(v<<17&4294967295|v>>>15),v=_+(y^S&(R^y))+T[11]+2304563134&4294967295,_=S+(v<<22&4294967295|v>>>10),v=y+(R^_&(S^R))+T[12]+1804603682&4294967295,y=_+(v<<7&4294967295|v>>>25),v=R+(S^y&(_^S))+T[13]+4254626195&4294967295,R=y+(v<<12&4294967295|v>>>20),v=S+(_^R&(y^_))+T[14]+2792965006&4294967295,S=R+(v<<17&4294967295|v>>>15),v=_+(y^S&(R^y))+T[15]+1236535329&4294967295,_=S+(v<<22&4294967295|v>>>10),v=y+(S^R&(_^S))+T[1]+4129170786&4294967295,y=_+(v<<5&4294967295|v>>>27),v=R+(_^S&(y^_))+T[6]+3225465664&4294967295,R=y+(v<<9&4294967295|v>>>23),v=S+(y^_&(R^y))+T[11]+643717713&4294967295,S=R+(v<<14&4294967295|v>>>18),v=_+(R^y&(S^R))+T[0]+3921069994&4294967295,_=S+(v<<20&4294967295|v>>>12),v=y+(S^R&(_^S))+T[5]+3593408605&4294967295,y=_+(v<<5&4294967295|v>>>27),v=R+(_^S&(y^_))+T[10]+38016083&4294967295,R=y+(v<<9&4294967295|v>>>23),v=S+(y^_&(R^y))+T[15]+3634488961&4294967295,S=R+(v<<14&4294967295|v>>>18),v=_+(R^y&(S^R))+T[4]+3889429448&4294967295,_=S+(v<<20&4294967295|v>>>12),v=y+(S^R&(_^S))+T[9]+568446438&4294967295,y=_+(v<<5&4294967295|v>>>27),v=R+(_^S&(y^_))+T[14]+3275163606&4294967295,R=y+(v<<9&4294967295|v>>>23),v=S+(y^_&(R^y))+T[3]+4107603335&4294967295,S=R+(v<<14&4294967295|v>>>18),v=_+(R^y&(S^R))+T[8]+1163531501&4294967295,_=S+(v<<20&4294967295|v>>>12),v=y+(S^R&(_^S))+T[13]+2850285829&4294967295,y=_+(v<<5&4294967295|v>>>27),v=R+(_^S&(y^_))+T[2]+4243563512&4294967295,R=y+(v<<9&4294967295|v>>>23),v=S+(y^_&(R^y))+T[7]+1735328473&4294967295,S=R+(v<<14&4294967295|v>>>18),v=_+(R^y&(S^R))+T[12]+2368359562&4294967295,_=S+(v<<20&4294967295|v>>>12),v=y+(_^S^R)+T[5]+4294588738&4294967295,y=_+(v<<4&4294967295|v>>>28),v=R+(y^_^S)+T[8]+2272392833&4294967295,R=y+(v<<11&4294967295|v>>>21),v=S+(R^y^_)+T[11]+1839030562&4294967295,S=R+(v<<16&4294967295|v>>>16),v=_+(S^R^y)+T[14]+4259657740&4294967295,_=S+(v<<23&4294967295|v>>>9),v=y+(_^S^R)+T[1]+2763975236&4294967295,y=_+(v<<4&4294967295|v>>>28),v=R+(y^_^S)+T[4]+1272893353&4294967295,R=y+(v<<11&4294967295|v>>>21),v=S+(R^y^_)+T[7]+4139469664&4294967295,S=R+(v<<16&4294967295|v>>>16),v=_+(S^R^y)+T[10]+3200236656&4294967295,_=S+(v<<23&4294967295|v>>>9),v=y+(_^S^R)+T[13]+681279174&4294967295,y=_+(v<<4&4294967295|v>>>28),v=R+(y^_^S)+T[0]+3936430074&4294967295,R=y+(v<<11&4294967295|v>>>21),v=S+(R^y^_)+T[3]+3572445317&4294967295,S=R+(v<<16&4294967295|v>>>16),v=_+(S^R^y)+T[6]+76029189&4294967295,_=S+(v<<23&4294967295|v>>>9),v=y+(_^S^R)+T[9]+3654602809&4294967295,y=_+(v<<4&4294967295|v>>>28),v=R+(y^_^S)+T[12]+3873151461&4294967295,R=y+(v<<11&4294967295|v>>>21),v=S+(R^y^_)+T[15]+530742520&4294967295,S=R+(v<<16&4294967295|v>>>16),v=_+(S^R^y)+T[2]+3299628645&4294967295,_=S+(v<<23&4294967295|v>>>9),v=y+(S^(_|~R))+T[0]+4096336452&4294967295,y=_+(v<<6&4294967295|v>>>26),v=R+(_^(y|~S))+T[7]+1126891415&4294967295,R=y+(v<<10&4294967295|v>>>22),v=S+(y^(R|~_))+T[14]+2878612391&4294967295,S=R+(v<<15&4294967295|v>>>17),v=_+(R^(S|~y))+T[5]+4237533241&4294967295,_=S+(v<<21&4294967295|v>>>11),v=y+(S^(_|~R))+T[12]+1700485571&4294967295,y=_+(v<<6&4294967295|v>>>26),v=R+(_^(y|~S))+T[3]+2399980690&4294967295,R=y+(v<<10&4294967295|v>>>22),v=S+(y^(R|~_))+T[10]+4293915773&4294967295,S=R+(v<<15&4294967295|v>>>17),v=_+(R^(S|~y))+T[1]+2240044497&4294967295,_=S+(v<<21&4294967295|v>>>11),v=y+(S^(_|~R))+T[8]+1873313359&4294967295,y=_+(v<<6&4294967295|v>>>26),v=R+(_^(y|~S))+T[15]+4264355552&4294967295,R=y+(v<<10&4294967295|v>>>22),v=S+(y^(R|~_))+T[6]+2734768916&4294967295,S=R+(v<<15&4294967295|v>>>17),v=_+(R^(S|~y))+T[13]+1309151649&4294967295,_=S+(v<<21&4294967295|v>>>11),v=y+(S^(_|~R))+T[4]+4149444226&4294967295,y=_+(v<<6&4294967295|v>>>26),v=R+(_^(y|~S))+T[11]+3174756917&4294967295,R=y+(v<<10&4294967295|v>>>22),v=S+(y^(R|~_))+T[2]+718787259&4294967295,S=R+(v<<15&4294967295|v>>>17),v=_+(R^(S|~y))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(S+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.v=function(I,y){y===void 0&&(y=I.length);const _=y-this.blockSize,T=this.C;let S=this.h,R=0;for(;R<y;){if(S==0)for(;R<=_;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<y;)if(T[S++]=I.charCodeAt(R++),S==this.blockSize){s(this,T),S=0;break}}else for(;R<y;)if(T[S++]=I[R++],S==this.blockSize){s(this,T),S=0;break}}this.h=S,this.o+=y},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;y=this.o*8;for(var _=I.length-8;_<I.length;++_)I[_]=y&255,y/=256;for(this.v(I),I=Array(16),y=0,_=0;_<4;++_)for(let T=0;T<32;T+=8)I[y++]=this.g[_]>>>T&255;return I};function i(I,y){var _=c;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=y(I)}function o(I,y){this.h=y;const _=[];let T=!0;for(let S=I.length-1;S>=0;S--){const R=I[S]|0;T&&R==y||(_[S]=R,T=!1)}this.g=_}var c={};function l(I){return-128<=I&&I<128?i(I,function(y){return new o([y|0],y<0?-1:0)}):new o([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return D(h(-I));const y=[];let _=1;for(let T=0;I>=_;T++)y[T]=I/_|0,_*=4294967296;return new o(y,0)}function u(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return D(u(I.substring(1),y));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(y,8));let T=d;for(let R=0;R<I.length;R+=8){var S=Math.min(8,I.length-R);const v=parseInt(I.substring(R,R+S),y);S<8?(S=h(Math.pow(y,S)),T=T.j(S).add(h(v))):(T=T.j(_),T=T.add(h(v)))}return T}var d=l(0),g=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(C(this))return-D(this).m();let I=0,y=1;for(let _=0;_<this.g.length;_++){const T=this.i(_);I+=(T>=0?T:4294967296+T)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(C(this))return"-"+D(this).toString(I);const y=h(Math.pow(I,6));var _=this;let T="";for(;;){const S=k(_,y).g;_=O(_,S.j(y));let R=((_.g.length>0?_.g[0]:_.h)>>>0).toString(I);if(_=S,A(_))return R+T;for(;R.length<6;)R="0"+R;T=R+T}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(let y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=O(this,I),C(I)?-1:A(I)?0:1};function D(I){const y=I.g.length,_=[];for(let T=0;T<y;T++)_[T]=~I.g[T];return new o(_,~I.h).add(g)}t.abs=function(){return C(this)?D(this):this},t.add=function(I){const y=Math.max(this.g.length,I.g.length),_=[];let T=0;for(let S=0;S<=y;S++){let R=T+(this.i(S)&65535)+(I.i(S)&65535),v=(R>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);T=v>>>16,R&=65535,v&=65535,_[S]=v<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(I,y){return I.add(D(y))}t.j=function(I){if(A(this)||A(I))return d;if(C(this))return C(I)?D(this).j(D(I)):D(D(this).j(I));if(C(I))return D(this.j(D(I)));if(this.l(m)<0&&I.l(m)<0)return h(this.m()*I.m());const y=this.g.length+I.g.length,_=[];for(var T=0;T<2*y;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(let S=0;S<I.g.length;S++){const R=this.i(T)>>>16,v=this.i(T)&65535,ue=I.i(S)>>>16,ve=I.i(S)&65535;_[2*T+2*S]+=v*ve,N(_,2*T+2*S),_[2*T+2*S+1]+=R*ve,N(_,2*T+2*S+1),_[2*T+2*S+1]+=v*ue,N(_,2*T+2*S+1),_[2*T+2*S+2]+=R*ue,N(_,2*T+2*S+2)}for(I=0;I<y;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=y;I<2*y;I++)_[I]=0;return new o(_,0)};function N(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function w(I,y){this.g=I,this.h=y}function k(I,y){if(A(y))throw Error("division by zero");if(A(I))return new w(d,d);if(C(I))return y=k(D(I),y),new w(D(y.g),D(y.h));if(C(y))return y=k(I,D(y)),new w(D(y.g),y.h);if(I.g.length>30){if(C(I)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,T=y;T.l(I)<=0;)_=V(_),T=V(T);var S=U(_,1),R=U(T,1);for(T=U(T,2),_=U(_,2);!A(T);){var v=R.add(T);v.l(I)<=0&&(S=S.add(_),R=v),T=U(T,1),_=U(_,1)}return y=O(I,S.j(y)),new w(S,y)}for(S=d;I.l(y)>=0;){for(_=Math.max(1,Math.floor(I.m()/y.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),R=h(_),v=R.j(y);C(v)||v.l(I)>0;)_-=T,R=h(_),v=R.j(y);A(R)&&(R=g),S=S.add(R),I=O(I,v)}return new w(S,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const y=Math.max(this.g.length,I.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)&I.i(T);return new o(_,this.h&I.h)},t.or=function(I){const y=Math.max(this.g.length,I.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)|I.i(T);return new o(_,this.h|I.h)},t.xor=function(I){const y=Math.max(this.g.length,I.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)^I.i(T);return new o(_,this.h^I.h)};function V(I){const y=I.g.length+1,_=[];for(let T=0;T<y;T++)_[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(_,I.h)}function U(I,y){const _=y>>5;y%=32;const T=I.g.length-_,S=[];for(let R=0;R<T;R++)S[R]=y>0?I.i(R+_)>>>y|I.i(R+_+1)<<32-y:I.i(R+_);return new o(S,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ME=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=u,Dr=o}).apply(typeof bg<"u"?bg:typeof self<"u"?self:typeof window<"u"?window:{});var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,ro,UE,ja,Ju,BE,jE,HE;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Aa=="object"&&Aa];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var x=a[E];if(!(x in p))break e;p=p[x]}a=a[a.length-1],E=p[a],f=f(E),f!=E&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&p.push([E,f[E]]);return p}});var i=i||{},o=this||self;function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function l(a,f,p){return a.call.apply(a.bind,arguments)}function h(a,f,p){return h=l,h.apply(null,arguments)}function u(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(E,x,M){for(var Q=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)Q[ye-2]=arguments[ye];return f.prototype[x].apply(E,Q)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function m(a){const f=a.length;if(f>0){const p=Array(f);for(let E=0;E<f;E++)p[E]=a[E];return p}return[]}function A(a,f){for(let E=1;E<arguments.length;E++){const x=arguments[E];var p=typeof x;if(p=p!="object"?p:x?Array.isArray(x)?"array":p:"null",p=="array"||p=="object"&&typeof x.length=="number"){p=a.length||0;const M=x.length||0;a.length=p+M;for(let Q=0;Q<M;Q++)a[p+Q]=x[Q]}else a.push(x)}}class C{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(a){o.setTimeout(()=>{throw a},0)}function O(){var a=I;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class N{constructor(){this.h=this.g=null}add(f,p){const E=w.get();E.set(f,p),this.h?this.h.next=E:this.g=E,this.h=E}}var w=new C(()=>new k,a=>a.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let V,U=!1,I=new N,y=()=>{const a=Promise.resolve(void 0);V=()=>{a.then(_)}};function _(){for(var a;a=O();){try{a.h.call(a.g)}catch(p){D(p)}var f=w;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}U=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function v(a){return/^[\s\xa0]*$/.test(a)}function ue(a,f){S.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(ue,S),ue.prototype.init=function(a,f){const p=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(a,f,p,E,x){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!E,this.ha=x,this.key=++X,this.da=this.fa=!1}function Z(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ce(a,f,p){for(const E in a)f.call(p,a[E],E,a)}function pn(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function Ut(a){const f={};for(const p in a)f[p]=a[p];return f}const ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(a,f){let p,E;for(let x=1;x<arguments.length;x++){E=arguments[x];for(p in E)a[p]=E[p];for(let M=0;M<ft.length;M++)p=ft[M],Object.prototype.hasOwnProperty.call(E,p)&&(a[p]=E[p])}}function tn(a){this.src=a,this.g={},this.h=0}tn.prototype.add=function(a,f,p,E,x){const M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);const Q=Et(a,f,E,x);return Q>-1?(f=a[Q],p||(f.fa=!1)):(f=new re(f,this.src,M,!!E,x),f.fa=p,a.push(f)),f};function nn(a,f){const p=f.type;if(p in a.g){var E=a.g[p],x=Array.prototype.indexOf.call(E,f,void 0),M;(M=x>=0)&&Array.prototype.splice.call(E,x,1),M&&(Z(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Et(a,f,p,E){for(let x=0;x<a.length;++x){const M=a[x];if(!M.da&&M.listener==f&&M.capture==!!p&&M.ha==E)return x}return-1}var B="closure_lm_"+(Math.random()*1e6|0),ee={};function J(a,f,p,E,x){if(Array.isArray(f)){for(let M=0;M<f.length;M++)J(a,f[M],p,E,x);return null}return p=$(p),a&&a[ve]?a.J(f,p,c(E)?!!E.capture:!1,x):ie(a,f,p,!1,E,x)}function ie(a,f,p,E,x,M){if(!f)throw Error("Invalid event type");const Q=c(x)?!!x.capture:!!x;let ye=H(a);if(ye||(a[B]=ye=new tn(a)),p=ye.add(f,p,E,Q,M),p.proxy)return p;if(E=Ee(),p.proxy=E,E.src=a,E.listener=p,a.addEventListener)R||(x=Q),x===void 0&&(x=!1),a.addEventListener(f.toString(),E,x);else if(a.attachEvent)a.attachEvent(P(f.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ee(){function a(p){return f.call(a.src,a.listener,p)}const f=L;return a}function xe(a,f,p,E,x){if(Array.isArray(f))for(var M=0;M<f.length;M++)xe(a,f[M],p,E,x);else E=c(E)?!!E.capture:!!E,p=$(p),a&&a[ve]?(a=a.i,M=String(f).toString(),M in a.g&&(f=a.g[M],p=Et(f,p,E,x),p>-1&&(Z(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[M],a.h--)))):a&&(a=H(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Et(f,p,E,x)),(p=a>-1?f[a]:null)&&b(p))}function b(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[ve])nn(f.i,a);else{var p=a.type,E=a.proxy;f.removeEventListener?f.removeEventListener(p,E,a.capture):f.detachEvent?f.detachEvent(P(p),E):f.addListener&&f.removeListener&&f.removeListener(E),(p=H(f))?(nn(p,a),p.h==0&&(p.src=null,f[B]=null)):Z(a)}}}function P(a){return a in ee?ee[a]:ee[a]="on"+a}function L(a,f){if(a.da)a=!0;else{f=new ue(f,this);const p=a.listener,E=a.ha||a.src;a.fa&&b(a),a=p.call(E,f)}return a}function H(a){return a=a[B],a instanceof tn?a:null}var F="__closure_events_fn_"+(Math.random()*1e9>>>0);function $(a){return typeof a=="function"?a:(a[F]||(a[F]=function(f){return a.handleEvent(f)}),a[F])}function G(){T.call(this),this.i=new tn(this),this.M=this,this.G=null}d(G,T),G.prototype[ve]=!0,G.prototype.removeEventListener=function(a,f,p,E){xe(this,a,f,p,E)};function K(a,f){var p,E=a.G;if(E)for(p=[];E;E=E.G)p.push(E);if(a=a.M,E=f.type||f,typeof f=="string")f=new S(f,a);else if(f instanceof S)f.target=f.target||a;else{var x=f;f=new S(E,a),On(f,x)}x=!0;let M,Q;if(p)for(Q=p.length-1;Q>=0;Q--)M=f.g=p[Q],x=z(M,E,!0,f)&&x;if(M=f.g=a,x=z(M,E,!0,f)&&x,x=z(M,E,!1,f)&&x,p)for(Q=0;Q<p.length;Q++)M=f.g=p[Q],x=z(M,E,!1,f)&&x}G.prototype.N=function(){if(G.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let E=0;E<p.length;E++)Z(p[E]);delete a.g[f],a.h--}}this.G=null},G.prototype.J=function(a,f,p,E){return this.i.add(String(a),f,!1,p,E)},G.prototype.K=function(a,f,p,E){return this.i.add(String(a),f,!0,p,E)};function z(a,f,p,E){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let M=0;M<f.length;++M){const Q=f[M];if(Q&&!Q.da&&Q.capture==p){const ye=Q.listener,tt=Q.ha||Q.src;Q.fa&&nn(a.i,Q),x=ye.call(tt,E)!==!1&&x}}return x&&!E.defaultPrevented}function W(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function ae(a){a.g=W(()=>{a.g=null,a.i&&(a.i=!1,ae(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Y extends T{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(a){T.call(this),this.h=a,this.g={}}d(ne,T);var pe=[];function Te(a){Ce(a.g,function(f,p){this.g.hasOwnProperty(p)&&b(f)},a),a.g={}}ne.prototype.N=function(){ne.Z.N.call(this),Te(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=o.JSON.stringify,Se=o.JSON.parse,vt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Ze(){}function Dt(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){S.call(this,"d")}d(Dn,S);function Ps(){S.call(this,"c")}d(Ps,S);var Qe={},Bt=null;function Gr(){return Bt=Bt||new G}Qe.Ia="serverreachability";function Ni(a){S.call(this,Qe.Ia,a)}d(Ni,S);function Oi(a){const f=Gr();K(f,new Ni(f))}Qe.STAT_EVENT="statevent";function Vf(a,f){S.call(this,Qe.STAT_EVENT,a),this.stat=f}d(Vf,S);function Pt(a){const f=Gr();K(f,new Vf(f,a))}Qe.Ja="timingevent";function xf(a,f){S.call(this,Qe.Ja,a),this.size=f}d(xf,S);function Di(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function Vi(){this.g=!0}Vi.prototype.ua=function(){this.g=!1};function fT(a,f,p,E,x,M){a.info(function(){if(a.g)if(M){var Q="",ye=M.split("&");for(let Le=0;Le<ye.length;Le++){var tt=ye[Le].split("=");if(tt.length>1){const ot=tt[0];tt=tt[1];const mn=ot.split("_");Q=mn.length>=2&&mn[1]=="type"?Q+(ot+"="+tt+"&"):Q+(ot+"=redacted&")}}}else Q=null;else Q=M;return"XMLHTTP REQ ("+E+") [attempt "+x+"]: "+f+`
`+p+`
`+Q})}function dT(a,f,p,E,x,M,Q){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+x+"]: "+f+`
`+p+`
`+M+" "+Q})}function ks(a,f,p,E){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+gT(a,p)+(E?" "+E:"")})}function pT(a,f){a.info(function(){return"TIMEOUT: "+f})}Vi.prototype.info=function(){};function gT(a,f){if(!a.g)return f;if(!f)return null;try{const M=JSON.parse(f);if(M){for(a=0;a<M.length;a++)if(Array.isArray(M[a])){var p=M[a];if(!(p.length<2)){var E=p[1];if(Array.isArray(E)&&!(E.length<1)){var x=E[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Q=1;Q<E.length;Q++)E[Q]=""}}}}return Pe(M)}catch{return f}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mf;function gl(){}d(gl,Ze),gl.prototype.g=function(){return new XMLHttpRequest},Mf=new gl;function xi(a){return encodeURIComponent(String(a))}function mT(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function or(a,f,p,E){this.j=a,this.i=f,this.l=p,this.S=E||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ff}function Ff(){this.i=null,this.g="",this.h=!1}var Uf={},ml={};function _l(a,f,p){a.M=1,a.A=sa(gn(f)),a.u=p,a.R=!0,Bf(a,null)}function Bf(a,f){a.F=Date.now(),ra(a),a.B=gn(a.A);var p=a.B,E=a.S;Array.isArray(E)||(E=[String(E)]),Zf(p.i,"t",E),a.C=0,p=a.j.L,a.h=new Ff,a.g=_d(a.j,p?f:null,!a.u),a.P>0&&(a.O=new Y(h(a.Y,a,a.g),a.P)),f=a.V,p=a.g,E=a.ba;var x="readystatechange";Array.isArray(x)||(x&&(pe[0]=x.toString()),x=pe);for(let M=0;M<x.length;M++){const Q=J(p,x[M],E||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=a.J?Ut(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Oi(),fT(a.i,a.v,a.B,a.l,a.S,a.u)}or.prototype.ba=function(a){a=a.target;const f=this.O;f&&lr(a)==3?f.j():this.Y(a)},or.prototype.Y=function(a){try{if(a==this.g)e:{const ye=lr(this.g),tt=this.g.ya(),Le=this.g.ca();if(!(ye<3)&&(ye!=3||this.g&&(this.h.h||this.g.la()||od(this.g)))){this.K||ye!=4||tt==7||(tt==8||Le<=0?Oi(3):Oi(2)),yl(this);var f=this.g.ca();this.X=f;var p=_T(this);if(this.o=f==200,dT(this.i,this.v,this.B,this.l,this.S,ye,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,x=this.g;if((E=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(E)){var M=E;break t}}M=null}if(a=M)ks(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,El(this,a);else{this.o=!1,this.m=3,Pt(12),zr(this),Li(this);break e}}if(this.R){a=!0;let ot;for(;!this.K&&this.C<p.length;)if(ot=yT(this,p),ot==ml){ye==4&&(this.m=4,Pt(14),a=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Uf){this.m=4,Pt(15),ks(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else ks(this.i,this.l,ot,null),El(this,ot);if(jf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||p.length!=0||this.h.h||(this.m=1,Pt(16),a=!1),this.o=this.o&&a,!a)ks(this.i,this.l,p,"[Invalid Chunked Response]"),zr(this),Li(this);else if(p.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Sl(Q),Q.P=!0,Pt(11))}}else ks(this.i,this.l,p,null),El(this,p);ye==4&&zr(this),this.o&&!this.K&&(ye==4?dd(this.j,this):(this.o=!1,ra(this)))}else OT(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),zr(this),Li(this)}}}catch{}};function _T(a){if(!jf(a))return a.g.la();const f=od(a.g);if(f==="")return"";let p="";const E=f.length,x=lr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return zr(a),Li(a),"";a.h.i=new o.TextDecoder}for(let M=0;M<E;M++)a.h.h=!0,p+=a.h.i.decode(f[M],{stream:!(x&&M==E-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function jf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function yT(a,f){var p=a.C,E=f.indexOf(`
`,p);return E==-1?ml:(p=Number(f.substring(p,E)),isNaN(p)?Uf:(E+=1,E+p>f.length?ml:(f=f.slice(E,E+p),a.C=E+p,f)))}or.prototype.cancel=function(){this.K=!0,zr(this)};function ra(a){a.T=Date.now()+a.H,Hf(a,a.H)}function Hf(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Di(h(a.aa,a),f)}function yl(a){a.D&&(o.clearTimeout(a.D),a.D=null)}or.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(pT(this.i,this.B),this.M!=2&&(Oi(),Pt(17)),zr(this),this.m=2,Li(this)):Hf(this,this.T-a)};function Li(a){a.j.I==0||a.K||dd(a.j,a)}function zr(a){yl(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,Te(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function El(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||vl(p.h,a))){if(!a.L&&vl(p.h,a)&&p.I==3){try{var E=p.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var x=E;if(x[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)la(p),aa(p);else break e;Rl(p),Pt(18)}}else p.xa=x[1],0<p.xa-p.K&&x[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Di(h(p.Va,p),6e3));Wf(p.h)<=1&&p.ta&&(p.ta=void 0)}else Jr(p,11)}else if((a.L||p.g==a)&&la(p),!v(f))for(x=p.Ba.g.parse(f),f=0;f<x.length;f++){let Le=x[f];const ot=Le[0];if(!(ot<=p.K))if(p.K=ot,Le=Le[1],p.I==2)if(Le[0]=="c"){p.M=Le[1],p.ba=Le[2];const mn=Le[3];mn!=null&&(p.ka=mn,p.j.info("VER="+p.ka));const Yr=Le[4];Yr!=null&&(p.za=Yr,p.j.info("SVER="+p.za));const ur=Le[5];ur!=null&&typeof ur=="number"&&ur>0&&(E=1.5*ur,p.O=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const hr=a.g;if(hr){const ha=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var M=E.h;M.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Tl(M,M.h),M.h=null))}if(E.G){const Cl=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(E.wa=Cl,Be(E.J,E.G,Cl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),E=p;var Q=a;if(E.na=md(E,E.L?E.ba:null,E.W),Q.L){Kf(E.h,Q);var ye=Q,tt=E.O;tt&&(ye.H=tt),ye.D&&(yl(ye),ra(ye)),E.g=Q}else hd(E);p.i.length>0&&ca(p)}else Le[0]!="stop"&&Le[0]!="close"||Jr(p,7);else p.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Jr(p,7):Al(p):Le[0]!="noop"&&p.l&&p.l.qa(Le),p.A=0)}}Oi(4)}catch{}}var ET=class{constructor(a,f){this.g=a,this.map=f}};function $f(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Wf(a){return a.h?1:a.g?a.g.size:0}function vl(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Tl(a,f){a.g?a.g.add(f):a.h=f}function Kf(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}$f.prototype.cancel=function(){if(this.i=Gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Gf(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return m(a.i)}var zf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vT(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const E=a[p].indexOf("=");let x,M=null;E>=0?(x=a[p].substring(0,E),M=a[p].substring(E+1)):x=a[p],f(x,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ar(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof ar?(this.l=a.l,Mi(this,a.j),this.o=a.o,this.g=a.g,Fi(this,a.u),this.h=a.h,wl(this,ed(a.i)),this.m=a.m):a&&(f=String(a).match(zf))?(this.l=!1,Mi(this,f[1]||"",!0),this.o=Ui(f[2]||""),this.g=Ui(f[3]||"",!0),Fi(this,f[4]),this.h=Ui(f[5]||"",!0),wl(this,f[6]||"",!0),this.m=Ui(f[7]||"")):(this.l=!1,this.i=new ji(null,this.l))}ar.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Bi(f,Qf,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Bi(f,Qf,!0),"@"),a.push(xi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Bi(p,p.charAt(0)=="/"?IT:wT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Bi(p,AT)),a.join("")},ar.prototype.resolve=function(a){const f=gn(this);let p=!!a.j;p?Mi(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var E=a.h;if(p)Fi(f,a.u);else if(p=!!a.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var x=f.h.lastIndexOf("/");x!=-1&&(E=f.h.slice(0,x+1)+E)}if(x=E,x==".."||x==".")E="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){E=x.lastIndexOf("/",0)==0,x=x.split("/");const M=[];for(let Q=0;Q<x.length;){const ye=x[Q++];ye=="."?E&&Q==x.length&&M.push(""):ye==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),E&&Q==x.length&&M.push("")):(M.push(ye),E=!0)}E=M.join("/")}else E=x}return p?f.h=E:p=a.i.toString()!=="",p?wl(f,ed(a.i)):p=!!a.m,p&&(f.m=a.m),f};function gn(a){return new ar(a)}function Mi(a,f,p){a.j=p?Ui(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Fi(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function wl(a,f,p){f instanceof ji?(a.i=f,RT(a.i,a.l)):(p||(f=Bi(f,bT)),a.i=new ji(f,a.l))}function Be(a,f,p){a.i.set(f,p)}function sa(a){return Be(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ui(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bi(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,TT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qf=/[#\/\?@]/g,wT=/[#\?:]/g,IT=/[#\?]/g,bT=/[#\?@]/g,AT=/#/g;function ji(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Qr(a){a.g||(a.g=new Map,a.h=0,a.i&&vT(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=ji.prototype,t.add=function(a,f){Qr(this),this.i=null,a=Ns(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Jf(a,f){Qr(a),f=Ns(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Yf(a,f){return Qr(a),f=Ns(a,f),a.g.has(f)}t.forEach=function(a,f){Qr(this),this.g.forEach(function(p,E){p.forEach(function(x){a.call(f,x,E,this)},this)},this)};function Xf(a,f){Qr(a);let p=[];if(typeof f=="string")Yf(a,f)&&(p=p.concat(a.g.get(Ns(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}t.set=function(a,f){return Qr(this),this.i=null,a=Ns(this,a),Yf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Xf(this,a),a.length>0?String(a[0]):f):f};function Zf(a,f,p){Jf(a,f),p.length>0&&(a.i=null,a.g.set(Ns(a,f),m(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var p=f[E];const x=xi(p);p=Xf(this,p);for(let M=0;M<p.length;M++){let Q=x;p[M]!==""&&(Q+="="+xi(p[M])),a.push(Q)}}return this.i=a.join("&")};function ed(a){const f=new ji;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Ns(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function RT(a,f){f&&!a.j&&(Qr(a),a.i=null,a.g.forEach(function(p,E){const x=E.toLowerCase();E!=x&&(Jf(this,E),Zf(this,x,p))},a)),a.j=f}function ST(a,f){const p=new Vi;if(o.Image){const E=new Image;E.onload=u(cr,p,"TestLoadImage: loaded",!0,f,E),E.onerror=u(cr,p,"TestLoadImage: error",!1,f,E),E.onabort=u(cr,p,"TestLoadImage: abort",!1,f,E),E.ontimeout=u(cr,p,"TestLoadImage: timeout",!1,f,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else f(!1)}function CT(a,f){const p=new Vi,E=new AbortController,x=setTimeout(()=>{E.abort(),cr(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:E.signal}).then(M=>{clearTimeout(x),M.ok?cr(p,"TestPingServer: ok",!0,f):cr(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),cr(p,"TestPingServer: error",!1,f)})}function cr(a,f,p,E,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),E(p)}catch{}}function PT(){this.g=new vt}function Il(a){this.i=a.Sb||null,this.h=a.ab||!1}d(Il,Ze),Il.prototype.g=function(){return new ia(this.i,this.h)};function ia(a,f){G.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(ia,G),t=ia.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,$i(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;td(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function td(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Hi(this):$i(this),this.readyState==3&&td(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Hi(this))},t.Na=function(a){this.g&&(this.response=a,Hi(this))},t.ga=function(){this.g&&Hi(this)};function Hi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,$i(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function $i(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function nd(a){let f="";return Ce(a,function(p,E){f+=E,f+=":",f+=p,f+=`\r
`}),f}function bl(a,f,p){e:{for(E in p){var E=!1;break e}E=!0}E||(p=nd(p),typeof a=="string"?p!=null&&xi(p):Be(a,f,p))}function Ge(a){G.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ge,G);var kT=/^https?$/i,NT=["POST","PUT"];t=Ge.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mf.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(M){rd(this,M);return}if(a=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var x in E)p.set(x,E[x]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const M of E.keys())p.set(M,E.get(M));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),x=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(NT,f,void 0)>=0)||E||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,Q]of p)this.g.setRequestHeader(M,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(M){rd(this,M)}};function rd(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,sd(a),oa(a)}function sd(a){a.A||(a.A=!0,K(a,"complete"),K(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,K(this,"complete"),K(this,"abort"),oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oa(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?id(this):this.Xa())},t.Xa=function(){id(this)};function id(a){if(a.h&&typeof i<"u"){if(a.v&&lr(a)==4)setTimeout(a.Ca.bind(a),0);else if(K(a,"readystatechange"),lr(a)==4){a.h=!1;try{const M=a.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var E;if(E=M===0){let Q=String(a.D).match(zf)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),E=!kT.test(Q?Q.toLowerCase():"")}p=E}if(p)K(a,"complete"),K(a,"success");else{a.o=6;try{var x=lr(a)>2?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.ca()+"]",sd(a)}}finally{oa(a)}}}}function oa(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||K(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Se(f)}};function od(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function OT(a){const f={};a=(a.g&&lr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(v(a[E]))continue;var p=mT(a[E]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=f[x]||[];f[x]=M,M.push(p)}pn(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function ad(a){this.za=0,this.i=[],this.j=new Vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,a),this.Za=qi("retryDelaySeedMs",1e4,a),this.Ta=qi("forwardChannelMaxRetries",2,a),this.va=qi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new $f(a&&a.concurrentRequestLimit),this.Ba=new PT,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ad.prototype,t.ka=8,t.I=1,t.connect=function(a,f,p,E){Pt(0),this.W=a,this.H=f||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.J=md(this,null,this.W),ca(this)};function Al(a){if(cd(a),a.I==3){var f=a.V++,p=gn(a.J);if(Be(p,"SID",a.M),Be(p,"RID",f),Be(p,"TYPE","terminate"),Wi(a,p),f=new or(a,a.j,f),f.M=2,f.A=sa(gn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=_d(f.j,null),f.g.ea(f.A)),f.F=Date.now(),ra(f)}gd(a)}function aa(a){a.g&&(Sl(a),a.g.cancel(),a.g=null)}function cd(a){aa(a),a.v&&(o.clearTimeout(a.v),a.v=null),la(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ca(a){if(!qf(a.h)&&!a.m){a.m=!0;var f=a.Ea;V||y(),U||(V(),U=!0),I.add(f,a),a.D=0}}function DT(a,f){return Wf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Di(h(a.Ea,a,f),pd(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const x=new or(this,this.j,a);let M=this.o;if(this.U&&(M?(M=Ut(M),On(M,this.U)):M=this.U),this.u!==null||this.R||(x.J=M,M=null),this.S)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=ud(this,x,f),p=gn(this.J),Be(p,"RID",a),Be(p,"CVER",22),this.G&&Be(p,"X-HTTP-Session-Id",this.G),Wi(this,p),M&&(this.R?f="headers="+xi(nd(M))+"&"+f:this.u&&bl(p,this.u,M)),Tl(this.h,x),this.Ra&&Be(p,"TYPE","init"),this.S?(Be(p,"$req",f),Be(p,"SID","null"),x.U=!0,_l(x,p,null)):_l(x,p,f),this.I=2}}else this.I==3&&(a?ld(this,a):this.i.length==0||qf(this.h)||ld(this))};function ld(a,f){var p;f?p=f.l:p=a.V++;const E=gn(a.J);Be(E,"SID",a.M),Be(E,"RID",p),Be(E,"AID",a.K),Wi(a,E),a.u&&a.o&&bl(E,a.u,a.o),p=new or(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=ud(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Tl(a.h,p),_l(p,E,f)}function Wi(a,f){a.H&&Ce(a.H,function(p,E){Be(f,E,p)}),a.l&&Ce({},function(p,E){Be(f,E,p)})}function ud(a,f,p){p=Math.min(a.i.length,p);const E=a.l?h(a.l.Ka,a.l,a):null;e:{var x=a.i;let ye=-1;for(;;){const tt=["count="+p];ye==-1?p>0?(ye=x[0].g,tt.push("ofs="+ye)):ye=0:tt.push("ofs="+ye);let Le=!0;for(let ot=0;ot<p;ot++){var M=x[ot].g;const mn=x[ot].map;if(M-=ye,M<0)ye=Math.max(0,x[ot].g-100),Le=!1;else try{M="req"+M+"_"||"";try{var Q=mn instanceof Map?mn:Object.entries(mn);for(const[Yr,ur]of Q){let hr=ur;c(ur)&&(hr=Pe(ur)),tt.push(M+Yr+"="+encodeURIComponent(hr))}}catch(Yr){throw tt.push(M+"type="+encodeURIComponent("_badmap")),Yr}}catch{E&&E(mn)}}if(Le){Q=tt.join("&");break e}}Q=void 0}return a=a.i.splice(0,p),f.G=a,Q}function hd(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;V||y(),U||(V(),U=!0),I.add(f,a),a.A=0}}function Rl(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Di(h(a.Da,a),pd(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,fd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Di(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),aa(this),fd(this))};function Sl(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function fd(a){a.g=new or(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=gn(a.na);Be(f,"RID","rpc"),Be(f,"SID",a.M),Be(f,"AID",a.K),Be(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Be(f,"TO",a.ia),Be(f,"TYPE","xmlhttp"),Wi(a,f),a.u&&a.o&&bl(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=sa(gn(f)),p.u=null,p.R=!0,Bf(p,a)}t.Va=function(){this.C!=null&&(this.C=null,aa(this),Rl(this),Pt(19))};function la(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function dd(a,f){var p=null;if(a.g==f){la(a),Sl(a),a.g=null;var E=2}else if(vl(a.h,f))p=f.G,Kf(a.h,f),E=1;else return;if(a.I!=0){if(f.o)if(E==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var x=a.D;E=Gr(),K(E,new xf(E,p)),ca(a)}else hd(a);else if(x=f.m,x==3||x==0&&f.X>0||!(E==1&&DT(a,f)||E==2&&Rl(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),x){case 1:Jr(a,5);break;case 4:Jr(a,10);break;case 3:Jr(a,6);break;default:Jr(a,2)}}}function pd(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function Jr(a,f){if(a.j.info("Error code "+f),f==2){var p=h(a.bb,a),E=a.Ua;const x=!E;E=new ar(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mi(E,"https"),sa(E),x?ST(E.toString(),p):CT(E.toString(),p)}else Pt(2);a.I=0,a.l&&a.l.pa(f),gd(a),cd(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function gd(a){if(a.I=0,a.ja=[],a.l){const f=Gf(a.h);(f.length!=0||a.i.length!=0)&&(A(a.ja,f),A(a.ja,a.i),a.h.i.length=0,m(a.i),a.i.length=0),a.l.oa()}}function md(a,f,p){var E=p instanceof ar?gn(p):new ar(p);if(E.g!="")f&&(E.g=f+"."+E.g),Fi(E,E.u);else{var x=o.location;E=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const M=new ar(null);E&&Mi(M,E),f&&(M.g=f),x&&Fi(M,x),p&&(M.h=p),E=M}return p=a.G,f=a.wa,p&&f&&Be(E,p,f),Be(E,"VER",a.ka),Wi(a,E),E}function _d(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new Ge(new Il({ab:p})):new Ge(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yd(){}t=yd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ua(){}ua.prototype.g=function(a,f){return new jt(a,f)};function jt(a,f){G.call(this),this.g=new ad(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!v(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Os(this)}d(jt,G),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Al(this.g)},jt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Pe(a),a=p);f.i.push(new ET(f.Ya++,a)),f.I==3&&ca(f)},jt.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,jt.Z.N.call(this)};function Ed(a){Dn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(Ed,Dn);function vd(){Ps.call(this),this.status=1}d(vd,Ps);function Os(a){this.g=a}d(Os,yd),Os.prototype.ra=function(){K(this.g,"a")},Os.prototype.qa=function(a){K(this.g,new Ed(a))},Os.prototype.pa=function(a){K(this.g,new vd)},Os.prototype.oa=function(){K(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,HE=function(){return new ua},jE=function(){return Gr()},BE=Qe,Ju={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,ja=na,Lf.COMPLETE="complete",UE=Lf,Dt.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",G.prototype.listen=G.prototype.J,ro=Dt,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,FE=Ge}).apply(typeof Aa<"u"?Aa:typeof self<"u"?self:typeof window<"u"?window:{});class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Si="12.8.0";function y1(t){Si=t}const Ts=new Wh("@firebase/firestore");function Fs(){return Ts.logLevel}function te(t,...e){if(Ts.logLevel<=we.DEBUG){const n=e.map(nf);Ts.debug(`Firestore (${Si}): ${t}`,...n)}}function Zn(t,...e){if(Ts.logLevel<=we.ERROR){const n=e.map(nf);Ts.error(`Firestore (${Si}): ${t}`,...n)}}function gi(t,...e){if(Ts.logLevel<=we.WARN){const n=e.map(nf);Ts.warn(`Firestore (${Si}): ${t}`,...n)}}function nf(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$E(t,r,n)}function $E(t,e,n){let r=`FIRESTORE (${Si}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zn(r),new Error(r)}function De(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||$E(e,s,r)}function _e(t,e){return t}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class qE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(It.UNAUTHENTICATED)))}shutdown(){}}class v1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T1{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vr,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new qE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class w1{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I1{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new w1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(It.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ag{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ag(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ag(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class rf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=A1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Yu(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return su(s)===su(i)?Ie(s,i):su(s)?1:-1}return Ie(t.length,e.length)}const R1=55296,S1=57343;function su(t){const e=t.charCodeAt(0);return e>=R1&&e<=S1}function mi(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Rg="__name__";class En{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=En.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=En.isNumericId(e),s=En.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?En.extractNumericId(e).compare(En.extractNumericId(n)):Yu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class We extends En{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new We(n)}static emptyPath(){return new We([])}}const C1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends En{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return C1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rg}static keyField(){return new mt([Rg])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}class le{constructor(e){this.path=e}static fromPath(e){return new le(We.fromString(e))}static fromName(e){return new le(We.fromString(e).popFirst(5))}static empty(){return new le(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new We(e.slice()))}}function P1(t,e,n){if(!n)throw new se(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k1(t,e,n,r){if(e===!0&&r===!0)throw new se(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sg(t){if(!le.isDocumentKey(t))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(t);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jo(t,e){if(!WE(t))throw new se(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new se(q.INVALID_ARGUMENT,n);return!0}const Cg=-62135596800,Pg=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Pg);return new je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cg)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pg}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Xe("string",je._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new je(0,0))}static max(){return new ge(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;function N1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Fr(s,le.empty(),e)}function O1(t){return new Fr(t.readTime,t.key,Oo)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(ge.min(),le.empty(),Oo)}static max(){return new Fr(ge.max(),le.empty(),Oo)}}function D1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}const V1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ci(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==V1)throw t;te("LocalStore","Unexpectedly lost primary lease")}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,r)=>{n(e)}))}static reject(e){return new j(((n,r)=>{r(e)}))}static waitFor(e){return new j(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next((s=>s?j.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new j(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const h=l;n(e[h]).next((u=>{o[h]=u,++c,c===i&&r(o)}),(u=>s(u)))}}))}static doWhile(e,n){return new j(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function L1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pi(t){return t.name==="IndexedDbTransactionError"}class rl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rl.ce=-1;const of=-1;function sl(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function M1(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const KE="";function F1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kg(e)),e=U1(t.get(n),e);return kg(e)}function U1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case KE:n+="";break;default:n+=i}}return n}function kg(t){return t+KE+""}function Ng(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ke{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ra(this.root,e,this.comparator,!0)}}class Ra{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Og(this.data.getIterator())}getIteratorFrom(e){return new Og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Og{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class an{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new an([])}unionWith(e){let n=new it(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mi(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zE("Invalid base64 string: "+i):i}})(e);return new yt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=B1.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}const QE="server_timestamp",JE="__type__",YE="__previous_value__",XE="__local_write_time__";function af(t){return(t?.mapValue?.fields||{})[JE]?.stringValue===QE}function il(t){const e=t.mapValue.fields[YE];return af(e)?il(e):e}function Do(t){const e=Ur(t.mapValue.fields[XE].timestampValue);return new je(e.seconds,e.nanos)}class j1{constructor(e,n,r,s,i,o,c,l,h,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=u,this.apiKey=d}}const Ic="(default)";class Vo{constructor(e,n){this.projectId=e,this.database=n||Ic}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}function H1(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(t.options.projectId,e)}const ZE="__type__",$1="__max__",Sa={mapValue:{}},ev="__vector__",bc="value";function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?af(t)?4:W1(t)?9007199254740991:q1(t)?10:11:de(28295,{value:t})}function kn(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Do(t).isEqual(Do(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ur(s.timestampValue),c=Ur(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Br(s.bytesValue).isEqual(Br(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Je(s.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Je(s.integerValue)===Je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Je(s.doubleValue),c=Je(i.doubleValue);return o===c?wc(o)===wc(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return mi(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Ng(o)!==Ng(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!kn(o[l],c[l])))return!1;return!0})(t,e);default:return de(52216,{left:t})}}function xo(t,e){return(t.values||[]).find((n=>kn(n,e)))!==void 0}function _i(t,e){if(t===e)return 0;const n=jr(t),r=jr(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=Je(i.integerValue||i.doubleValue),l=Je(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(t,e);case 3:return Dg(t.timestampValue,e.timestampValue);case 4:return Dg(Do(t),Do(e));case 5:return Yu(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=Br(i),l=Br(o);return c.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){const u=Ie(c[h],l[h]);if(u!==0)return u}return Ie(c.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=Ie(Je(i.latitude),Je(o.latitude));return c!==0?c:Ie(Je(i.longitude),Je(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Vg(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},h=c[bc]?.arrayValue,u=l[bc]?.arrayValue,d=Ie(h?.values?.length||0,u?.values?.length||0);return d!==0?d:Vg(h,u)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Sa.mapValue&&o===Sa.mapValue)return 0;if(i===Sa.mapValue)return 1;if(o===Sa.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),h=o.fields||{},u=Object.keys(h);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const g=Yu(l[d],u[d]);if(g!==0)return g;const m=_i(c[l[d]],h[u[d]]);if(m!==0)return m}return Ie(l.length,u.length)})(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function Dg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Ur(t),r=Ur(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function Vg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=_i(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function yi(t){return Xu(t)}function Xu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xu(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xu(n.fields[o])}`;return s+"}"})(t.mapValue):de(61005,{value:t})}function Ha(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=il(t);return e?16+Ha(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ha(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return As(r.fields,((i,o)=>{s+=i.length+Ha(o)})),s})(t.mapValue);default:throw de(13486,{value:t})}}function Zu(t){return!!t&&"integerValue"in t}function cf(t){return!!t&&"arrayValue"in t}function xg(t){return!!t&&"nullValue"in t}function Lg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $a(t){return!!t&&"mapValue"in t}function q1(t){return(t?.mapValue?.fields||{})[ZE]?.stringValue===ev}function _o(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_o(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_o(t.arrayValue.values[n]);return e}return{...t}}function W1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$1}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$a(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=_o(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$a(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$a(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){As(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Jt(_o(this.value))}}function tv(t){const e=[];return As(t.fields,((n,r)=>{const s=new mt([n]);if($a(r)){const i=tv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new an(e)}class At{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new At(e,0,ge.min(),ge.min(),ge.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ge.min(),ge.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ge.min(),ge.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ac{constructor(e,n){this.position=e,this.inclusive=n}}function Mg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=_i(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function K1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nv{}class st extends nv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z1(e,n,r):n==="array-contains"?new Y1(e,r):n==="in"?new X1(e,r):n==="not-in"?new Z1(e,r):n==="array-contains-any"?new eN(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q1(e,r):new J1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_i(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(_i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends nv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nn(e,n)}matches(e){return rv(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(t){return t.op==="and"}function sv(t){return G1(t)&&rv(t)}function G1(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function eh(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+yi(t.value);if(sv(t))return t.filters.map((e=>eh(e))).join(",");{const e=t.filters.map((n=>eh(n))).join(",");return`${t.op}(${e})`}}function iv(t,e){return t instanceof st?(function(r,s){return s instanceof st&&r.op===s.op&&r.field.isEqual(s.field)&&kn(r.value,s.value)})(t,e):t instanceof Nn?(function(r,s){return s instanceof Nn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&iv(o,s.filters[c])),!0):!1})(t,e):void de(19439)}function ov(t){return t instanceof st?(function(n){return`${n.field.canonicalString()} ${n.op} ${yi(n.value)}`})(t):t instanceof Nn?(function(n){return n.op.toString()+" {"+n.getFilters().map(ov).join(" ,")+"}"})(t):"Filter"}class z1 extends st{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q1 extends st{constructor(e,n){super(e,"in",n),this.keys=av("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class J1 extends st{constructor(e,n){super(e,"not-in",n),this.keys=av("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function av(t,e){return(e.arrayValue?.values||[]).map((n=>le.fromName(n.referenceValue)))}class Y1 extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cf(n)&&xo(n.arrayValue,this.value)}}class X1 extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xo(this.value.arrayValue,n)}}class Z1 extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xo(this.value.arrayValue,n)}}class eN extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>xo(this.value.arrayValue,r)))}}class tN{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Ug(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tN(t,e,n,r,s,i,o)}function lf(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>eh(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yi(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yi(r))).join(",")),e.Te=n}return e.Te}function uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fg(t.startAt,e.startAt)&&Fg(t.endAt,e.endAt)}function th(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ol{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nN(t,e,n,r,s,i,o,c){return new ol(t,e,n,r,s,i,o,c)}function hf(t){return new ol(t)}function Bg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rN(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sN(t){return t.collectionGroup!==null}function yo(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new it(mt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Rc(i,r))})),n.has(mt.keyField().canonicalString())||e.Ie.push(new Rc(mt.keyField(),r))}return e.Ie}function An(t){const e=_e(t);return e.Ee||(e.Ee=iN(e,yo(t))),e.Ee}function iN(t,e){if(t.limitType==="F")return Ug(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Rc(s.field,i)}));const n=t.endAt?new Ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ac(t.startAt.position,t.startAt.inclusive):null;return Ug(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nh(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function al(t,e){return uf(An(t),An(e))&&t.limitType===e.limitType}function cv(t){return`${lf(An(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>ov(s))).join(", ")}]`),sl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>yi(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>yi(s))).join(",")),`Target(${r})`})(An(t))}; limitType=${t.limitType})`}function cl(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of yo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const h=Mg(o,c,l);return o.inclusive?h<=0:h<0})(r.startAt,yo(r),s)||r.endAt&&!(function(o,c,l){const h=Mg(o,c,l);return o.inclusive?h>=0:h>0})(r.endAt,yo(r),s))})(t,e)}function oN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lv(t){return(e,n)=>{let r=!1;for(const s of yo(t)){const i=aN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function aN(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):(function(i,o,c){const l=o.data.field(i),h=c.data.field(i);return l!==null&&h!==null?_i(l,h):de(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}const cN=new Ke(le.comparator);function er(){return cN}const uv=new Ke(le.comparator);function so(...t){let e=uv;for(const n of t)e=e.insert(n.key,n);return e}function hv(t){let e=uv;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function as(){return Eo()}function fv(){return Eo()}function Eo(){return new Rs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const lN=new Ke(le.comparator),uN=new it(le.comparator);function be(...t){let e=uN;for(const n of t)e=e.add(n);return e}const hN=new it(Ie);function fN(){return hN}function ff(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function dv(t){return{integerValue:""+t}}function dN(t,e){return M1(e)?dv(e):ff(t,e)}class ll{constructor(){this._=void 0}}function pN(t,e,n){return t instanceof Sc?(function(s,i){const o={fields:{[JE]:{stringValue:QE},[XE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&af(i)&&(i=il(i)),i&&(o.fields[YE]=i),{mapValue:o}})(n,e):t instanceof Lo?gv(t,e):t instanceof Mo?mv(t,e):(function(s,i){const o=pv(s,i),c=jg(o)+jg(s.Ae);return Zu(o)&&Zu(s.Ae)?dv(c):ff(s.serializer,c)})(t,e)}function gN(t,e,n){return t instanceof Lo?gv(t,e):t instanceof Mo?mv(t,e):n}function pv(t,e){return t instanceof Cc?(function(r){return Zu(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Sc extends ll{}class Lo extends ll{constructor(e){super(),this.elements=e}}function gv(t,e){const n=_v(e);for(const r of t.elements)n.some((s=>kn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Mo extends ll{constructor(e){super(),this.elements=e}}function mv(t,e){let n=_v(e);for(const r of t.elements)n=n.filter((s=>!kn(s,r)));return{arrayValue:{values:n}}}class Cc extends ll{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jg(t){return Je(t.integerValue||t.doubleValue)}function _v(t){return cf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mN(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Lo&&s instanceof Lo||r instanceof Mo&&s instanceof Mo?mi(r.elements,s.elements,kn):r instanceof Cc&&s instanceof Cc?kn(r.Ae,s.Ae):r instanceof Sc&&s instanceof Sc})(t.transform,e.transform)}class _N{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ul{}function yv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vv(t.key,Gn.none()):new Yo(t.key,t.data,Gn.none());{const n=t.data,r=Jt.empty();let s=new it(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ss(t.key,r,new an(s.toArray()),Gn.none())}}function yN(t,e,n){t instanceof Yo?(function(s,i,o){const c=s.value.clone(),l=$g(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ss?(function(s,i,o){if(!qa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=$g(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ev(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function vo(t,e,n,r){return t instanceof Yo?(function(i,o,c,l){if(!qa(i.precondition,o))return c;const h=i.value.clone(),u=qg(i.fieldTransforms,l,o);return h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ss?(function(i,o,c,l){if(!qa(i.precondition,o))return c;const h=qg(i.fieldTransforms,l,o),u=o.data;return u.setAll(Ev(i)),u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,c){return qa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function EN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pv(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function Hg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mi(r,s,((i,o)=>mN(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yo extends ul{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ss extends ul{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ev(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $g(t,e,n){const r=new Map;De(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,gN(o,c,n[s]))}return r}function qg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,pN(i,o,e))}return r}class vv extends ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vN extends ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&yN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fv();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=yv(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&mi(this.mutations,e.mutations,((n,r)=>Hg(n,r)))&&mi(this.baseMutations,e.baseMutations,((n,r)=>Hg(n,r)))}}class df{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){De(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return lN})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new df(e,n,r,s)}}class wN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ye,Ae;function bN(t){switch(t){case q.OK:return de(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function Tv(t){if(t===void 0)return Zn("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ye.OK:return q.OK;case Ye.CANCELLED:return q.CANCELLED;case Ye.UNKNOWN:return q.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return q.INTERNAL;case Ye.UNAVAILABLE:return q.UNAVAILABLE;case Ye.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ye.NOT_FOUND:return q.NOT_FOUND;case Ye.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ye.ABORTED:return q.ABORTED;case Ye.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ye.DATA_LOSS:return q.DATA_LOSS;default:return de(39323,{code:t})}}(Ae=Ye||(Ye={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";function AN(){return new TextEncoder}const RN=new Dr([4294967295,4294967295],0);function Wg(t){const e=AN().encode(t),n=new ME;return n.update(e),new Uint8Array(n.digest())}function Kg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Dr([n,r],0),new Dr([s,i],0)]}class pf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new io(`Invalid padding: ${n}`);if(r<0)throw new io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new io(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Dr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Dr.fromNumber(r)));return s.compare(RN)===1&&(s=new Dr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wg(e),[r,s]=Kg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pf(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=Wg(e),[r,s]=Kg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hl(ge.min(),s,new Ke(Ie),er(),be())}}class Xo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xo(r,n,be(),be(),be())}}class Wa{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wv{constructor(e,n){this.targetId=e,this.Ce=n}}class Iv{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Gg{constructor(){this.ve=0,this.Fe=zg(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}})),new Xo(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=zg()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class SN{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.He=Ca(),this.Je=Ca(),this.Ze=new Ke(Ie)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(th(i))if(r===0){const o=new le(i.path);this.et(n,o,At.newNoDocument(o,ge.min()))}else De(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Br(r).toUint8Array()}catch(l){if(l instanceof zE)return gi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new pf(o,s,i)}catch(l){return gi(l instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&th(c.target)){const l=new le(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,At.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}}));let r=be();this.Je.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const h=this.ot(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new hl(e,n,this.Ze,this.je,r);return this.je=er(),this.He=Ca(),this.Je=Ca(),this.Ze=new Ke(Ie),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Gg,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new it(Ie),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new it(Ie),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ca(){return new Ke(le.comparator)}function zg(){return new Ke(le.comparator)}const CN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kN={and:"AND",or:"OR"};class NN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rh(t,e){return t.useProto3Json||sl(e)?e:{value:e}}function Pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ON(t,e){return Pc(t,e.toTimestamp())}function Rn(t){return De(!!t,49232),ge.fromTimestamp((function(n){const r=Ur(n);return new je(r.seconds,r.nanos)})(t))}function gf(t,e){return sh(t,e).canonicalString()}function sh(t,e){const n=(function(s){return new We(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Av(t){const e=We.fromString(t);return De(kv(e),10190,{key:e.toString()}),e}function ih(t,e){return gf(t.databaseId,e.path)}function iu(t,e){const n=Av(e);if(n.get(1)!==t.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(Sv(n))}function Rv(t,e){return gf(t.databaseId,e)}function DN(t){const e=Av(t);return e.length===4?We.emptyPath():Sv(e)}function oh(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sv(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qg(t,e,n){return{name:ih(t,e),fields:n.value.mapValue.fields}}function VN(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:de(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,u){return h.useProto3Json?(De(u===void 0||typeof u=="string",58123),yt.fromBase64String(u||"")):(De(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),yt.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const u=h.code===void 0?q.UNKNOWN:Tv(h.code);return new se(u,h.message||"")})(o);n=new Iv(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iu(t,r.document.name),i=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):ge.min(),c=new Jt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,c),h=r.targetIds||[],u=r.removedTargetIds||[];n=new Wa(h,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iu(t,r.document),i=r.readTime?Rn(r.readTime):ge.min(),o=At.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Wa([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iu(t,r.document),i=r.removedTargetIds||[];n=new Wa([],i,s,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new IN(s,i),c=r.targetId;n=new wv(c,o)}}return n}function xN(t,e){let n;if(e instanceof Yo)n={update:Qg(t,e.key,e.value)};else if(e instanceof vv)n={delete:ih(t,e.key)};else if(e instanceof Ss)n={update:Qg(t,e.key,e.data),updateMask:qN(e.fieldMask)};else{if(!(e instanceof vN))return de(16599,{dt:e.type});n={verify:ih(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Cc)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw de(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:ON(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)})(t,e.precondition)),n}function LN(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Rn(s.updateTime):Rn(i);return o.isEqual(ge.min())&&(o=Rn(i)),new _N(o,s.transformResults||[])})(n,e)))):[]}function MN(t,e){return{documents:[Rv(t,e.path)]}}function FN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rv(t,s);const i=(function(h){if(h.length!==0)return Pv(Nn.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((u=>(function(g){return{field:Bs(g.field),direction:jN(g.dir)}})(u)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=rh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function UN(t){let e=DN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){De(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=(function(d){const g=Cv(d);return g instanceof Nn&&sv(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((g=>(function(A){return new Rc(js(A.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(d){let g;return g=typeof d=="object"?d.value:d,sl(g)?null:g})(n.limit));let l=null;n.startAt&&(l=(function(d){const g=!!d.before,m=d.values||[];return new Ac(m,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(d){const g=!d.before,m=d.values||[];return new Ac(m,g)})(n.endAt)),nN(e,s,o,i,c,"F",l,h)}function BN(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cv(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=js(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=js(n.unaryFilter.field);return st.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=js(n.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(t):t.fieldFilter!==void 0?(function(n){return st.create(js(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Nn.create(n.compositeFilter.filters.map((r=>Cv(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(n.compositeFilter.op))})(t):de(30097,{filter:t})}function jN(t){return CN[t]}function HN(t){return PN[t]}function $N(t){return kN[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function js(t){return mt.fromServerFormat(t.fieldPath)}function Pv(t){return t instanceof st?(function(n){if(n.op==="=="){if(Lg(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(xg(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lg(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(xg(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:HN(n.op),value:n.value}}})(t):t instanceof Nn?(function(n){const r=n.getFilters().map((s=>Pv(s)));return r.length===1?r[0]:{compositeFilter:{op:$N(n.op),filters:r}}})(t):de(54877,{filter:t})}function qN(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Nv(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Rr{constructor(e,n,r,s,i=ge.min(),o=ge.min(),c=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WN{constructor(e){this.yt=e}}function KN(t){const e=UN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nh(e,e.limit,"L"):e}class GN{constructor(){this.Sn=new zN}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Fr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class zN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(We.comparator)).toArray()}}const Jg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ov=41943040;class xt{static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(Ov,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);class Ei{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ei(0)}static ar(){return new Ei(-1)}}const Yg="LruGarbageCollector",QN=1048576;function Xg([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class JN{constructor(e){this.Pr=e,this.buffer=new it(Xg),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Xg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){te(Yg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pi(n)?te(Yg,"Ignoring IndexedDB error during garbage collection: ",n):await Ci(n)}await this.Ar(3e5)}))}}class XN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(rl.ce);const r=new JN(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Jg)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jg):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,c,l,h;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,c=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(h=Date.now(),Fs()<=we.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(h-l)+`ms
Total Duration: ${h-u}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function ZN(t,e){return new XN(t,e)}class eO{constructor(){this.changes=new Rs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&vo(r.mutation,s,an.empty(),je.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=be()){const s=as();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=so();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,be())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=er();const o=Eo(),c=(function(){return Eo()})();return n.forEach(((l,h)=>{const u=r.get(h.key);s.has(h.key)&&(u===void 0||u.mutation instanceof Ss)?i=i.insert(h.key,h):u!==void 0?(o.set(h.key,u.mutation.getFieldMask()),vo(u.mutation,h,u.mutation.getFieldMask(),je.now())):o.set(h.key,an.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((h,u)=>o.set(h,u))),n.forEach(((h,u)=>c.set(h,new tO(u,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Eo();let s=new Ke(((o,c)=>o-c)),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((l=>{const h=n.get(l);if(h===null)return;let u=r.get(l)||an.empty();u=c.applyToLocalView(h,u),r.set(l,u);const d=(s.get(c.batchId)||be()).add(l);s=s.insert(c.batchId,d)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),h=l.key,u=l.value,d=fv();u.forEach((g=>{if(!i.has(g)){const m=yv(n.get(g),r.get(g));m!==null&&d.set(g,m),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,d))}return j.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return rN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(as());let c=Oo,l=i;return o.next((h=>j.forEach(h,((u,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(u)?j.resolve():this.remoteDocumentCache.getEntry(e,u).next((g=>{l=l.insert(u,g)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,l,h,be()))).next((u=>({batchId:c,changes:hv(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next((r=>{let s=so();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=so();return this.indexManager.getCollectionParents(e,i).next((c=>j.forEach(c,(l=>{const h=(function(d,g){return new ol(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((u=>{u.forEach(((d,g)=>{o=o.insert(d,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,h)=>{const u=h.getKey();o.get(u)===null&&(o=o.insert(u,At.newInvalidDocument(u)))}));let c=so();return o.forEach(((l,h)=>{const u=i.get(l);u!==void 0&&vo(u.mutation,h,an.empty(),je.now()),cl(n,h)&&(c=c.insert(l,h))})),c}))}}class rO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Rn(s.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:KN(s.bundledQuery),readTime:Rn(s.readTime)}})(n)),j.resolve()}}class sO{constructor(){this.overlays=new Ke(le.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return j.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.bt(e,n,i)})),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=as(),i=n.length+1,o=new le(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke(((h,u)=>h-u));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let u=i.get(h.largestBatchId);u===null&&(u=as(),i=i.insert(h.largestBatchId,u)),u.set(h.getKey(),h)}}const c=as(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((h,u)=>c.set(h,u))),!(c.size()>=s)););return j.resolve(c)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wN(n,r));let i=this.Lr.get(n);i===void 0&&(i=be(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}class iO{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}class mf{constructor(){this.kr=new it(ct.Kr),this.qr=new it(ct.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ct(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new le(new We([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.qr.forEachInRange([r,s],(o=>{this.Wr(o),i.push(o.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new le(new We([])),r=new ct(n,e),s=new ct(n,e+1);let i=be();return this.qr.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ct(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return le.comparator(e.key,n.key)||Ie(e.Hr,n.Hr)}static Ur(e,n){return Ie(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}class oO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new it(ct.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TN(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Jr=this.Jr.add(new ct(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?of:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],(o=>{const c=this.Zr(o.Hr);i.push(c)})),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(Ie);return n.forEach((s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],(c=>{r=r.add(c.Hr)}))})),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new ct(new le(i),0);let c=new it(Ie);return this.Jr.forEachWhile((l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(l.Hr)),!0)}),o),j.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){De(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(n.mutations,(s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ct(n,0),s=this.Jr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aO{constructor(e){this.ti=e,this.docs=(function(){return new Ke(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=er();const o=n.path,c=new le(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:h,value:{document:u}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||D1(O1(u),r)<=0||(s.has(u.key)||cl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ni(e,n){return j.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cO(this)}getSize(e){return j.resolve(this.size)}}class cO extends eO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class lO{constructor(e){this.persistence=e,this.ri=new Rs((n=>lf(n)),uf),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.ii=0,this.si=new mf,this.targetCount=0,this.oi=Ei._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ei(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),j.waitFor(i).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}class Dv{constructor(e,n){this._i={},this.overlays={},this.ai=new rl(0),this.ui=!1,this.ui=!0,this.ci=new iO,this.referenceDelegate=e(this),this.li=new lO(this),this.indexManager=new GN,this.remoteDocumentCache=(function(s){return new aO(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new WN(n),this.Pi=new rO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new oO(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new uO(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((i=>this.referenceDelegate.Ii(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ei(e,n){return j.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class uO extends x1{constructor(e){super(),this.currentSequenceNumber=e}}class _f{constructor(e){this.persistence=e,this.Ri=new mf,this.Ai=null}static Vi(e){return new _f(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.di.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,(r=>{const s=le.fromPath(r);return this.mi(e,s).next((i=>{i||n.removeEntry(s,ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kc{constructor(e,n){this.persistence=e,this.fi=new Rs((r=>F1(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=ZN(this,n)}static Vi(e,n){return new kc(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return j.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((i=>i?j.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,(o=>this.wr(e,o,n).next((c=>{c||(r++,i.removeEntry(o,ge.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ha(e.data.value)),n}wr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new yf(e,n.fromCache,r,s)}}class hO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xC()?8:L1(Ct())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ps(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new hO;return this.ys(e,n,o).next((c=>{if(i.result=c,this.As)return this.ws(e,n,o,c.size)}))})).next((()=>i.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Fs()<=we.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Fs()<=we.DEBUG&&te("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Fs()<=we.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):j.resolve())}gs(e,n){if(Bg(n))return j.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=nh(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=be(...i);return this.fs.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const h=this.bs(n,c);return this.Ss(n,h,o,l.readTime)?this.gs(e,nh(n,null,"F")):this.Ds(e,h,n,l)}))))})))))}ps(e,n,r,s){return Bg(n)||s.isEqual(ge.min())?j.resolve(null):this.fs.getDocuments(e,r).next((i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?j.resolve(null):(Fs()<=we.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Us(n)),this.Ds(e,o,n,N1(s,Oo)).next((c=>c)))}))}bs(e,n){let r=new it(lv(e));return n.forEach(((s,i)=>{cl(e,i)&&(r=r.add(i))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Fs()<=we.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Us(n)),this.fs.getDocumentsMatchingQuery(e,n,Fr.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Ef="LocalStore",dO=3e8;class pO{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Ke(Ie),this.Fs=new Rs((i=>lf(i)),uf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function gO(t,e,n,r){return new pO(t,e,n,r)}async function Vv(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=be();for(const h of s){o.push(h.batchId);for(const u of h.mutations)l=l.add(u.key)}for(const h of i){c.push(h.batchId);for(const u of h.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((h=>({Ns:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function mO(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,l,h,u){const d=h.batch,g=d.keys();let m=j.resolve();return g.forEach((A=>{m=m.next((()=>u.getEntry(l,A))).next((C=>{const D=h.docVersions.get(A);De(D!==null,48541),C.version.compareTo(D)<0&&(d.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),u.addEntry(C)))}))})),m.next((()=>c.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=be();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function xv(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _O(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const c=[];e.targetChanges.forEach(((u,d)=>{const g=s.get(d);if(!g)return;c.push(n.li.removeMatchingKeys(i,u.removedDocuments,d).next((()=>n.li.addMatchingKeys(i,u.addedDocuments,d))));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(yt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(d,m),(function(C,D,O){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=dO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,m,u)&&c.push(n.li.updateTargetData(i,m))}));let l=er(),h=be();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})),c.push(yO(i,o,e.documentUpdates).next((u=>{l=u.Bs,h=u.Ls}))),!r.isEqual(ge.min())){const u=n.li.getLastRemoteSnapshotVersion(i).next((d=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(u)}return j.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,h))).next((()=>l))})).then((i=>(n.vs=s,i)))}function yO(t,e,n){let r=be(),s=be();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=er();return n.forEach(((c,l)=>{const h=i.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):te(Ef,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)})),{Bs:o,Ls:s}}))}function EO(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=of),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vO(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((i=>i?(s=i,j.resolve(s)):n.li.allocateTargetId(r).next((o=>(s=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function ah(t,e,n){const r=_e(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Pi(o))throw o;te(Ef,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Zg(t,e,n){const r=_e(t);let s=ge.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,h,u){const d=_e(l),g=d.Fs.get(u);return g!==void 0?j.resolve(d.vs.get(g)):d.li.getTargetData(h,u)})(r,o,An(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:be()))).next((c=>(TO(r,oN(e),c),{documents:c,ks:i})))))}function TO(t,e,n){let r=t.Ms.get(e)||ge.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Ms.set(e,r)}class em{constructor(){this.activeTargetIds=fN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.vo=new em,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new em,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IO{Mo(e){}shutdown(){}}const tm="ConnectivityMonitor";class nm{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){te(tm,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){te(tm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pa=null;function ch(){return Pa===null?Pa=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pa++,"0x"+Pa.toString(16)}const ou="RestConnection",bO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Ic?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=ch(),c=this.Qo(e,n.toUriEncodedString());te(ou,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:h}=new URL(c),u=bi(h);return this.zo(e,c,l,r,u).then((d=>(te(ou,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw gi(ou,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d}))}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Si})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}Qo(e,n){const r=bO[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class RO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Tt="WebChannelConnection",Yi=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ti extends AO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ti.c_){const e=jE();Yi(e,BE.STAT_EVENT,(n=>{n.stat===Ju.PROXY?te(Tt,"STAT_EVENT: detected buffering proxy"):n.stat===Ju.NOPROXY&&te(Tt,"STAT_EVENT: detected no buffering proxy")})),ti.c_=!0}}zo(e,n,r,s,i){const o=ch();return new Promise(((c,l)=>{const h=new FE;h.setWithCredentials(!0),h.listenOnce(UE.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ja.NO_ERROR:const d=h.getResponseJson();te(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case ja.TIMEOUT:te(Tt,`RPC '${e}' ${o} timed out`),l(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const g=h.getStatus();if(te(Tt,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const A=m?.error;if(A&&A.status&&A.message){const C=(function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(N)>=0?N:q.UNKNOWN})(A.status);l(new se(C,A.message))}else l(new se(q.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new se(q.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{te(Tt,`RPC '${e}' ${o} completed.`)}}));const u=JSON.stringify(s);te(Tt,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",u,r,15)}))}T_(e,n,r){const s=ch(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te(Tt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const u=o.createWebChannel(h,c);this.I_(u);let d=!1,g=!1;const m=new RO({Ho:A=>{g?te(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(d||(te(Tt,`Opening RPC '${e}' stream ${s} transport.`),u.open(),d=!0),te(Tt,`RPC '${e}' stream ${s} sending:`,A),u.send(A))},Jo:()=>u.close()});return Yi(u,ro.EventType.OPEN,(()=>{g||(te(Tt,`RPC '${e}' stream ${s} transport opened.`),m.i_())})),Yi(u,ro.EventType.CLOSE,(()=>{g||(g=!0,te(Tt,`RPC '${e}' stream ${s} transport closed`),m.o_(),this.E_(u))})),Yi(u,ro.EventType.ERROR,(A=>{g||(g=!0,gi(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),m.o_(new se(q.UNAVAILABLE,"The operation could not be completed")))})),Yi(u,ro.EventType.MESSAGE,(A=>{if(!g){const C=A.data[0];De(!!C,16349);const D=C,O=D?.error||D[0]?.error;if(O){te(Tt,`RPC '${e}' stream ${s} received error:`,O);const N=O.status;let w=(function(U){const I=Ye[U];if(I!==void 0)return Tv(I)})(N),k=O.message;w===void 0&&(w=q.INTERNAL,k="Unknown error status: "+N+" with message "+O.message),g=!0,m.o_(new se(w,k)),u.close()}else te(Tt,`RPC '${e}' stream ${s} received:`,C),m.__(C)}})),ti.u_(),setTimeout((()=>{m.s_()}),0),m}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HE()}}function SO(t){return new ti(t)}function au(){return typeof document<"u"?document:null}function fl(t){return new NN(t,!0)}ti.c_=!1;class Lv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rm="PersistentStream";class Mv{constructor(e,n,r,s,i,o,c,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new se(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return te(rm,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(te(rm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CO extends Mv{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VN(this.serializer,e),r=(function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Rn(o.readTime):ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=oh(this.serializer),n.addTarget=(function(i,o){let c;const l=o.target;if(c=th(l)?{documents:MN(i,l)}:{query:FN(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=bv(i,o.resumeToken);const h=rh(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ge.min())>0){c.readTime=Pc(i,o.snapshotVersion.toTimestamp());const h=rh(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=BN(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=oh(this.serializer),n.removeTarget=e,this.K_(n)}}class PO extends Mv{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LN(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oh(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xN(this.serializer,r)))};this.K_(n)}}class kO{}class NO extends kO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(e,sh(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(q.UNKNOWN,i.toString())}))}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.jo(e,sh(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(q.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OO(t,e,n,r){return new NO(t,e,n,r)}class DO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ws="RemoteStore";class VO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Cs(this)&&(te(ws,"Restarting streams for network reachability change."),await(async function(l){const h=_e(l);h.Ea.add(4),await Zo(h),h.Va.set("Unknown"),h.Ea.delete(4),await dl(h)})(this))}))})),this.Va=new DO(r,s)}}async function dl(t){if(Cs(t))for(const e of t.Ra)await e(!0)}async function Zo(t){for(const e of t.Ra)await e(!1)}function Fv(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),If(n)?wf(n):ki(n).O_()&&Tf(n,e))}function vf(t,e){const n=_e(t),r=ki(n);n.Ia.delete(e),r.O_()&&Uv(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cs(n)&&n.Va.set("Unknown"))}function Tf(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ki(t).Z_(e)}function Uv(t,e){t.da.$e(e),ki(t).X_(e)}function wf(t){t.da=new SN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ki(t).start(),t.Va.ua()}function If(t){return Cs(t)&&!ki(t).x_()&&t.Ia.size>0}function Cs(t){return _e(t).Ea.size===0}function Bv(t){t.da=void 0}async function xO(t){t.Va.set("Online")}async function LO(t){t.Ia.forEach(((e,n)=>{Tf(t,e)}))}async function MO(t,e){Bv(t),If(t)?(t.Va.ha(e),wf(t)):t.Va.set("Unknown")}async function FO(t,e,n){if(t.Va.set("Online"),e instanceof Iv&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.da.removeTarget(c))})(t,e)}catch(r){te(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nc(t,r)}else if(e instanceof Wa?t.da.Xe(e):e instanceof wv?t.da.st(e):t.da.tt(e),!n.isEqual(ge.min()))try{const r=await xv(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.da.Tt(o);return c.targetChanges.forEach(((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(h);u&&i.Ia.set(h,u.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,h)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),Uv(i,l);const d=new Rr(u.target,l,h,u.sequenceNumber);Tf(i,d)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){te(ws,"Failed to raise snapshot:",r),await Nc(t,r)}}async function Nc(t,e,n){if(!Pi(e))throw e;t.Ea.add(1),await Zo(t),t.Va.set("Offline"),n||(n=()=>xv(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{te(ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dl(t)}))}function jv(t,e){return e().catch((n=>Nc(t,n,e)))}async function pl(t){const e=_e(t),n=Hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:of;for(;UO(e);)try{const s=await EO(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,BO(e,s)}catch(s){await Nc(e,s)}Hv(e)&&$v(e)}function UO(t){return Cs(t)&&t.Ta.length<10}function BO(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Hv(t){return Cs(t)&&!Hr(t).x_()&&t.Ta.length>0}function $v(t){Hr(t).start()}async function jO(t){Hr(t).ra()}async function HO(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function $O(t,e,n){const r=t.Ta.shift(),s=df.from(r,e,n);await jv(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await pl(t)}async function qO(t,e){e&&Hr(t).Y_&&await(async function(r,s){if((function(o){return bN(o)&&o!==q.ABORTED})(s.code)){const i=r.Ta.shift();Hr(r).B_(),await jv(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await pl(r)}})(t,e),Hv(t)&&$v(t)}async function sm(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),te(ws,"RemoteStore received new credentials");const r=Cs(n);n.Ea.add(3),await Zo(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dl(n)}async function WO(t,e){const n=_e(t);e?(n.Ea.delete(2),await dl(n)):e||(n.Ea.add(2),await Zo(n),n.Va.set("Unknown"))}function ki(t){return t.ma||(t.ma=(function(n,r,s){const i=_e(n);return i.sa(),new CO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:xO.bind(null,t),Yo:LO.bind(null,t),t_:MO.bind(null,t),J_:FO.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),If(t)?wf(t):t.Va.set("Unknown")):(await t.ma.stop(),Bv(t))}))),t.ma}function Hr(t){return t.fa||(t.fa=(function(n,r,s){const i=_e(n);return i.sa(),new PO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jO.bind(null,t),t_:qO.bind(null,t),ta:HO.bind(null,t),na:$O.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await pl(t)):(await t.fa.stop(),t.Ta.length>0&&(te(ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class bf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new bf(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Af(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),Pi(t))return new se(q.UNAVAILABLE,`${e}: ${t}`);throw t}class ni{static emptySet(e){return new ni(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=so(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ni;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class im{constructor(){this.ga=new Ke(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vi{constructor(e,n,r,s,i,o,c,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new vi(e,n,ni.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class KO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class GO{constructor(){this.queries=om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=om(),i.forEach(((o,c)=>{for(const l of c.ba)l.onError(r)}))})(this,new se(q.ABORTED,"Firestore shutting down"))}}function om(){return new Rs((t=>cv(t)),al)}async function zO(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new KO,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=Af(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Rf(n)}async function QO(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JO(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.ba)c.Fa(s)&&(r=!0);o.wa=s}}r&&Rf(n)}function YO(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Rf(t){t.Ca.forEach((e=>{e.next()}))}var lh,am;(am=lh||(lh={})).Ma="default",am.Cache="cache";class XO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lh.Cache}}class qv{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class ZO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=be(),this.mutatedKeys=be(),this.eu=lv(e),this.tu=new ni(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new im,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((u,d)=>{const g=s.get(u),m=cl(this.query,d)?d:null,A=!!g&&this.mutatedKeys.has(g.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let D=!1;g&&m?g.data.isEqual(m.data)?A!==C&&(r.track({type:3,doc:m}),D=!0):this.su(g,m)||(r.track({type:2,doc:m}),D=!0,(l&&this.eu(m,l)>0||h&&this.eu(m,h)<0)&&(c=!0)):!g&&m?(r.track({type:0,doc:m}),D=!0):g&&!m&&(r.track({type:1,doc:g}),D=!0,(l||h)&&(c=!0)),D&&(m?(o=o.add(m),i=C?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Ss:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((u,d)=>(function(m,A){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:D})}};return C(m)-C(A)})(u.type,d.type)||this.eu(u.doc,d.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,h=l!==this.Xa;return this.Xa=l,o.length!==0||h?{snapshot:new vi(this.query,e.tu,i,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new im,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Wv(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new qv(r))})),n}cu(e){this.Za=e.ks,this.Ya=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sf="SyncEngine";class eD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tD{constructor(e){this.key=e,this.hu=!1}}class nD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Rs((c=>cv(c)),al),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ke(le.comparator),this.Au=new Map,this.Vu=new mf,this.du={},this.mu=new Map,this.fu=Ei.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rD(t,e,n=!0){const r=Yv(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Kv(r,e,n,!0),s}async function sD(t,e){const n=Yv(t);await Kv(n,e,!0,!1)}async function Kv(t,e,n,r){const s=await vO(t.localStore,An(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await iD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Fv(t.remoteStore,s),c}async function iD(t,e,n,r,s){t.pu=(d,g,m)=>(async function(C,D,O,N){let w=D.view.ru(O);w.Ss&&(w=await Zg(C.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,w))));const k=N&&N.targetChanges.get(D.targetId),V=N&&N.targetMismatches.get(D.targetId)!=null,U=D.view.applyChanges(w,C.isPrimaryClient,k,V);return lm(C,D.targetId,U.au),U.snapshot})(t,d,g,m);const i=await Zg(t.localStore,e,!0),o=new ZO(e,i.ks),c=o.ru(i.documents),l=Xo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,l);lm(t,n,h.au);const u=new eD(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function oD(t,e,n){const r=_e(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!al(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ah(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vf(r.remoteStore,s.targetId),uh(r,s.targetId)})).catch(Ci)):(uh(r,s.targetId),await ah(r.localStore,s.targetId,!0))}async function aD(t,e){const n=_e(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vf(n.remoteStore,r.targetId))}async function cD(t,e,n){const r=gD(t);try{const s=await(function(o,c){const l=_e(o),h=je.now(),u=c.reduce(((m,A)=>m.add(A.key)),be());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let A=er(),C=be();return l.xs.getEntries(m,u).next((D=>{A=D,A.forEach(((O,N)=>{N.isValidDocument()||(C=C.add(O))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,A))).next((D=>{d=D;const O=[];for(const N of c){const w=EN(N,d.get(N.key).overlayedDocument);w!=null&&O.push(new Ss(N.key,w,tv(w.value.mapValue),Gn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,h,O,c)})).next((D=>{g=D;const O=D.applyToLocalDocumentSet(d,C);return l.documentOverlayCache.saveOverlays(m,D.batchId,O)}))})).then((()=>({batchId:g.batchId,changes:hv(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let h=o.du[o.currentUser.toKey()];h||(h=new Ke(Ie)),h=h.insert(c,l),o.du[o.currentUser.toKey()]=h})(r,s.batchId,n),await ea(r,s.changes),await pl(r.remoteStore)}catch(s){const i=Af(s,"Failed to persist write");n.reject(i)}}async function Gv(t,e){const n=_e(t);try{const r=await _O(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?De(o.hu,14607):s.removedDocuments.size>0&&(De(o.hu,42227),o.hu=!1))})),await ea(n,r,e)}catch(r){await Ci(r)}}function cm(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=_e(o);l.onlineState=c;let h=!1;l.queries.forEach(((u,d)=>{for(const g of d.ba)g.va(c)&&(h=!0)})),h&&Rf(l)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lD(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ke(le.comparator);o=o.insert(i,At.newNoDocument(i,ge.min()));const c=be().add(i),l=new hl(ge.min(),new Map,new Ke(Ie),o,c);await Gv(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Cf(r)}else await ah(r.localStore,e,!1).then((()=>uh(r,e,n))).catch(Ci)}async function uD(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await mO(n.localStore,e);Qv(n,r,null),zv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ea(n,s)}catch(s){await Ci(s)}}async function hD(t,e,n){const r=_e(t);try{const s=await(function(o,c){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let u;return l.mutationQueue.lookupMutationBatch(h,c).next((d=>(De(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(h,d)))).next((()=>l.mutationQueue.performConsistencyCheck(h))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(h,u,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,u))).next((()=>l.localDocuments.getDocuments(h,u)))}))})(r.localStore,e);Qv(r,e,n),zv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ea(r,s)}catch(s){await Ci(s)}}function zv(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Qv(t,e,n){const r=_e(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function uh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Jv(t,r)}))}function Jv(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(vf(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Cf(t))}function lm(t,e,n){for(const r of n)r instanceof qv?(t.Vu.addReference(r.key,e),fD(t,r)):r instanceof Wv?(te(Sf,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Jv(t,r.key)):de(19791,{wu:r})}function fD(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(te(Sf,"New document in limbo: "+n),t.Eu.add(r),Cf(t))}function Cf(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(We.fromString(e)),r=t.fu.next();t.Au.set(r,new tD(n)),t.Ru=t.Ru.insert(n,r),Fv(t.remoteStore,new Rr(An(hf(n.path)),r,"TargetPurposeLimboResolution",rl.ce))}}async function ea(t,e,n){const r=_e(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const u=h?!h.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(h){s.push(h);const u=yf.Es(l.targetId,h);i.push(u)}})))})),await Promise.all(o),r.Pu.J_(s),await(async function(l,h){const u=_e(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>j.forEach(h,(g=>j.forEach(g.Ts,(m=>u.persistence.referenceDelegate.addReference(d,g.targetId,m))).next((()=>j.forEach(g.Is,(m=>u.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))))))}catch(d){if(!Pi(d))throw d;te(Ef,"Failed to update sequence numbers: "+d)}for(const d of h){const g=d.targetId;if(!d.fromCache){const m=u.vs.get(g),A=m.snapshotVersion,C=m.withLastLimboFreeSnapshotVersion(A);u.vs=u.vs.insert(g,C)}}})(r.localStore,i))}async function dD(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){te(Sf,"User change. New user:",e.toKey());const r=await Vv(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new se(q.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ea(n,r.Ns)}}function pD(t,e){const n=_e(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function Yv(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lD.bind(null,e),e.Pu.J_=JO.bind(null,e.eventManager),e.Pu.yu=YO.bind(null,e.eventManager),e}function gD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gO(this.persistence,new fO,e.initialUser,this.serializer)}Cu(e){return new Dv(_f.Vi,this.serializer)}Du(e){return new wO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class mD extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new Dv((r=>kc.Vi(r,n)),this.serializer)}}class hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await WO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GO})()}createDatastore(e){const n=fl(e.databaseInfo.databaseId),r=SO(e.databaseInfo);return OO(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new VO(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>cm(this.syncEngine,n,0)),(function(){return nm.v()?new nm:new IO})())}createSyncEngine(e,n){return(function(s,i,o,c,l,h,u){const d=new nD(s,i,o,c,l,h);return u&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=_e(n);te(ws,"RemoteStore shutting down."),r.Ea.add(5),await Zo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hh.provider={build:()=>new hh};class _D{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $r="FirestoreClient";class yD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=rf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{te($r,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(te($r,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Af(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cu(t,e){t.asyncQueue.verifyOperationInProgress(),te($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Vv(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function um(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ED(t);te($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sm(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>sm(e.remoteStore,s))),t._onlineComponents=e}async function ED(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te($r,"Using user provided OfflineComponentProvider");try{await cu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gi("Error using user provided cache. Falling back to memory cache: "+n),await cu(t,new Oc)}}else te($r,"Using default OfflineComponentProvider"),await cu(t,new mD(void 0));return t._offlineComponents}async function Xv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te($r,"Using user provided OnlineComponentProvider"),await um(t,t._uninitializedComponentsProvider._online)):(te($r,"Using default OnlineComponentProvider"),await um(t,new hh))),t._onlineComponents}function vD(t){return Xv(t).then((e=>e.syncEngine))}async function TD(t){const e=await Xv(t),n=e.eventManager;return n.onListen=rD.bind(null,e.syncEngine),n.onUnlisten=oD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aD.bind(null,e.syncEngine),n}function wD(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,h){const u=new _D({next:g=>{u.Nu(),o.enqueueAndForget((()=>QO(i,d)));const m=g.docs.has(c);!m&&g.fromCache?h.reject(new se(q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?h.reject(new se(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),d=new XO(hf(c.path),u,{includeMetadataChanges:!0,Ka:!0});return zO(i,d)})(await TD(t),t.asyncQueue,e,n,r))),r.promise}function ID(t,e){const n=new Vr;return t.asyncQueue.enqueueAndForget((async()=>cD(await vD(t),e,n))),n.promise}function Zv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const bD="ComponentProvider",hm=new Map;function AD(t,e,n,r,s){return new j1(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Zv(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const eT="firestore.googleapis.com",fm=!0;class dm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=fm}else this.host=e.host,this.ssl=e.ssl??fm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ov;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QN)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E1;switch(r.type){case"firstParty":return new I1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hm.get(n);r&&(te(bD,"Removing Datastore"),hm.delete(n),r.terminate())})(this),Promise.resolve()}}function RD(t,e,n,r={}){t=No(t,Pf);const s=bi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(zy(`https://${c}`),Qy("Firestore",!0)),i.host!==eT&&i.host!==c&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!_s(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,u;if(typeof r.mockUserToken=="string")h=r.mockUserToken,u=It.MOCK_USER;else{h=RC(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(d)}t._authCredentials=new v1(new qE(h,u))}}class kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jo(n,ut._jsonSchema))return new ut(e,r||null,new le(We.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Xe("string",ut._jsonSchemaVersion),referencePath:Xe("string")};class Fo extends kf{constructor(e,n,r){super(e,n,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new le(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function lu(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=rf.newId()),P1("doc","path",e),t instanceof Pf){const r=We.fromString(e,...n);return Sg(r),new ut(t,null,new le(r))}{if(!(t instanceof ut||t instanceof Fo))throw new se(q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Sg(r),new ut(t.firestore,t instanceof Fo?t.converter:null,new le(r))}}const pm="AsyncQueue";class gm{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lv(this,"async_queue_retry"),this._c=()=>{const r=au();r&&te(pm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=au();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=au();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Pi(e))throw e;te(pm,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",mm(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=bf.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:mm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nf extends Pf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gm,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gm(e),this._firestoreClient=void 0,await e}}}function SD(t,e){const n=typeof t=="object"?t:Zy(),r=typeof t=="string"?t:Ic,s=Gh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bC("firestore");i&&RD(s,...i)}return s}function tT(t){if(t._terminated)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CD(t),t._firestoreClient}function CD(t){const e=t._freezeSettings(),n=AD(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Yt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yt(yt.fromBase64String(e))}catch(n){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yt(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,Yt._jsonSchema))return Yt.fromBase64String(e.bytes)}}Yt._jsonSchemaVersion="firestore/bytes/1.0",Yt._jsonSchema={type:Xe("string",Yt._jsonSchemaVersion),bytes:Xe("string")};class nT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rT{constructor(e){this._methodName=e}}class Sn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sn._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Sn._jsonSchema))return new Sn(e.latitude,e.longitude)}}Sn._jsonSchemaVersion="firestore/geoPoint/1.0",Sn._jsonSchema={type:Xe("string",Sn._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};class ln{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ln._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,ln._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ln(e.vectorValues);throw new se(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ln._jsonSchemaVersion="firestore/vectorValue/1.0",ln._jsonSchema={type:Xe("string",ln._jsonSchemaVersion),vectorValues:Xe("object")};const PD=/^__.*__$/;class kD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yo(e,this.data,n,this.fieldTransforms)}}function sT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:t})}}class Of{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Of({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sT(this.dataSource)&&PD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fl(e)}createContext(e,n,r,s=!1){return new Of({dataSource:e,methodName:n,targetDoc:r,path:mt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OD(t){const e=t._freezeSettings(),n=fl(t._databaseId);return new ND(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DD(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);cT("Data must be an object, but it was:",o,r);const c=oT(r,o);let l,h;if(i.merge)l=new an(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const g=Df(e,d,n);if(!o.contains(g))throw new se(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);LD(u,g)||u.push(g)}l=new an(u),h=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,h=o.fieldTransforms;return new kD(new Jt(c),l,h)}function iT(t,e){if(aT(t=Ft(t)))return cT("Unsupported field value:",e,t),oT(t,e);if(t instanceof rT)return(function(r,s){if(!sT(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=iT(c,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=je.fromDate(r);return{timestampValue:Pc(s.serializer,i)}}if(r instanceof je){const i=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pc(s.serializer,i)}}if(r instanceof Sn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yt)return{bytesValue:bv(s.serializer,r._byteString)};if(r instanceof ut){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ln)return(function(o,c){const l=o instanceof ln?o.toArray():o;return{mapValue:{fields:{[ZE]:{stringValue:ev},[bc]:{arrayValue:{values:l.map((u=>{if(typeof u!="number")throw c.createError("VectorValues must only contain numeric values.");return ff(c.serializer,u)}))}}}}}})(r,s);if(Nv(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${sf(r)}`)})(t,e)}function oT(t,e){const n={};return GE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,((r,s)=>{const i=iT(s,e.childContextForField(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function aT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Sn||t instanceof Yt||t instanceof ut||t instanceof rT||t instanceof ln||Nv(t))}function cT(t,e,n){if(!aT(n)||!WE(n)){const r=sf(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Df(t,e,n){if((e=Ft(e))instanceof nT)return e._internalPath;if(typeof e=="string")return xD(t,e);throw Dc("Field path arguments must be of type string or ",t,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function xD(t,e,n){if(e.search(VD)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nT(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new se(q.INVALID_ARGUMENT,c+t+l)}function LD(t,e){return t.some((n=>n.isEqual(e)))}class MD{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[bc].arrayValue?.values?.map((r=>Je(r.doubleValue)));return new ln(n)}convertGeoPoint(e){return new Sn(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=il(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);De(kv(r),9688,{name:e});const s=new Vo(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||Zn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class FD extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}const _m="@firebase/firestore",ym="4.10.0";class lT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends lT{data(){return super.data()}}function BD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fs extends lT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:Xe("string",fs._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Ka extends fs{data(e={}){return super.data(e)}}class To{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ka(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new Ka(s._firestore,s._userDataWriter,c.doc.key,c.doc,new oo(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new Ka(s._firestore,s._userDataWriter,c.doc.key,c.doc,new oo(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,u=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),u=o.indexOf(c.doc.key)),{type:jD(c.type),doc:l,oldIndex:h,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Xe("string",To._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};function Em(t){t=No(t,ut);const e=No(t.firestore,Nf),n=tT(e);return wD(n,t._key).then((r=>qD(e,t,r)))}function HD(t,e,n){t=No(t,ut);const r=No(t.firestore,Nf),s=BD(t.converter,e),i=OD(r);return $D(r,[DD(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gn.none())])}function $D(t,e){const n=tT(t);return ID(n,e)}function qD(t,e,n){const r=n.docs.get(e._key),s=new FD(t);return new fs(t,s,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){y1(Ai),pi(new ys("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new Nf(new T1(r.getProvider("auth-internal")),new b1(o,r.getProvider("app-check-internal")),H1(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Or(_m,ym,e),Or(_m,ym,"esm2020")})();let vm,Tm,ka;const WD=en(t=>{const e=$o(),n={apiKey:e.public.firebaseApiKey,authDomain:e.public.firebaseAuthDomain,projectId:e.public.firebaseProjectId,storageBucket:e.public.firebaseStorageBucket,messagingSenderId:e.public.firebaseMessagingSenderId,appId:e.public.firebaseAppId};return ka=Xy(n),vm=m1(ka),Tm=SD(ka),{provide:{auth:vm,db:Tm,firebaseApp:ka}}}),KD=[PR,NR,LR,iC,oC,aC,cC,uC,dC,pC,gC,WD];function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var GD={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fh(t,e){function n(s,i,o){if(!(typeof document>"u")){o=Na({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,o[l]!==!0&&(c+="="+o[l].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+c}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],o={},c=0;c<i.length;c++){var l=i[c].split("="),h=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(h,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",Na({},i,{expires:-1}))},withAttributes:function(s){return fh(this.converter,Na({},this.attributes,s))},withConverter:function(s){return fh(Na({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Mn=fh(GD,{path:"/"});const ta=GA("tarot",{state:()=>({ipt_birth8:"",ipt_birth4:"",ipt_year:"",result:null,calc:["","",""],y_calc:["","",""],picked:"r1",isReading:!1,radio:[{text:"",id:"r1"},{text:"",id:"r2"}],user:null,userGrade:null,isLoggedIn:!1,token:null,authLoading:!1,pendingVerificationEmail:null,alertData:{isVisible:!1,title:"",message:"",icon:"",confirmText:""},confirmData:{isVisible:!1,title:"",message:"",icon:"",confirmText:"",cancelText:"",onConfirm:null,onCancel:null},loader:{isAppLoading:!0,isPdfLoading:!1}}),actions:{setReading(t){this.isReading=t},fnGo(t){t=="result"?this.setReading(!1):this.setReading(!0)},fnBirthCalc(){if(this.calc=["","",""],/[^0-9]/.test(this.ipt_birth8)){this.showAlert({message:" !",icon:""}),this.ipt_birth8="";return}if(this.ipt_birth8.length!==8){this.showAlert({message:" 8   (: 19900219)",icon:""});return}const t=this.ipt_birth8.split("");let e=t.reduce((n,r)=>n+Number(r),0);if(this.calc[0]=t.join(" + "),e>21){this.calc[1]=e;const n=e.toString().split("");e=n.reduce((r,s)=>r+Number(s),0),this.calc[2]=n.join(" + ")}this.result=e},fnComingSoon(){this.showAlert({message:"   .",icon:""})},fnYearCalc(){if(this.calc=["","",""],/[^0-9]/.test(this.ipt_year)||/[^0-9]/.test(this.ipt_birth4)){this.showAlert({message:" !",icon:""}),/[^0-9]/.test(this.ipt_year)&&(this.ipt_year=""),/[^0-9]/.test(this.ipt_birth4)&&(this.ipt_birth4="");return}if(this.ipt_year.length!==4){this.showAlert({message:" 4   (: 1999)",icon:""}),this.ipt_year="";return}if(this.ipt_birth4.length!==4){this.showAlert({message:" 4   (: 0130)",icon:""}),this.ipt_birth4="";return}const t=Number(this.ipt_year),e=Number(this.ipt_birth4.substring(0,2)),n=Number(this.ipt_birth4.substring(2,4)),r=t+e+n;this.y_calc[0]=`${t} + ${e} + ${n} = ${r}`;const s=r.toString().split("");let i=s.reduce((o,c)=>o+Number(c),0);if(this.y_calc[1]=s.join(" + "),i>21){this.y_calc[1]=i;const o=i.toString().split("");i=o.reduce((c,l)=>c+Number(l),0),this.y_calc[2]=o.join(" + "),i==22&&(i=0)}this.result=i},fnReset(){this.ipt_birth8="",this.ipt_birth4="",this.ipt_year="",this.result=null,this.calc=["","",""],this.y_calc=["","",""]},fnClose(){this.fnReset()},async fnSignUp(t,e){const{$auth:n,$db:r}=Ue();this.authLoading=!0,this.pendingVerificationEmail=t;try{const i=(await tk(n,t,e)).user;return await pg(i),await HD(lu(r,"users",i.uid),{email:t,isApproved:!1,grade:"",createdAt:new Date}),await ns(n),{success:!0}}catch(s){return console.error("  :",s.code),this.pendingVerificationEmail=null,{success:!1,error:this.getFirebaseErrorMessage(s.code)}}finally{this.authLoading=!1}},clearPendingVerification(){this.pendingVerificationEmail=null},async fnResendVerification(){const{$auth:t}=Ue(),e=t.currentUser;if(e&&!e.emailVerified)try{return await pg(e),{success:!0}}catch(n){return{success:!1,error:this.getFirebaseErrorMessage(n.code)}}return{success:!1,error:"  ."}},async fnResetPassword(t){const{$auth:e}=Ue();this.authLoading=!0;try{return await ek(e,t),this.authLoading=!1,{success:!0}}catch(n){return this.authLoading=!1,{success:!1,error:this.getFirebaseErrorMessage(n.code)}}},async fnLogin(t,e){const{$auth:n,$db:r}=Ue();this.authLoading=!0;try{const i=(await nk(n,t,e)).user;if(!i.emailVerified)return await ns(n),this.authLoading=!1,{success:!1,needVerification:!0,error:"  .  ."};const o=await Em(lu(r,"users",i.uid));if(!o.exists())return await ns(n),this.authLoading=!1,{success:!1,error:"    ."};const c=o.data();return c.isApproved?(this.user={uid:i.uid,email:i.email,emailVerified:i.emailVerified,loginAt:new Date().toLocaleString()},this.userGrade=c.grade||"",this.token=await i.getIdToken(),this.isLoggedIn=!0,Mn.set("user_token",this.token),Mn.set("user_info",JSON.stringify(this.user)),Mn.set("user_grade",this.userGrade),this.authLoading=!1,{success:!0}):(await ns(n),this.authLoading=!1,{success:!1,needApproval:!0,error:"   .    ."})}catch(s){return this.authLoading=!1,{success:!1,error:this.getFirebaseErrorMessage(s.code)}}},async fnLogout(){const{$auth:t}=Ue();try{await ns(t)}catch(e){console.error(" :",e)}this.user=null,this.userGrade=null,this.token=null,this.isLoggedIn=!1,Mn.remove("user_token"),Mn.remove("user_info"),Mn.remove("user_grade")},checkAuth(){const{$auth:t,$db:e}=Ue();ik(t,async n=>{if(!this.pendingVerificationEmail)if(n){if(!n.emailVerified){this.user=null,this.token=null,this.isLoggedIn=!1;return}let r="";try{const s=await Em(lu(e,"users",n.uid));if(s.exists()){const i=s.data();if(!i.isApproved){await ns(t),this.user=null,this.userGrade=null,this.token=null,this.isLoggedIn=!1;return}r=i.grade||""}else{await ns(t),this.user=null,this.userGrade=null,this.token=null,this.isLoggedIn=!1;return}}catch(s){console.error("   :",s),this.user=null,this.userGrade=null,this.token=null,this.isLoggedIn=!1;return}this.user={uid:n.uid,email:n.email,emailVerified:n.emailVerified,loginAt:new Date().toLocaleString()},this.userGrade=r,this.token=await n.getIdToken(),this.isLoggedIn=!0}else this.user=null,this.userGrade=null,this.token=null,this.isLoggedIn=!1,Mn.remove("user_token"),Mn.remove("user_info"),Mn.remove("user_grade")})},getFirebaseErrorMessage(t){return{"auth/email-already-in-use":"   .","auth/invalid-email":"   .","auth/operation-not-allowed":"/   .","auth/weak-password":" 6  .","auth/user-disabled":" .","auth/user-not-found":"  .","auth/wrong-password":"  .","auth/invalid-credential":"    .","auth/too-many-requests":"   .    ."}[t]||"  ."},showAlert(t={}){this.alertData={isVisible:!0,title:t.title||"",message:t.message||"",icon:t.icon||"",confirmText:t.confirmText||""}},closeAlert(){this.alertData.isVisible=!1},showConfirm(t={}){this.confirmData={isVisible:!0,title:t.title||"",message:t.message||"",icon:t.icon||"",confirmText:t.confirmText||"",cancelText:t.cancelText||"",onConfirm:t.onConfirm||null,onCancel:t.onCancel||null}},handleConfirm(){this.confirmData.onConfirm&&this.confirmData.onConfirm(),this.closeConfirm()},handleCancel(){this.confirmData.onCancel&&this.confirmData.onCancel(),this.closeConfirm()},closeConfirm(){this.confirmData.isVisible=!1},setAppLoading(t){this.loader.isAppLoading=t},setPdfLoading(t){this.loader.isPdfLoading=t},async downloadPDF(t){const{pdfContent:e,html2canvas:n,jsPDF:r,filename:s}=t;if(e)try{this.setPdfLoading(!0);const i=e;i.classList.add("pdf_print");const o=new r("p","mm","a4"),c=210,l=[".pdf_section1",".pdf_section2",".pdf_section3",".pdf_section4",".pdf_section5"],h=async g=>{const m=await n(g,{scale:3,useCORS:!0,backgroundColor:"#ffffff",logging:!1});return{data:m.toDataURL("image/jpeg",1),height:m.height*c/m.width}},u=i.querySelector(".pdf_only_header");u.style.display="block";const d=await h(u);u.style.display="none";for(let g=0;g<l.length;g++){const m=i.querySelector(l[g]);if(!m)continue;const A=m.style.display;m.style.display="block";const C=await h(m);m.style.display=A,g>0&&o.addPage();const D=20,O=c-D*2,N=C.height*O/c;let w=0;g===0?(o.addImage(d.data,"JPEG",0,0,c,d.height),w=d.height+5):w=15,o.addImage(C.data,"JPEG",D,w,O,N),o.setFontSize(10),o.setTextColor(150),o.text("- "+String(g+1)+" -",105,287,{align:"center"})}o.save(s),i.classList.remove("pdf_print"),this.setPdfLoading(!1)}catch(i){console.error("PDF  :",i),element.classList.remove("pdf_print"),this.setPdfLoading(!1),alert("PDF    .")}}}}),uT=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},zD={class:"loader-content"},QD={class:"mystic-icon"},JD={class:"title"},YD={class:"subtitle"},XD={__name:"GlobalLoader",setup(t){const e=ta(),n=Rt(()=>e.loader.isPdfLoading?{icon:"",title:"   ",subtitle:"  ..."}:{icon:"",title:"   ",subtitle:"  ..."});return(r,s)=>(Oe(),zt(li,{name:"ifade"},{default:Lr(()=>[ce(e).loader.isAppLoading||ce(e).loader.isPdfLoading?(Oe(),dt("div",{key:0,class:ds(["global-loader",{"pdf-mode":ce(e).loader.isPdfLoading}])},[me("div",zD,[me("div",QD,sn(n.value.icon),1),me("h1",JD,sn(n.value.title),1),s[0]||(s[0]=me("div",{class:"progress-bar"},[me("div",{class:"progress-inner"})],-1)),me("p",YD,sn(n.value.subtitle),1)])],2)):br("",!0)]),_:1}))}},ZD=uT(XD,[["__scopeId","data-v-03bbbc9a"]]),hT=(t="RouteProvider")=>Wr({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Cr(ms,vn(s)),()=>e.vnode?St(e.vnode,{ref:e.vnodeRef}):e.vnode}}),eV=hT(),wm=new WeakMap,tV=Wr({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Ue(),i=lt(),o=_t(ms,null);let c;r({pageRef:i});const l=_t(fy,null);let h;const u=s.deferHydration();if(s.isHydrating){const g=s.hooks.hookOnce("app:error",u);Wt().beforeEach(g)}t.pageKey&&Wn(()=>t.pageKey,(g,m)=>{g!==m&&s.callHook("page:loading:start")});let d=!1;{const g=Wt().beforeResolve(()=>{d=!1});Ho(()=>{g()})}return()=>St(Fy,{name:t.name,route:t.route,...e},{default:g=>{const m=rV(o,g.route,g.Component),A=o&&o.matched.length===g.route.matched.length;if(!g.Component){if(h&&!A)return h;u();return}if(h&&l&&!l.isCurrent(g.route))return h;if(m&&o&&(!l||l?.isCurrent(o)))return A?h:null;const C=Uu(g,t.pageKey),D=sV(o,g.route,g.Component);!s.isHydrating&&c===C&&!D&&xr(()=>{d=!0,s.callHook("page:loading:end")}),c=C;const O=!!(t.transition??g.route.meta.pageTransition??fp),N=O&&nV([t.transition,g.route.meta.pageTransition,fp,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",g.Component)}}]),w=t.keepalive??g.route.meta.keepalive??TA;return h=By(O&&N,KS(w,St(Oh,{suspensible:!0,onPending:()=>{O&&(s._runningTransition=!0),s.callHook("page:start",g.Component)},onResolve:async()=>{await xr();try{s._route.sync?.(),await s.callHook("page:finish",g.Component),delete s._runningTransition,!d&&!D&&(d=!0,await s.callHook("page:loading:end"))}finally{u()}}},{default:()=>{const k={key:C||void 0,vnode:n.default?iV(n.default,g):g.Component,route:g.route,renderKey:C||void 0,trackRootNodes:O,vnodeRef:i};if(!w)return St(eV,k);const V=g.Component.type,U=V;let I=wm.get(U);return I||(I=hT(V.name||V.__name),wm.set(U,I)),St(I,k)}}))).default(),h}})}});function nV(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?$h(n.onAfterLeave):void 0});return uy(...e)}function rV(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Uu({route:e,Component:n})!==Uu({route:t,Component:n})}function sV(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function iV(t,e){const n=t(e);return n.length===1?St(n[0]):St(Lt,void 0,n)}const oV=Wr({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>St(Ar[t.name],t.layoutProps,e.slots)}}),aV={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},cV=Wr({name:"NuxtLayout",inheritAttrs:!1,props:aV,setup(t,e){const n=Ue(),r=_t(ms),i=!r||r===Qc()?Uy():r,o=Rt(()=>{let u=ce(t.name)??i?.meta.layout??"default";return u&&!(u in Ar)&&t.fallback&&(u=ce(t.fallback)),u}),c=si();e.expose({layoutRef:c});const l=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",l);Wt().beforeEach(u)}let h;return()=>{const u=o.value&&o.value in Ar,d=i?.meta.layoutTransition??vA,g=h;return h=o.value,By(u&&d,{default:()=>St(Oh,{suspensible:!0,onResolve:()=>{xr(l)}},{default:()=>St(lV,{layoutProps:U_(e.attrs,{ref:c}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:m=>m!==g&&m===o.value,hasTransition:!!d},e.slots)})}).default()}}}),lV=Wr({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Cr(fy,{isCurrent:i=>n===(i.meta.layout??"default")});const r=_t(ms);if(r&&r===Qc()){const i=Uy(),o={};for(const c in i){const l=c;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Cr(ms,vn(o))}return()=>!n||typeof n=="string"&&!(n in Ar)?e.slots.default?.():St(oV,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),uV={class:"login"},hV={class:"l_wrap"},fV={class:"verification_notice",key:"verification"},dV={class:"notice_txt"},pV={key:"forgot"},gV={class:"l_form"},mV=["disabled"],_V={class:"l_form"},yV={class:"ipt_pw_wrap"},EV=["type"],vV={key:0,class:"ipt_pw_wrap"},TV=["type"],wV=["disabled"],IV={key:0,class:"bx_member"},bV={key:1,class:"bx_member"},AV={__name:"Login",setup(t){const e=ta(),n=lt(""),r=lt(""),s=lt(""),i=lt(!1),o=lt(!1),c=lt(!1),l=lt(!1),h=Rt(()=>o.value?"forgot":i.value?"signup":"login"),u=Rt(()=>o.value?"Reset Password":i.value?"Join":"Login"),d=()=>{i.value=!i.value,r.value="",s.value="",c.value=!1,l.value=!1},g=()=>{e.clearPendingVerification(),i.value=!1,o.value=!1,r.value="",s.value="",c.value=!1,l.value=!1},m=()=>{o.value=!0,r.value="",s.value=""},A=async()=>{if(!n.value){e.showAlert({title:"",message:" .",icon:""});return}const D=await e.fnResetPassword(n.value);D.success?(e.showAlert({title:"  ",message:"    .",icon:""}),g()):e.showAlert({title:" ",message:D.error,icon:""})},C=async()=>{if(!n.value||!r.value){e.showAlert({title:"",message:"  .",icon:""});return}if(i.value){if(r.value!==s.value){e.showAlert({title:"",message:"  .",icon:""});return}const D=await e.fnSignUp(n.value,r.value);D.success||e.showAlert({title:" ",message:D.error,icon:""})}else{const D=await e.fnLogin(n.value,r.value);if(!D.success){let O=" ",N="";D.needVerification?(O="  ",N=""):D.needApproval&&(O=" ",N=""),e.showAlert({title:O,message:D.error,icon:N}),r.value=""}}};return(D,O)=>(Oe(),dt("div",uV,[me("div",hV,[O[13]||(O[13]=me("div",{class:"icon"},"",-1)),O[14]||(O[14]=me("p",{class:"l_logo"},"numerologyTarot",-1)),He(li,{name:"l_fade",mode:"out-in"},{default:Lr(()=>[(Oe(),dt("h2",{class:"tit",key:h.value},sn(u.value),1))]),_:1}),He(li,{name:"l_fade",mode:"out-in"},{default:Lr(()=>[ce(e).pendingVerificationEmail?(Oe(),dt("div",fV,[O[6]||(O[6]=me("p",{class:"notice_icon"},"",-1)),O[7]||(O[7]=me("p",{class:"notice_tit"},"  ",-1)),me("p",dV,sn(ce(e).pendingVerificationEmail)+"    .",1),me("button",{class:"btn",onClick:g}," ")])):o.value?(Oe(),dt("div",pV,[me("div",gV,[Xi(me("input",{class:"ipt","onUpdate:modelValue":O[0]||(O[0]=N=>n.value=N),type:"email",placeholder:"",onKeyup:Ta(A,["enter"])},null,544),[[oc,n.value]]),me("button",{class:"btn",onClick:A,disabled:ce(e).authLoading},sn(ce(e).authLoading?" ...":"   "),9,mV)]),me("div",{class:"bx_member"},[me("button",{class:"link_member",onClick:g}," ")])])):(Oe(),dt("div",{key:i.value?"signup":"login"},[me("div",_V,[Xi(me("input",{class:"ipt","onUpdate:modelValue":O[1]||(O[1]=N=>n.value=N),type:"email",placeholder:"",onKeyup:Ta(C,["enter"])},null,544),[[oc,n.value]]),me("div",yV,[Xi(me("input",{class:"ipt","onUpdate:modelValue":O[2]||(O[2]=N=>r.value=N),type:c.value?"text":"password",placeholder:"",onKeyup:Ta(C,["enter"])},null,40,EV),[[ip,r.value]]),me("button",{type:"button",class:ds(["btn_eye",{on:c.value}]),onClick:O[3]||(O[3]=N=>c.value=!c.value)},null,2)]),i.value?(Oe(),dt("div",vV,[Xi(me("input",{class:"ipt","onUpdate:modelValue":O[4]||(O[4]=N=>s.value=N),type:l.value?"text":"password",placeholder:" ",onKeyup:Ta(C,["enter"])},null,40,TV),[[ip,s.value]]),me("button",{type:"button",class:ds(["btn_eye",{on:l.value}]),onClick:O[5]||(O[5]=N=>l.value=!l.value)},null,2)])):br("",!0),me("button",{class:"btn",onClick:C,disabled:ce(e).authLoading},sn(ce(e).authLoading?" ...":i.value?"":" "),9,wV)]),i.value?(Oe(),dt("div",IV,[O[8]||(O[8]=me("span",null,"  ?",-1)),O[9]||(O[9]=rc()),me("button",{class:"link_member",onClick:d},"")])):(Oe(),dt("div",bV,[O[10]||(O[10]=me("span",null," ?",-1)),O[11]||(O[11]=rc()),me("button",{class:"link_member",onClick:d},""),O[12]||(O[12]=me("span",{class:"divider"},"|",-1)),me("button",{class:"link_member",onClick:m}," ")]))]))]),_:1})])]))}},RV=["innerHTML"],SV=["innerHTML"],CV=["innerHTML"],PV={class:"m_buttons"},kV={__name:"AlertModal",setup(t){const e=ta(),n=()=>{e.closeAlert()},r=s=>{e.alertData.isVisible&&(s.key==="Enter"||s.key==="Escape")&&(s.preventDefault(),n())};return Wn(()=>e.alertData.isVisible,s=>{s?window.addEventListener("keydown",r):window.removeEventListener("keydown",r)}),Wc(()=>{window.removeEventListener("keydown",r)}),(s,i)=>(Oe(),zt(li,{name:"m_fade"},{default:Lr(()=>[ce(e).alertData.isVisible?(Oe(),dt("div",{key:0,class:"modal",onClick:n},[me("div",{class:"m_container",onClick:i[0]||(i[0]=K_(()=>{},["stop"]))},[ce(e).alertData.icon!==""?(Oe(),dt("div",{key:0,class:"m_icon",innerHTML:ce(e).alertData.icon},null,8,RV)):br("",!0),ce(e).alertData.title!==""?(Oe(),dt("h2",{key:1,class:"m_title",innerHTML:ce(e).alertData.title},null,8,SV)):br("",!0),ce(e).alertData.message!==""?(Oe(),dt("p",{key:2,class:"m_message",innerHTML:ce(e).alertData.message},null,8,CV)):br("",!0),me("div",PV,[me("button",{class:"btn-confirm",onClick:n},sn(ce(e).alertData.confirmText),1)])])])):br("",!0)]),_:1}))}},NV=["innerHTML"],OV=["innerHTML"],DV=["innerHTML"],VV={class:"m_buttons"},xV={__name:"ConfirmModal",setup(t){const e=ta(),n=()=>{e.handleConfirm()},r=()=>{e.handleCancel()},s=i=>{e.confirmData.isVisible&&(i.key==="Enter"?(i.preventDefault(),n()):i.key==="Escape"&&(i.preventDefault(),r()))};return Wn(()=>e.confirmData.isVisible,i=>{i?window.addEventListener("keydown",s):window.removeEventListener("keydown",s)}),Wc(()=>{window.removeEventListener("keydown",s)}),(i,o)=>(Oe(),zt(li,{name:"m_fade"},{default:Lr(()=>[ce(e).confirmData.isVisible?(Oe(),dt("div",{key:0,class:"modal",onClick:r},[me("div",{class:"m_container",onClick:o[0]||(o[0]=K_(()=>{},["stop"]))},[me("div",{class:"m_icon",innerHTML:ce(e).confirmData.icon},null,8,NV),me("h2",{class:"m_title",innerHTML:ce(e).confirmData.title},null,8,OV),ce(e).confirmData.message!==""?(Oe(),dt("p",{key:0,class:"m_message",innerHTML:ce(e).confirmData.message},null,8,DV)):br("",!0),me("div",VV,[me("button",{class:"btn-cancel",onClick:r},sn(ce(e).confirmData.cancelText),1),me("button",{class:"btn-confirm",onClick:n},sn(ce(e).confirmData.confirmText),1)])])])):br("",!0)]),_:1}))}},LV=uT(xV,[["__scopeId","data-v-19db4dd1"]]),MV={__name:"app",setup(t){const e=ta();return qc(()=>{e.checkAuth(),setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.setAppLoading(!1)})})},1200)}),(n,r)=>{const s=ZD,i=tV,o=cV,c=AV,l=kV,h=LV;return Oe(),dt("div",null,[He(s),Xi(me("div",null,[ce(e).isLoggedIn?(Oe(),zt(o,{key:0},{default:Lr(()=>[He(i)]),_:1})):(Oe(),zt(c,{key:1}))],512),[[qI,!ce(e).loader.isAppLoading]]),He(l),He(h)])}}},FV={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error,r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),c=void 0,u=s?kd(()=>Bu(()=>import("./Cnm9l_u8.js"),__vite__mapDeps([0,1,2]),import.meta.url)):kd(()=>Bu(()=>import("./Du2ZO-lt.js"),__vite__mapDeps([3,1,4]),import.meta.url));return(d,g)=>(Oe(),zt(ce(u),$T(F_({statusCode:ce(r),statusMessage:ce(i),description:ce(o),stack:ce(c)})),null,16))}},UV={key:0},Im={__name:"nuxt-root",setup(t){const e=()=>null,n=Ue(),r=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",r);Wt().beforeEach(h)}const s=!1;Cr(ms,Qc()),n.hooks.callHookWith(h=>h.map(u=>u()),"vue:setup");const i=Jc(),o=!1,c=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;f_((h,u,d)=>{if(n.hooks.callHook("vue:error",h,u,d).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),c.test(navigator.userAgent))return n.hooks.callHook("app:error",h),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,h),!1;if(py(h)&&(h.fatal||h.unhandled))return n.runWithContext(()=>ss(h)),!1});const l=!1;return(h,u)=>(Oe(),zt(Oh,{onResolve:ce(r)},{default:Lr(()=>[ce(o)?(Oe(),dt("div",UV)):ce(i)?(Oe(),zt(ce(FV),{key:1,error:ce(i)},null,8,["error"])):ce(l)?(Oe(),zt(ce(e),{key:2,context:ce(l)},null,8,["context"])):ce(s)?(Oe(),zt(Gw(ce(s)),{key:3})):(Oe(),zt(ce(MV),{key:4}))]),_:1},8,["onResolve"]))}};let bm;{let t;bm=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?gb(Im):pb(Im),s=AA({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=hs(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&dp.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(dp.id)?.remove()});try{await CA(s,KD)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(wA),await s.hooks.callHook("app:mounted",r),await xr()}catch(o){i(o)}return r},t=bm().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{jV as $,sn as A,He as B,Lr as C,rc as D,GV as E,Hc as F,_t as G,Ty as H,pw as I,qV as J,Is as K,Hw as L,Wc as M,Wn as N,GT as O,Eh as P,Ew as Q,xr as R,hs as S,ce as T,pu as U,tr as V,WV as W,Sm as X,ta as Y,Lt as Z,uT as _,Ue as a,ds as a0,Xi as a1,ob as a2,ib as a3,oc as a4,K_ as a5,Bu as a6,zt as a7,br as a8,Uc as a9,li as aa,HV as ab,qh as b,Kp as c,Wr as d,Ho as e,zV as f,BV as g,St as h,UA as i,fC as j,Rt as k,bs as l,xh as m,$o as n,qc as o,J_ as p,KV as q,lt as r,si as s,lc as t,Wt as u,$V as v,jb as w,dt as x,Oe as y,me as z};
